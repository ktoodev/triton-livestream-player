!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=13)}([function(t,e,n){(function(t){var n;function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
/*!
 * jQuery JavaScript Library v3.6.0
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2021-03-02T17:08Z
 */!function(e,n){"use strict";"object"===r(t)&&"object"===r(t.exports)?t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(e)}("undefined"!=typeof window?window:this,(function(i,o){"use strict";var a=[],s=Object.getPrototypeOf,u=a.slice,l=a.flat?function(t){return a.flat.call(t)}:function(t){return a.concat.apply([],t)},c=a.push,d=a.indexOf,h={},f=h.toString,p=h.hasOwnProperty,g=p.toString,m=g.call(Object),v={},y=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType&&"function"!=typeof t.item},_=function(t){return null!=t&&t===t.window},b=i.document,E={type:!0,src:!0,nonce:!0,noModule:!0};function A(t,e,n){var r,i,o=(n=n||b).createElement("script");if(o.text=t,e)for(r in E)(i=e[r]||e.getAttribute&&e.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function T(t){return null==t?t+"":"object"===r(t)||"function"==typeof t?h[f.call(t)]||"object":r(t)}var S=function t(e,n){return new t.fn.init(e,n)};function w(t){var e=!!t&&"length"in t&&t.length,n=T(t);return!y(t)&&!_(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}S.fn=S.prototype={jquery:"3.6.0",constructor:S,length:0,toArray:function(){return u.call(this)},get:function(t){return null==t?u.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=S.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return S.each(this,t)},map:function(t){return this.pushStack(S.map(this,(function(e,n){return t.call(e,n,e)})))},slice:function(){return this.pushStack(u.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(S.grep(this,(function(t,e){return(e+1)%2})))},odd:function(){return this.pushStack(S.grep(this,(function(t,e){return e%2})))},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:a.sort,splice:a.splice},S.extend=S.fn.extend=function(){var t,e,n,i,o,a,s=arguments[0]||{},u=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[u]||{},u++),"object"===r(s)||y(s)||(s={}),u===l&&(s=this,u--);u<l;u++)if(null!=(t=arguments[u]))for(e in t)i=t[e],"__proto__"!==e&&s!==i&&(c&&i&&(S.isPlainObject(i)||(o=Array.isArray(i)))?(n=s[e],a=o&&!Array.isArray(n)?[]:o||S.isPlainObject(n)?n:{},o=!1,s[e]=S.extend(c,a,i)):void 0!==i&&(s[e]=i));return s},S.extend({expando:"jQuery"+("3.6.0"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==f.call(t))&&(!(e=s(t))||"function"==typeof(n=p.call(e,"constructor")&&e.constructor)&&g.call(n)===m)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e,n){A(t,{nonce:e&&e.nonce},n)},each:function(t,e){var n,r=0;if(w(t))for(n=t.length;r<n&&!1!==e.call(t[r],r,t[r]);r++);else for(r in t)if(!1===e.call(t[r],r,t[r]))break;return t},makeArray:function(t,e){var n=e||[];return null!=t&&(w(Object(t))?S.merge(n,"string"==typeof t?[t]:t):c.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:d.call(e,t,n)},merge:function(t,e){for(var n=+e.length,r=0,i=t.length;r<n;r++)t[i++]=e[r];return t.length=i,t},grep:function(t,e,n){for(var r=[],i=0,o=t.length,a=!n;i<o;i++)!e(t[i],i)!==a&&r.push(t[i]);return r},map:function(t,e,n){var r,i,o=0,a=[];if(w(t))for(r=t.length;o<r;o++)null!=(i=e(t[o],o,n))&&a.push(i);else for(o in t)null!=(i=e(t[o],o,n))&&a.push(i);return l(a)},guid:1,support:v}),"function"==typeof Symbol&&(S.fn[Symbol.iterator]=a[Symbol.iterator]),S.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(t,e){h["[object "+e+"]"]=e.toLowerCase()}));var C=
/*!
   * Sizzle CSS Selector Engine v2.3.6
   * https://sizzlejs.com/
   *
   * Copyright JS Foundation and other contributors
   * Released under the MIT license
   * https://js.foundation/
   *
   * Date: 2021-02-16
   */
function(t){var e,n,r,i,o,a,s,u,l,c,d,h,f,p,g,m,v,y,_,b="sizzle"+1*new Date,E=t.document,A=0,T=0,S=ut(),w=ut(),C=ut(),k=ut(),D=function(t,e){return t===e&&(d=!0),0},x={}.hasOwnProperty,L=[],P=L.pop,I=L.push,R=L.push,O=L.slice,M=function(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},N="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",F="[\\x20\\t\\r\\n\\f]",j="(?:\\\\[\\da-fA-F]{1,6}"+F+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",U="\\["+F+"*("+j+")(?:"+F+"*([*^$|!~]?=)"+F+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+j+"))|)"+F+"*\\]",B=":("+j+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+U+")*)|.*)\\)|)",H=new RegExp(F+"+","g"),G=new RegExp("^"+F+"+|((?:^|[^\\\\])(?:\\\\.)*)"+F+"+$","g"),V=new RegExp("^"+F+"*,"+F+"*"),W=new RegExp("^"+F+"*([>+~]|"+F+")"+F+"*"),q=new RegExp(F+"|>"),K=new RegExp(B),Y=new RegExp("^"+j+"$"),z={ID:new RegExp("^#("+j+")"),CLASS:new RegExp("^\\.("+j+")"),TAG:new RegExp("^("+j+"|[*])"),ATTR:new RegExp("^"+U),PSEUDO:new RegExp("^"+B),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+F+"*(even|odd|(([+-]|)(\\d*)n|)"+F+"*(?:([+-]|)"+F+"*(\\d+)|))"+F+"*\\)|)","i"),bool:new RegExp("^(?:"+N+")$","i"),needsContext:new RegExp("^"+F+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+F+"*((?:-\\d)?\\d*)"+F+"*\\)|)(?=[^-]|$)","i")},X=/HTML$/i,$=/^(?:input|select|textarea|button)$/i,Q=/^h\d$/i,J=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,tt=/[+~]/,et=new RegExp("\\\\[\\da-fA-F]{1,6}"+F+"?|\\\\([^\\r\\n\\f])","g"),nt=function(t,e){var n="0x"+t.slice(1)-65536;return e||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},rt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,it=function(t,e){return e?"\0"===t?"ï¿½":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},ot=function(){h()},at=bt((function(t){return!0===t.disabled&&"fieldset"===t.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{R.apply(L=O.call(E.childNodes),E.childNodes),L[E.childNodes.length].nodeType}catch(t){R={apply:L.length?function(t,e){I.apply(t,O.call(e))}:function(t,e){for(var n=t.length,r=0;t[n++]=e[r++];);t.length=n-1}}}function st(t,e,r,i){var o,s,l,c,d,p,v,y=e&&e.ownerDocument,E=e?e.nodeType:9;if(r=r||[],"string"!=typeof t||!t||1!==E&&9!==E&&11!==E)return r;if(!i&&(h(e),e=e||f,g)){if(11!==E&&(d=Z.exec(t)))if(o=d[1]){if(9===E){if(!(l=e.getElementById(o)))return r;if(l.id===o)return r.push(l),r}else if(y&&(l=y.getElementById(o))&&_(e,l)&&l.id===o)return r.push(l),r}else{if(d[2])return R.apply(r,e.getElementsByTagName(t)),r;if((o=d[3])&&n.getElementsByClassName&&e.getElementsByClassName)return R.apply(r,e.getElementsByClassName(o)),r}if(n.qsa&&!k[t+" "]&&(!m||!m.test(t))&&(1!==E||"object"!==e.nodeName.toLowerCase())){if(v=t,y=e,1===E&&(q.test(t)||W.test(t))){for((y=tt.test(t)&&vt(e.parentNode)||e)===e&&n.scope||((c=e.getAttribute("id"))?c=c.replace(rt,it):e.setAttribute("id",c=b)),s=(p=a(t)).length;s--;)p[s]=(c?"#"+c:":scope")+" "+_t(p[s]);v=p.join(",")}try{return R.apply(r,y.querySelectorAll(v)),r}catch(e){k(t,!0)}finally{c===b&&e.removeAttribute("id")}}}return u(t.replace(G,"$1"),e,r,i)}function ut(){var t=[];return function e(n,i){return t.push(n+" ")>r.cacheLength&&delete e[t.shift()],e[n+" "]=i}}function lt(t){return t[b]=!0,t}function ct(t){var e=f.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function dt(t,e){for(var n=t.split("|"),i=n.length;i--;)r.attrHandle[n[i]]=e}function ht(t,e){var n=e&&t,r=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function ft(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function pt(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function gt(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&at(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function mt(t){return lt((function(e){return e=+e,lt((function(n,r){for(var i,o=t([],n.length,e),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))}))}))}function vt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in n=st.support={},o=st.isXML=function(t){var e=t&&t.namespaceURI,n=t&&(t.ownerDocument||t).documentElement;return!X.test(e||n&&n.nodeName||"HTML")},h=st.setDocument=function(t){var e,i,a=t?t.ownerDocument||t:E;return a!=f&&9===a.nodeType&&a.documentElement?(p=(f=a).documentElement,g=!o(f),E!=f&&(i=f.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",ot,!1):i.attachEvent&&i.attachEvent("onunload",ot)),n.scope=ct((function(t){return p.appendChild(t).appendChild(f.createElement("div")),void 0!==t.querySelectorAll&&!t.querySelectorAll(":scope fieldset div").length})),n.attributes=ct((function(t){return t.className="i",!t.getAttribute("className")})),n.getElementsByTagName=ct((function(t){return t.appendChild(f.createComment("")),!t.getElementsByTagName("*").length})),n.getElementsByClassName=J.test(f.getElementsByClassName),n.getById=ct((function(t){return p.appendChild(t).id=b,!f.getElementsByName||!f.getElementsByName(b).length})),n.getById?(r.filter.ID=function(t){var e=t.replace(et,nt);return function(t){return t.getAttribute("id")===e}},r.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var n=e.getElementById(t);return n?[n]:[]}}):(r.filter.ID=function(t){var e=t.replace(et,nt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},r.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var n,r,i,o=e.getElementById(t);if(o){if((n=o.getAttributeNode("id"))&&n.value===t)return[o];for(i=e.getElementsByName(t),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===t)return[o]}return[]}}),r.find.TAG=n.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):n.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,r=[],i=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},r.find.CLASS=n.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&g)return e.getElementsByClassName(t)},v=[],m=[],(n.qsa=J.test(f.querySelectorAll))&&(ct((function(t){var e;p.appendChild(t).innerHTML="<a id='"+b+"'></a><select id='"+b+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+F+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||m.push("\\["+F+"*(?:value|"+N+")"),t.querySelectorAll("[id~="+b+"-]").length||m.push("~="),(e=f.createElement("input")).setAttribute("name",""),t.appendChild(e),t.querySelectorAll("[name='']").length||m.push("\\["+F+"*name"+F+"*="+F+"*(?:''|\"\")"),t.querySelectorAll(":checked").length||m.push(":checked"),t.querySelectorAll("a#"+b+"+*").length||m.push(".#.+[+~]"),t.querySelectorAll("\\\f"),m.push("[\\r\\n\\f]")})),ct((function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=f.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&m.push("name"+F+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),p.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),m.push(",.*:")}))),(n.matchesSelector=J.test(y=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&ct((function(t){n.disconnectedMatch=y.call(t,"*"),y.call(t,"[s!='']:x"),v.push("!=",B)})),m=m.length&&new RegExp(m.join("|")),v=v.length&&new RegExp(v.join("|")),e=J.test(p.compareDocumentPosition),_=e||J.test(p.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},D=e?function(t,e){if(t===e)return d=!0,0;var r=!t.compareDocumentPosition-!e.compareDocumentPosition;return r||(1&(r=(t.ownerDocument||t)==(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!n.sortDetached&&e.compareDocumentPosition(t)===r?t==f||t.ownerDocument==E&&_(E,t)?-1:e==f||e.ownerDocument==E&&_(E,e)?1:c?M(c,t)-M(c,e):0:4&r?-1:1)}:function(t,e){if(t===e)return d=!0,0;var n,r=0,i=t.parentNode,o=e.parentNode,a=[t],s=[e];if(!i||!o)return t==f?-1:e==f?1:i?-1:o?1:c?M(c,t)-M(c,e):0;if(i===o)return ht(t,e);for(n=t;n=n.parentNode;)a.unshift(n);for(n=e;n=n.parentNode;)s.unshift(n);for(;a[r]===s[r];)r++;return r?ht(a[r],s[r]):a[r]==E?-1:s[r]==E?1:0},f):f},st.matches=function(t,e){return st(t,null,null,e)},st.matchesSelector=function(t,e){if(h(t),n.matchesSelector&&g&&!k[e+" "]&&(!v||!v.test(e))&&(!m||!m.test(e)))try{var r=y.call(t,e);if(r||n.disconnectedMatch||t.document&&11!==t.document.nodeType)return r}catch(t){k(e,!0)}return st(e,f,null,[t]).length>0},st.contains=function(t,e){return(t.ownerDocument||t)!=f&&h(t),_(t,e)},st.attr=function(t,e){(t.ownerDocument||t)!=f&&h(t);var i=r.attrHandle[e.toLowerCase()],o=i&&x.call(r.attrHandle,e.toLowerCase())?i(t,e,!g):void 0;return void 0!==o?o:n.attributes||!g?t.getAttribute(e):(o=t.getAttributeNode(e))&&o.specified?o.value:null},st.escape=function(t){return(t+"").replace(rt,it)},st.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},st.uniqueSort=function(t){var e,r=[],i=0,o=0;if(d=!n.detectDuplicates,c=!n.sortStable&&t.slice(0),t.sort(D),d){for(;e=t[o++];)e===t[o]&&(i=r.push(o));for(;i--;)t.splice(r[i],1)}return c=null,t},i=st.getText=function(t){var e,n="",r=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=i(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[r++];)n+=i(e);return n},(r=st.selectors={cacheLength:50,createPseudo:lt,match:z,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(et,nt),t[3]=(t[3]||t[4]||t[5]||"").replace(et,nt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||st.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&st.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return z.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&K.test(n)&&(e=a(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(et,nt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=S[t+" "];return e||(e=new RegExp("(^|"+F+")"+t+"("+F+"|$)"))&&S(t,(function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")}))},ATTR:function(t,e,n){return function(r){var i=st.attr(r,t);return null==i?"!="===e:!e||(i+="","="===e?i===n:"!="===e?i!==n:"^="===e?n&&0===i.indexOf(n):"*="===e?n&&i.indexOf(n)>-1:"$="===e?n&&i.slice(-n.length)===n:"~="===e?(" "+i.replace(H," ")+" ").indexOf(n)>-1:"|="===e&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,r,i){var o="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===r&&0===i?function(t){return!!t.parentNode}:function(e,n,u){var l,c,d,h,f,p,g=o!==a?"nextSibling":"previousSibling",m=e.parentNode,v=s&&e.nodeName.toLowerCase(),y=!u&&!s,_=!1;if(m){if(o){for(;g;){for(h=e;h=h[g];)if(s?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;p=g="only"===t&&!p&&"nextSibling"}return!0}if(p=[a?m.firstChild:m.lastChild],a&&y){for(_=(f=(l=(c=(d=(h=m)[b]||(h[b]={}))[h.uniqueID]||(d[h.uniqueID]={}))[t]||[])[0]===A&&l[1])&&l[2],h=f&&m.childNodes[f];h=++f&&h&&h[g]||(_=f=0)||p.pop();)if(1===h.nodeType&&++_&&h===e){c[t]=[A,f,_];break}}else if(y&&(_=f=(l=(c=(d=(h=e)[b]||(h[b]={}))[h.uniqueID]||(d[h.uniqueID]={}))[t]||[])[0]===A&&l[1]),!1===_)for(;(h=++f&&h&&h[g]||(_=f=0)||p.pop())&&((s?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++_||(y&&((c=(d=h[b]||(h[b]={}))[h.uniqueID]||(d[h.uniqueID]={}))[t]=[A,_]),h!==e)););return(_-=i)===r||_%r==0&&_/r>=0}}},PSEUDO:function(t,e){var n,i=r.pseudos[t]||r.setFilters[t.toLowerCase()]||st.error("unsupported pseudo: "+t);return i[b]?i(e):i.length>1?(n=[t,t,"",e],r.setFilters.hasOwnProperty(t.toLowerCase())?lt((function(t,n){for(var r,o=i(t,e),a=o.length;a--;)t[r=M(t,o[a])]=!(n[r]=o[a])})):function(t){return i(t,0,n)}):i}},pseudos:{not:lt((function(t){var e=[],n=[],r=s(t.replace(G,"$1"));return r[b]?lt((function(t,e,n,i){for(var o,a=r(t,null,i,[]),s=t.length;s--;)(o=a[s])&&(t[s]=!(e[s]=o))})):function(t,i,o){return e[0]=t,r(e,null,o,n),e[0]=null,!n.pop()}})),has:lt((function(t){return function(e){return st(t,e).length>0}})),contains:lt((function(t){return t=t.replace(et,nt),function(e){return(e.textContent||i(e)).indexOf(t)>-1}})),lang:lt((function(t){return Y.test(t||"")||st.error("unsupported lang: "+t),t=t.replace(et,nt).toLowerCase(),function(e){var n;do{if(n=g?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===p},focus:function(t){return t===f.activeElement&&(!f.hasFocus||f.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:gt(!1),disabled:gt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!r.pseudos.empty(t)},header:function(t){return Q.test(t.nodeName)},input:function(t){return $.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:mt((function(){return[0]})),last:mt((function(t,e){return[e-1]})),eq:mt((function(t,e,n){return[n<0?n+e:n]})),even:mt((function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t})),odd:mt((function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t})),lt:mt((function(t,e,n){for(var r=n<0?n+e:n>e?e:n;--r>=0;)t.push(r);return t})),gt:mt((function(t,e,n){for(var r=n<0?n+e:n;++r<e;)t.push(r);return t}))}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[e]=ft(e);for(e in{submit:!0,reset:!0})r.pseudos[e]=pt(e);function yt(){}function _t(t){for(var e=0,n=t.length,r="";e<n;e++)r+=t[e].value;return r}function bt(t,e,n){var r=e.dir,i=e.next,o=i||r,a=n&&"parentNode"===o,s=T++;return e.first?function(e,n,i){for(;e=e[r];)if(1===e.nodeType||a)return t(e,n,i);return!1}:function(e,n,u){var l,c,d,h=[A,s];if(u){for(;e=e[r];)if((1===e.nodeType||a)&&t(e,n,u))return!0}else for(;e=e[r];)if(1===e.nodeType||a)if(c=(d=e[b]||(e[b]={}))[e.uniqueID]||(d[e.uniqueID]={}),i&&i===e.nodeName.toLowerCase())e=e[r]||e;else{if((l=c[o])&&l[0]===A&&l[1]===s)return h[2]=l[2];if(c[o]=h,h[2]=t(e,n,u))return!0}return!1}}function Et(t){return t.length>1?function(e,n,r){for(var i=t.length;i--;)if(!t[i](e,n,r))return!1;return!0}:t[0]}function At(t,e,n,r,i){for(var o,a=[],s=0,u=t.length,l=null!=e;s<u;s++)(o=t[s])&&(n&&!n(o,r,i)||(a.push(o),l&&e.push(s)));return a}function Tt(t,e,n,r,i,o){return r&&!r[b]&&(r=Tt(r)),i&&!i[b]&&(i=Tt(i,o)),lt((function(o,a,s,u){var l,c,d,h=[],f=[],p=a.length,g=o||function(t,e,n){for(var r=0,i=e.length;r<i;r++)st(t,e[r],n);return n}(e||"*",s.nodeType?[s]:s,[]),m=!t||!o&&e?g:At(g,h,t,s,u),v=n?i||(o?t:p||r)?[]:a:m;if(n&&n(m,v,s,u),r)for(l=At(v,f),r(l,[],s,u),c=l.length;c--;)(d=l[c])&&(v[f[c]]=!(m[f[c]]=d));if(o){if(i||t){if(i){for(l=[],c=v.length;c--;)(d=v[c])&&l.push(m[c]=d);i(null,v=[],l,u)}for(c=v.length;c--;)(d=v[c])&&(l=i?M(o,d):h[c])>-1&&(o[l]=!(a[l]=d))}}else v=At(v===a?v.splice(p,v.length):v),i?i(null,a,v,u):R.apply(a,v)}))}function St(t){for(var e,n,i,o=t.length,a=r.relative[t[0].type],s=a||r.relative[" "],u=a?1:0,c=bt((function(t){return t===e}),s,!0),d=bt((function(t){return M(e,t)>-1}),s,!0),h=[function(t,n,r){var i=!a&&(r||n!==l)||((e=n).nodeType?c(t,n,r):d(t,n,r));return e=null,i}];u<o;u++)if(n=r.relative[t[u].type])h=[bt(Et(h),n)];else{if((n=r.filter[t[u].type].apply(null,t[u].matches))[b]){for(i=++u;i<o&&!r.relative[t[i].type];i++);return Tt(u>1&&Et(h),u>1&&_t(t.slice(0,u-1).concat({value:" "===t[u-2].type?"*":""})).replace(G,"$1"),n,u<i&&St(t.slice(u,i)),i<o&&St(t=t.slice(i)),i<o&&_t(t))}h.push(n)}return Et(h)}return yt.prototype=r.filters=r.pseudos,r.setFilters=new yt,a=st.tokenize=function(t,e){var n,i,o,a,s,u,l,c=w[t+" "];if(c)return e?0:c.slice(0);for(s=t,u=[],l=r.preFilter;s;){for(a in n&&!(i=V.exec(s))||(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),n=!1,(i=W.exec(s))&&(n=i.shift(),o.push({value:n,type:i[0].replace(G," ")}),s=s.slice(n.length)),r.filter)!(i=z[a].exec(s))||l[a]&&!(i=l[a](i))||(n=i.shift(),o.push({value:n,type:a,matches:i}),s=s.slice(n.length));if(!n)break}return e?s.length:s?st.error(t):w(t,u).slice(0)},s=st.compile=function(t,e){var n,i=[],o=[],s=C[t+" "];if(!s){for(e||(e=a(t)),n=e.length;n--;)(s=St(e[n]))[b]?i.push(s):o.push(s);(s=C(t,function(t,e){var n=e.length>0,i=t.length>0,o=function(o,a,s,u,c){var d,p,m,v=0,y="0",_=o&&[],b=[],E=l,T=o||i&&r.find.TAG("*",c),S=A+=null==E?1:Math.random()||.1,w=T.length;for(c&&(l=a==f||a||c);y!==w&&null!=(d=T[y]);y++){if(i&&d){for(p=0,a||d.ownerDocument==f||(h(d),s=!g);m=t[p++];)if(m(d,a||f,s)){u.push(d);break}c&&(A=S)}n&&((d=!m&&d)&&v--,o&&_.push(d))}if(v+=y,n&&y!==v){for(p=0;m=e[p++];)m(_,b,a,s);if(o){if(v>0)for(;y--;)_[y]||b[y]||(b[y]=P.call(u));b=At(b)}R.apply(u,b),c&&!o&&b.length>0&&v+e.length>1&&st.uniqueSort(u)}return c&&(A=S,l=E),_};return n?lt(o):o}(o,i))).selector=t}return s},u=st.select=function(t,e,n,i){var o,u,l,c,d,h="function"==typeof t&&t,f=!i&&a(t=h.selector||t);if(n=n||[],1===f.length){if((u=f[0]=f[0].slice(0)).length>2&&"ID"===(l=u[0]).type&&9===e.nodeType&&g&&r.relative[u[1].type]){if(!(e=(r.find.ID(l.matches[0].replace(et,nt),e)||[])[0]))return n;h&&(e=e.parentNode),t=t.slice(u.shift().value.length)}for(o=z.needsContext.test(t)?0:u.length;o--&&(l=u[o],!r.relative[c=l.type]);)if((d=r.find[c])&&(i=d(l.matches[0].replace(et,nt),tt.test(u[0].type)&&vt(e.parentNode)||e))){if(u.splice(o,1),!(t=i.length&&_t(u)))return R.apply(n,i),n;break}}return(h||s(t,f))(i,e,!g,n,!e||tt.test(t)&&vt(e.parentNode)||e),n},n.sortStable=b.split("").sort(D).join("")===b,n.detectDuplicates=!!d,h(),n.sortDetached=ct((function(t){return 1&t.compareDocumentPosition(f.createElement("fieldset"))})),ct((function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")}))||dt("type|href|height|width",(function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)})),n.attributes&&ct((function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")}))||dt("value",(function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue})),ct((function(t){return null==t.getAttribute("disabled")}))||dt(N,(function(t,e,n){var r;if(!n)return!0===t[e]?e.toLowerCase():(r=t.getAttributeNode(e))&&r.specified?r.value:null})),st}(i);S.find=C,(S.expr=C.selectors)[":"]=S.expr.pseudos,S.uniqueSort=S.unique=C.uniqueSort,S.text=C.getText,S.isXMLDoc=C.isXML,S.contains=C.contains,S.escapeSelector=C.escape;var k=function(t,e,n){for(var r=[],i=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(i&&S(t).is(n))break;r.push(t)}return r},D=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},x=S.expr.match.needsContext;function L(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var P=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function I(t,e,n){return y(e)?S.grep(t,(function(t,r){return!!e.call(t,r,t)!==n})):e.nodeType?S.grep(t,(function(t){return t===e!==n})):"string"!=typeof e?S.grep(t,(function(t){return d.call(e,t)>-1!==n})):S.filter(e,t,n)}S.filter=function(t,e,n){var r=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?S.find.matchesSelector(r,t)?[r]:[]:S.find.matches(t,S.grep(e,(function(t){return 1===t.nodeType})))},S.fn.extend({find:function(t){var e,n,r=this.length,i=this;if("string"!=typeof t)return this.pushStack(S(t).filter((function(){for(e=0;e<r;e++)if(S.contains(i[e],this))return!0})));for(n=this.pushStack([]),e=0;e<r;e++)S.find(t,i[e],n);return r>1?S.uniqueSort(n):n},filter:function(t){return this.pushStack(I(this,t||[],!1))},not:function(t){return this.pushStack(I(this,t||[],!0))},is:function(t){return!!I(this,"string"==typeof t&&x.test(t)?S(t):t||[],!1).length}});var R,O=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(S.fn.init=function(t,e,n){var r,i;if(!t)return this;if(n=n||R,"string"==typeof t){if(!(r="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:O.exec(t))||!r[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(r[1]){if(e=e instanceof S?e[0]:e,S.merge(this,S.parseHTML(r[1],e&&e.nodeType?e.ownerDocument||e:b,!0)),P.test(r[1])&&S.isPlainObject(e))for(r in e)y(this[r])?this[r](e[r]):this.attr(r,e[r]);return this}return(i=b.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):y(t)?void 0!==n.ready?n.ready(t):t(S):S.makeArray(t,this)}).prototype=S.fn,R=S(b);var M=/^(?:parents|prev(?:Until|All))/,N={children:!0,contents:!0,next:!0,prev:!0};function F(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}S.fn.extend({has:function(t){var e=S(t,this),n=e.length;return this.filter((function(){for(var t=0;t<n;t++)if(S.contains(this,e[t]))return!0}))},closest:function(t,e){var n,r=0,i=this.length,o=[],a="string"!=typeof t&&S(t);if(!x.test(t))for(;r<i;r++)for(n=this[r];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&S.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?S.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?d.call(S(t),this[0]):d.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(S.uniqueSort(S.merge(this.get(),S(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),S.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return k(t,"parentNode")},parentsUntil:function(t,e,n){return k(t,"parentNode",n)},next:function(t){return F(t,"nextSibling")},prev:function(t){return F(t,"previousSibling")},nextAll:function(t){return k(t,"nextSibling")},prevAll:function(t){return k(t,"previousSibling")},nextUntil:function(t,e,n){return k(t,"nextSibling",n)},prevUntil:function(t,e,n){return k(t,"previousSibling",n)},siblings:function(t){return D((t.parentNode||{}).firstChild,t)},children:function(t){return D(t.firstChild)},contents:function(t){return null!=t.contentDocument&&s(t.contentDocument)?t.contentDocument:(L(t,"template")&&(t=t.content||t),S.merge([],t.childNodes))}},(function(t,e){S.fn[t]=function(n,r){var i=S.map(this,e,n);return"Until"!==t.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=S.filter(r,i)),this.length>1&&(N[t]||S.uniqueSort(i),M.test(t)&&i.reverse()),this.pushStack(i)}}));var j=/[^\x20\t\r\n\f]+/g;function U(t){return t}function B(t){throw t}function H(t,e,n,r){var i;try{t&&y(i=t.promise)?i.call(t).done(e).fail(n):t&&y(i=t.then)?i.call(t,e,n):e.apply(void 0,[t].slice(r))}catch(t){n.apply(void 0,[t])}}S.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return S.each(t.match(j)||[],(function(t,n){e[n]=!0})),e}(t):S.extend({},t);var e,n,r,i,o=[],a=[],s=-1,u=function(){for(i=i||t.once,r=e=!0;a.length;s=-1)for(n=a.shift();++s<o.length;)!1===o[s].apply(n[0],n[1])&&t.stopOnFalse&&(s=o.length,n=!1);t.memory||(n=!1),e=!1,i&&(o=n?[]:"")},l={add:function(){return o&&(n&&!e&&(s=o.length-1,a.push(n)),function e(n){S.each(n,(function(n,r){y(r)?t.unique&&l.has(r)||o.push(r):r&&r.length&&"string"!==T(r)&&e(r)}))}(arguments),n&&!e&&u()),this},remove:function(){return S.each(arguments,(function(t,e){for(var n;(n=S.inArray(e,o,n))>-1;)o.splice(n,1),n<=s&&s--})),this},has:function(t){return t?S.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=a=[],n||e||(o=n=""),this},locked:function(){return!!i},fireWith:function(t,n){return i||(n=[t,(n=n||[]).slice?n.slice():n],a.push(n),e||u()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!r}};return l},S.extend({Deferred:function(t){var e=[["notify","progress",S.Callbacks("memory"),S.Callbacks("memory"),2],["resolve","done",S.Callbacks("once memory"),S.Callbacks("once memory"),0,"resolved"],["reject","fail",S.Callbacks("once memory"),S.Callbacks("once memory"),1,"rejected"]],n="pending",o={state:function(){return n},always:function(){return a.done(arguments).fail(arguments),this},catch:function(t){return o.then(null,t)},pipe:function(){var t=arguments;return S.Deferred((function(n){S.each(e,(function(e,r){var i=y(t[r[4]])&&t[r[4]];a[r[1]]((function(){var t=i&&i.apply(this,arguments);t&&y(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this,i?[t]:arguments)}))})),t=null})).promise()},then:function(t,n,o){var a=0;function s(t,e,n,o){return function(){var u=this,l=arguments,c=function(){var i,c;if(!(t<a)){if((i=n.apply(u,l))===e.promise())throw new TypeError("Thenable self-resolution");c=i&&("object"===r(i)||"function"==typeof i)&&i.then,y(c)?o?c.call(i,s(a,e,U,o),s(a,e,B,o)):(a++,c.call(i,s(a,e,U,o),s(a,e,B,o),s(a,e,U,e.notifyWith))):(n!==U&&(u=void 0,l=[i]),(o||e.resolveWith)(u,l))}},d=o?c:function(){try{c()}catch(r){S.Deferred.exceptionHook&&S.Deferred.exceptionHook(r,d.stackTrace),t+1>=a&&(n!==B&&(u=void 0,l=[r]),e.rejectWith(u,l))}};t?d():(S.Deferred.getStackHook&&(d.stackTrace=S.Deferred.getStackHook()),i.setTimeout(d))}}return S.Deferred((function(r){e[0][3].add(s(0,r,y(o)?o:U,r.notifyWith)),e[1][3].add(s(0,r,y(t)?t:U)),e[2][3].add(s(0,r,y(n)?n:B))})).promise()},promise:function(t){return null!=t?S.extend(t,o):o}},a={};return S.each(e,(function(t,r){var i=r[2],s=r[5];o[r[1]]=i.add,s&&i.add((function(){n=s}),e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock),i.add(r[3].fire),a[r[0]]=function(){return a[r[0]+"With"](this===a?void 0:this,arguments),this},a[r[0]+"With"]=i.fireWith})),o.promise(a),t&&t.call(a,a),a},when:function(t){var e=arguments.length,n=e,r=Array(n),i=u.call(arguments),o=S.Deferred(),a=function(t){return function(n){r[t]=this,i[t]=arguments.length>1?u.call(arguments):n,--e||o.resolveWith(r,i)}};if(e<=1&&(H(t,o.done(a(n)).resolve,o.reject,!e),"pending"===o.state()||y(i[n]&&i[n].then)))return o.then();for(;n--;)H(i[n],a(n),o.reject);return o.promise()}});var G=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;S.Deferred.exceptionHook=function(t,e){i.console&&i.console.warn&&t&&G.test(t.name)&&i.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},S.readyException=function(t){i.setTimeout((function(){throw t}))};var V=S.Deferred();function W(){b.removeEventListener("DOMContentLoaded",W),i.removeEventListener("load",W),S.ready()}S.fn.ready=function(t){return V.then(t).catch((function(t){S.readyException(t)})),this},S.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--S.readyWait:S.isReady)||(S.isReady=!0,!0!==t&&--S.readyWait>0||V.resolveWith(b,[S]))}}),S.ready.then=V.then,"complete"===b.readyState||"loading"!==b.readyState&&!b.documentElement.doScroll?i.setTimeout(S.ready):(b.addEventListener("DOMContentLoaded",W),i.addEventListener("load",W));var q=function t(e,n,r,i,o,a,s){var u=0,l=e.length,c=null==r;if("object"===T(r))for(u in o=!0,r)t(e,n,u,r[u],!0,a,s);else if(void 0!==i&&(o=!0,y(i)||(s=!0),c&&(s?(n.call(e,i),n=null):(c=n,n=function(t,e,n){return c.call(S(t),n)})),n))for(;u<l;u++)n(e[u],r,s?i:i.call(e[u],u,n(e[u],r)));return o?e:c?n.call(e):l?n(e[0],r):a},K=/^-ms-/,Y=/-([a-z])/g;function z(t,e){return e.toUpperCase()}function X(t){return t.replace(K,"ms-").replace(Y,z)}var $=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function Q(){this.expando=S.expando+Q.uid++}Q.uid=1,Q.prototype={cache:function(t){var e=t[this.expando];return e||(e={},$(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var r,i=this.cache(t);if("string"==typeof e)i[X(e)]=n;else for(r in e)i[X(r)]=e[r];return i},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][X(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,r=t[this.expando];if(void 0!==r){if(void 0!==e){n=(e=Array.isArray(e)?e.map(X):(e=X(e))in r?[e]:e.match(j)||[]).length;for(;n--;)delete r[e[n]]}(void 0===e||S.isEmptyObject(r))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!S.isEmptyObject(e)}};var J=new Q,Z=new Q,tt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,et=/[A-Z]/g;function nt(t,e,n){var r;if(void 0===n&&1===t.nodeType)if(r="data-"+e.replace(et,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(r))){try{n=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:tt.test(t)?JSON.parse(t):t)}(n)}catch(t){}Z.set(t,e,n)}else n=void 0;return n}S.extend({hasData:function(t){return Z.hasData(t)||J.hasData(t)},data:function(t,e,n){return Z.access(t,e,n)},removeData:function(t,e){Z.remove(t,e)},_data:function(t,e,n){return J.access(t,e,n)},_removeData:function(t,e){J.remove(t,e)}}),S.fn.extend({data:function(t,e){var n,i,o,a=this[0],s=a&&a.attributes;if(void 0===t){if(this.length&&(o=Z.get(a),1===a.nodeType&&!J.get(a,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(i=s[n].name).indexOf("data-")&&(i=X(i.slice(5)),nt(a,i,o[i]));J.set(a,"hasDataAttrs",!0)}return o}return"object"===r(t)?this.each((function(){Z.set(this,t)})):q(this,(function(e){var n;if(a&&void 0===e)return void 0!==(n=Z.get(a,t))||void 0!==(n=nt(a,t))?n:void 0;this.each((function(){Z.set(this,t,e)}))}),null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each((function(){Z.remove(this,t)}))}}),S.extend({queue:function(t,e,n){var r;if(t)return e=(e||"fx")+"queue",r=J.get(t,e),n&&(!r||Array.isArray(n)?r=J.access(t,e,S.makeArray(n)):r.push(n)),r||[]},dequeue:function(t,e){var n=S.queue(t,e=e||"fx"),r=n.length,i=n.shift(),o=S._queueHooks(t,e);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===e&&n.unshift("inprogress"),delete o.stop,i.call(t,(function(){S.dequeue(t,e)}),o)),!r&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return J.get(t,n)||J.access(t,n,{empty:S.Callbacks("once memory").add((function(){J.remove(t,[e+"queue",n])}))})}}),S.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?S.queue(this[0],t):void 0===e?this:this.each((function(){var n=S.queue(this,t,e);S._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&S.dequeue(this,t)}))},dequeue:function(t){return this.each((function(){S.dequeue(this,t)}))},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,r=1,i=S.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)(n=J.get(o[a],t+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(e)}});var rt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,it=new RegExp("^(?:([+-])=|)("+rt+")([a-z%]*)$","i"),ot=["Top","Right","Bottom","Left"],at=b.documentElement,st=function(t){return S.contains(t.ownerDocument,t)},ut={composed:!0};at.getRootNode&&(st=function(t){return S.contains(t.ownerDocument,t)||t.getRootNode(ut)===t.ownerDocument});var lt=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&st(t)&&"none"===S.css(t,"display")};function ct(t,e,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return S.css(t,e,"")},u=s(),l=n&&n[3]||(S.cssNumber[e]?"":"px"),c=t.nodeType&&(S.cssNumber[e]||"px"!==l&&+u)&&it.exec(S.css(t,e));if(c&&c[3]!==l){for(u/=2,l=l||c[3],c=+u||1;a--;)S.style(t,e,c+l),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),c/=o;S.style(t,e,(c*=2)+l),n=n||[]}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}var dt={};function ht(t){var e,n=t.ownerDocument,r=t.nodeName,i=dt[r];return i||(e=n.body.appendChild(n.createElement(r)),i=S.css(e,"display"),e.parentNode.removeChild(e),"none"===i&&(i="block"),dt[r]=i,i)}function ft(t,e){for(var n,r,i=[],o=0,a=t.length;o<a;o++)(r=t[o]).style&&(n=r.style.display,e?("none"===n&&(i[o]=J.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&lt(r)&&(i[o]=ht(r))):"none"!==n&&(i[o]="none",J.set(r,"display",n)));for(o=0;o<a;o++)null!=i[o]&&(t[o].style.display=i[o]);return t}S.fn.extend({show:function(){return ft(this,!0)},hide:function(){return ft(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each((function(){lt(this)?S(this).show():S(this).hide()}))}});var pt,gt,mt=/^(?:checkbox|radio)$/i,vt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,yt=/^$|^module$|\/(?:java|ecma)script/i;pt=b.createDocumentFragment().appendChild(b.createElement("div")),(gt=b.createElement("input")).setAttribute("type","radio"),gt.setAttribute("checked","checked"),gt.setAttribute("name","t"),pt.appendChild(gt),v.checkClone=pt.cloneNode(!0).cloneNode(!0).lastChild.checked,pt.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!pt.cloneNode(!0).lastChild.defaultValue,pt.innerHTML="<option></option>",v.option=!!pt.lastChild;var _t={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function bt(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&L(t,e)?S.merge([t],n):n}function Et(t,e){for(var n=0,r=t.length;n<r;n++)J.set(t[n],"globalEval",!e||J.get(e[n],"globalEval"))}_t.tbody=_t.tfoot=_t.colgroup=_t.caption=_t.thead,_t.th=_t.td,v.option||(_t.optgroup=_t.option=[1,"<select multiple='multiple'>","</select>"]);var At=/<|&#?\w+;/;function Tt(t,e,n,r,i){for(var o,a,s,u,l,c,d=e.createDocumentFragment(),h=[],f=0,p=t.length;f<p;f++)if((o=t[f])||0===o)if("object"===T(o))S.merge(h,o.nodeType?[o]:o);else if(At.test(o)){for(a=a||d.appendChild(e.createElement("div")),s=(vt.exec(o)||["",""])[1].toLowerCase(),u=_t[s]||_t._default,a.innerHTML=u[1]+S.htmlPrefilter(o)+u[2],c=u[0];c--;)a=a.lastChild;S.merge(h,a.childNodes),(a=d.firstChild).textContent=""}else h.push(e.createTextNode(o));for(d.textContent="",f=0;o=h[f++];)if(r&&S.inArray(o,r)>-1)i&&i.push(o);else if(l=st(o),a=bt(d.appendChild(o),"script"),l&&Et(a),n)for(c=0;o=a[c++];)yt.test(o.type||"")&&n.push(o);return d}var St=/^([^.]*)(?:\.(.+)|)/;function wt(){return!0}function Ct(){return!1}function kt(t,e){return t===function(){try{return b.activeElement}catch(t){}}()==("focus"===e)}function Dt(t,e,n,i,o,a){var s,u;if("object"===r(e)){for(u in"string"!=typeof n&&(i=i||n,n=void 0),e)Dt(t,u,n,i,e[u],a);return t}if(null==i&&null==o?(o=n,i=n=void 0):null==o&&("string"==typeof n?(o=i,i=void 0):(o=i,i=n,n=void 0)),!1===o)o=Ct;else if(!o)return t;return 1===a&&(s=o,(o=function(t){return S().off(t),s.apply(this,arguments)}).guid=s.guid||(s.guid=S.guid++)),t.each((function(){S.event.add(this,e,o,i,n)}))}function xt(t,e,n){n?(J.set(t,e,!1),S.event.add(t,e,{namespace:!1,handler:function(t){var r,i,o=J.get(this,e);if(1&t.isTrigger&&this[e]){if(o.length)(S.event.special[e]||{}).delegateType&&t.stopPropagation();else if(o=u.call(arguments),J.set(this,e,o),r=n(this,e),this[e](),o!==(i=J.get(this,e))||r?J.set(this,e,!1):i={},o!==i)return t.stopImmediatePropagation(),t.preventDefault(),i&&i.value}else o.length&&(J.set(this,e,{value:S.event.trigger(S.extend(o[0],S.Event.prototype),o.slice(1),this)}),t.stopImmediatePropagation())}})):void 0===J.get(t,e)&&S.event.add(t,e,wt)}S.event={global:{},add:function(t,e,n,r,i){var o,a,s,u,l,c,d,h,f,p,g,m=J.get(t);if($(t))for(n.handler&&(n=(o=n).handler,i=o.selector),i&&S.find.matchesSelector(at,i),n.guid||(n.guid=S.guid++),(u=m.events)||(u=m.events=Object.create(null)),(a=m.handle)||(a=m.handle=function(e){return void 0!==S&&S.event.triggered!==e.type?S.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(j)||[""]).length;l--;)f=g=(s=St.exec(e[l])||[])[1],p=(s[2]||"").split(".").sort(),f&&(d=S.event.special[f]||{},f=(i?d.delegateType:d.bindType)||f,d=S.event.special[f]||{},c=S.extend({type:f,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&S.expr.match.needsContext.test(i),namespace:p.join(".")},o),(h=u[f])||((h=u[f]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(t,r,p,a)||t.addEventListener&&t.addEventListener(f,a)),d.add&&(d.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),i?h.splice(h.delegateCount++,0,c):h.push(c),S.event.global[f]=!0)},remove:function(t,e,n,r,i){var o,a,s,u,l,c,d,h,f,p,g,m=J.hasData(t)&&J.get(t);if(m&&(u=m.events)){for(l=(e=(e||"").match(j)||[""]).length;l--;)if(f=g=(s=St.exec(e[l])||[])[1],p=(s[2]||"").split(".").sort(),f){for(d=S.event.special[f]||{},h=u[f=(r?d.delegateType:d.bindType)||f]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=h.length;o--;)c=h[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(h.splice(o,1),c.selector&&h.delegateCount--,d.remove&&d.remove.call(t,c));a&&!h.length&&(d.teardown&&!1!==d.teardown.call(t,p,m.handle)||S.removeEvent(t,f,m.handle),delete u[f])}else for(f in u)S.event.remove(t,f+e[l],n,r,!0);S.isEmptyObject(u)&&J.remove(t,"handle events")}},dispatch:function(t){var e,n,r,i,o,a,s=new Array(arguments.length),u=S.event.fix(t),l=(J.get(this,"events")||Object.create(null))[u.type]||[],c=S.event.special[u.type]||{};for(s[0]=u,e=1;e<arguments.length;e++)s[e]=arguments[e];if(u.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,u)){for(a=S.event.handlers.call(this,u,l),e=0;(i=a[e++])&&!u.isPropagationStopped();)for(u.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!u.isImmediatePropagationStopped();)u.rnamespace&&!1!==o.namespace&&!u.rnamespace.test(o.namespace)||(u.handleObj=o,u.data=o.data,void 0!==(r=((S.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s))&&!1===(u.result=r)&&(u.preventDefault(),u.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,u),u.result}},handlers:function(t,e){var n,r,i,o,a,s=[],u=e.delegateCount,l=t.target;if(u&&l.nodeType&&!("click"===t.type&&t.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==t.type||!0!==l.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[i=(r=e[n]).selector+" "]&&(a[i]=r.needsContext?S(i,this).index(l)>-1:S.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,u<e.length&&s.push({elem:l,handlers:e.slice(u)}),s},addProp:function(t,e){Object.defineProperty(S.Event.prototype,t,{enumerable:!0,configurable:!0,get:y(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[S.expando]?t:new S.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return mt.test(e.type)&&e.click&&L(e,"input")&&xt(e,"click",wt),!1},trigger:function(t){var e=this||t;return mt.test(e.type)&&e.click&&L(e,"input")&&xt(e,"click"),!0},_default:function(t){var e=t.target;return mt.test(e.type)&&e.click&&L(e,"input")&&J.get(e,"click")||L(e,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},S.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},(S.Event=function(t,e){if(!(this instanceof S.Event))return new S.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?wt:Ct,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&S.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[S.expando]=!0}).prototype={constructor:S.Event,isDefaultPrevented:Ct,isPropagationStopped:Ct,isImmediatePropagationStopped:Ct,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=wt,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=wt,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=wt,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},S.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},S.event.addProp),S.each({focus:"focusin",blur:"focusout"},(function(t,e){S.event.special[t]={setup:function(){return xt(this,t,kt),!1},trigger:function(){return xt(this,t),!0},_default:function(){return!0},delegateType:e}})),S.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(t,e){S.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,r=this,i=t.relatedTarget,o=t.handleObj;return i&&(i===r||S.contains(r,i))||(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}})),S.fn.extend({on:function(t,e,n,r){return Dt(this,t,e,n,r)},one:function(t,e,n,r){return Dt(this,t,e,n,r,1)},off:function(t,e,n){var i,o;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,S(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"===r(t)){for(o in t)this.off(o,e,t[o]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=Ct),this.each((function(){S.event.remove(this,t,n,e)}))}});var Lt=/<script|<style|<link/i,Pt=/checked\s*(?:[^=]|=\s*.checked.)/i,It=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Rt(t,e){return L(t,"table")&&L(11!==e.nodeType?e:e.firstChild,"tr")&&S(t).children("tbody")[0]||t}function Ot(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Mt(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Nt(t,e){var n,r,i,o,a,s;if(1===e.nodeType){if(J.hasData(t)&&(s=J.get(t).events))for(i in J.remove(e,"handle events"),s)for(n=0,r=s[i].length;n<r;n++)S.event.add(e,i,s[i][n]);Z.hasData(t)&&(o=Z.access(t),a=S.extend({},o),Z.set(e,a))}}function Ft(t,e){var n=e.nodeName.toLowerCase();"input"===n&&mt.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function jt(t,e,n,r){e=l(e);var i,o,a,s,u,c,d=0,h=t.length,f=h-1,p=e[0],g=y(p);if(g||h>1&&"string"==typeof p&&!v.checkClone&&Pt.test(p))return t.each((function(i){var o=t.eq(i);g&&(e[0]=p.call(this,i,o.html())),jt(o,e,n,r)}));if(h&&(o=(i=Tt(e,t[0].ownerDocument,!1,t,r)).firstChild,1===i.childNodes.length&&(i=o),o||r)){for(s=(a=S.map(bt(i,"script"),Ot)).length;d<h;d++)u=i,d!==f&&(u=S.clone(u,!0,!0),s&&S.merge(a,bt(u,"script"))),n.call(t[d],u,d);if(s)for(c=a[a.length-1].ownerDocument,S.map(a,Mt),d=0;d<s;d++)u=a[d],yt.test(u.type||"")&&!J.access(u,"globalEval")&&S.contains(c,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?S._evalUrl&&!u.noModule&&S._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")},c):A(u.textContent.replace(It,""),u,c))}return t}function Ut(t,e,n){for(var r,i=e?S.filter(e,t):t,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||S.cleanData(bt(r)),r.parentNode&&(n&&st(r)&&Et(bt(r,"script")),r.parentNode.removeChild(r));return t}S.extend({htmlPrefilter:function(t){return t},clone:function(t,e,n){var r,i,o,a,s=t.cloneNode(!0),u=st(t);if(!(v.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||S.isXMLDoc(t)))for(a=bt(s),r=0,i=(o=bt(t)).length;r<i;r++)Ft(o[r],a[r]);if(e)if(n)for(o=o||bt(t),a=a||bt(s),r=0,i=o.length;r<i;r++)Nt(o[r],a[r]);else Nt(t,s);return(a=bt(s,"script")).length>0&&Et(a,!u&&bt(t,"script")),s},cleanData:function(t){for(var e,n,r,i=S.event.special,o=0;void 0!==(n=t[o]);o++)if($(n)){if(e=n[J.expando]){if(e.events)for(r in e.events)i[r]?S.event.remove(n,r):S.removeEvent(n,r,e.handle);n[J.expando]=void 0}n[Z.expando]&&(n[Z.expando]=void 0)}}}),S.fn.extend({detach:function(t){return Ut(this,t,!0)},remove:function(t){return Ut(this,t)},text:function(t){return q(this,(function(t){return void 0===t?S.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)}))}),null,t,arguments.length)},append:function(){return jt(this,arguments,(function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Rt(this,t).appendChild(t)}))},prepend:function(){return jt(this,arguments,(function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Rt(this,t);e.insertBefore(t,e.firstChild)}}))},before:function(){return jt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this)}))},after:function(){return jt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)}))},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(S.cleanData(bt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map((function(){return S.clone(this,t,e)}))},html:function(t){return q(this,(function(t){var e=this[0]||{},n=0,r=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Lt.test(t)&&!_t[(vt.exec(t)||["",""])[1].toLowerCase()]){t=S.htmlPrefilter(t);try{for(;n<r;n++)1===(e=this[n]||{}).nodeType&&(S.cleanData(bt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)}),null,t,arguments.length)},replaceWith:function(){var t=[];return jt(this,arguments,(function(e){var n=this.parentNode;S.inArray(this,t)<0&&(S.cleanData(bt(this)),n&&n.replaceChild(e,this))}),t)}}),S.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(t,e){S.fn[t]=function(t){for(var n,r=[],i=S(t),o=i.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),S(i[a])[e](n),c.apply(r,n.get());return this.pushStack(r)}}));var Bt=new RegExp("^("+rt+")(?!px)[a-z%]+$","i"),Ht=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=i),e.getComputedStyle(t)},Gt=function(t,e,n){var r,i,o={};for(i in e)o[i]=t.style[i],t.style[i]=e[i];for(i in r=n.call(t),e)t.style[i]=o[i];return r},Vt=new RegExp(ot.join("|"),"i");function Wt(t,e,n){var r,i,o,a,s=t.style;return(n=n||Ht(t))&&(""!==(a=n.getPropertyValue(e)||n[e])||st(t)||(a=S.style(t,e)),!v.pixelBoxStyles()&&Bt.test(a)&&Vt.test(e)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function qt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function t(){if(c){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",at.appendChild(l).appendChild(c);var t=i.getComputedStyle(c);n="1%"!==t.top,u=12===e(t.marginLeft),c.style.right="60%",a=36===e(t.right),r=36===e(t.width),c.style.position="absolute",o=12===e(c.offsetWidth/3),at.removeChild(l),c=null}}function e(t){return Math.round(parseFloat(t))}var n,r,o,a,s,u,l=b.createElement("div"),c=b.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===c.style.backgroundClip,S.extend(v,{boxSizingReliable:function(){return t(),r},pixelBoxStyles:function(){return t(),a},pixelPosition:function(){return t(),n},reliableMarginLeft:function(){return t(),u},scrollboxSize:function(){return t(),o},reliableTrDimensions:function(){var t,e,n,r;return null==s&&(t=b.createElement("table"),e=b.createElement("tr"),n=b.createElement("div"),t.style.cssText="position:absolute;left:-11111px;border-collapse:separate",e.style.cssText="border:1px solid",e.style.height="1px",n.style.height="9px",n.style.display="block",at.appendChild(t).appendChild(e).appendChild(n),r=i.getComputedStyle(e),s=parseInt(r.height,10)+parseInt(r.borderTopWidth,10)+parseInt(r.borderBottomWidth,10)===e.offsetHeight,at.removeChild(t)),s}}))}();var Kt=["Webkit","Moz","ms"],Yt=b.createElement("div").style,zt={};function Xt(t){var e=S.cssProps[t]||zt[t];return e||(t in Yt?t:zt[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),n=Kt.length;n--;)if((t=Kt[n]+e)in Yt)return t}(t)||t)}var $t=/^(none|table(?!-c[ea]).+)/,Qt=/^--/,Jt={position:"absolute",visibility:"hidden",display:"block"},Zt={letterSpacing:"0",fontWeight:"400"};function te(t,e,n){var r=it.exec(e);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):e}function ee(t,e,n,r,i,o){var a="width"===e?1:0,s=0,u=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(u+=S.css(t,n+ot[a],!0,i)),r?("content"===n&&(u-=S.css(t,"padding"+ot[a],!0,i)),"margin"!==n&&(u-=S.css(t,"border"+ot[a]+"Width",!0,i))):(u+=S.css(t,"padding"+ot[a],!0,i),"padding"!==n?u+=S.css(t,"border"+ot[a]+"Width",!0,i):s+=S.css(t,"border"+ot[a]+"Width",!0,i));return!r&&o>=0&&(u+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-o-u-s-.5))||0),u}function ne(t,e,n){var r=Ht(t),i=(!v.boxSizingReliable()||n)&&"border-box"===S.css(t,"boxSizing",!1,r),o=i,a=Wt(t,e,r),s="offset"+e[0].toUpperCase()+e.slice(1);if(Bt.test(a)){if(!n)return a;a="auto"}return(!v.boxSizingReliable()&&i||!v.reliableTrDimensions()&&L(t,"tr")||"auto"===a||!parseFloat(a)&&"inline"===S.css(t,"display",!1,r))&&t.getClientRects().length&&(i="border-box"===S.css(t,"boxSizing",!1,r),(o=s in t)&&(a=t[s])),(a=parseFloat(a)||0)+ee(t,e,n||(i?"border":"content"),o,r,a)+"px"}function re(t,e,n,r,i){return new re.prototype.init(t,e,n,r,i)}S.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Wt(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,a,s,u=X(e),l=Qt.test(e),c=t.style;if(l||(e=Xt(u)),s=S.cssHooks[e]||S.cssHooks[u],void 0===n)return s&&"get"in s&&void 0!==(o=s.get(t,!1,i))?o:c[e];"string"===(a=r(n))&&(o=it.exec(n))&&o[1]&&(n=ct(t,e,o),a="number"),null!=n&&n==n&&("number"!==a||l||(n+=o&&o[3]||(S.cssNumber[u]?"":"px")),v.clearCloneStyle||""!==n||0!==e.indexOf("background")||(c[e]="inherit"),s&&"set"in s&&void 0===(n=s.set(t,n,i))||(l?c.setProperty(e,n):c[e]=n))}},css:function(t,e,n,r){var i,o,a,s=X(e);return Qt.test(e)||(e=Xt(s)),(a=S.cssHooks[e]||S.cssHooks[s])&&"get"in a&&(i=a.get(t,!0,n)),void 0===i&&(i=Wt(t,e,r)),"normal"===i&&e in Zt&&(i=Zt[e]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),S.each(["height","width"],(function(t,e){S.cssHooks[e]={get:function(t,n,r){if(n)return!$t.test(S.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?ne(t,e,r):Gt(t,Jt,(function(){return ne(t,e,r)}))},set:function(t,n,r){var i,o=Ht(t),a=!v.scrollboxSize()&&"absolute"===o.position,s=(a||r)&&"border-box"===S.css(t,"boxSizing",!1,o),u=r?ee(t,e,r,s,o):0;return s&&a&&(u-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(o[e])-ee(t,e,"border",!1,o)-.5)),u&&(i=it.exec(n))&&"px"!==(i[3]||"px")&&(t.style[e]=n,n=S.css(t,e)),te(0,n,u)}}})),S.cssHooks.marginLeft=qt(v.reliableMarginLeft,(function(t,e){if(e)return(parseFloat(Wt(t,"marginLeft"))||t.getBoundingClientRect().left-Gt(t,{marginLeft:0},(function(){return t.getBoundingClientRect().left})))+"px"})),S.each({margin:"",padding:"",border:"Width"},(function(t,e){S.cssHooks[t+e]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[t+ot[r]+e]=o[r]||o[r-2]||o[0];return i}},"margin"!==t&&(S.cssHooks[t+e].set=te)})),S.fn.extend({css:function(t,e){return q(this,(function(t,e,n){var r,i,o={},a=0;if(Array.isArray(e)){for(r=Ht(t),i=e.length;a<i;a++)o[e[a]]=S.css(t,e[a],!1,r);return o}return void 0!==n?S.style(t,e,n):S.css(t,e)}),t,e,arguments.length>1)}}),S.Tween=re,re.prototype={constructor:re,init:function(t,e,n,r,i,o){this.elem=t,this.prop=n,this.easing=i||S.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=o||(S.cssNumber[n]?"":"px")},cur:function(){var t=re.propHooks[this.prop];return t&&t.get?t.get(this):re.propHooks._default.get(this)},run:function(t){var e,n=re.propHooks[this.prop];return this.options.duration?this.pos=e=S.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):re.propHooks._default.set(this),this}},re.prototype.init.prototype=re.prototype,re.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=S.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){S.fx.step[t.prop]?S.fx.step[t.prop](t):1!==t.elem.nodeType||!S.cssHooks[t.prop]&&null==t.elem.style[Xt(t.prop)]?t.elem[t.prop]=t.now:S.style(t.elem,t.prop,t.now+t.unit)}}},re.propHooks.scrollTop=re.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},S.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},(S.fx=re.prototype.init).step={};var ie,oe,ae=/^(?:toggle|show|hide)$/,se=/queueHooks$/;function ue(){oe&&(!1===b.hidden&&i.requestAnimationFrame?i.requestAnimationFrame(ue):i.setTimeout(ue,S.fx.interval),S.fx.tick())}function le(){return i.setTimeout((function(){ie=void 0})),ie=Date.now()}function ce(t,e){var n,r=0,i={height:t};for(e=e?1:0;r<4;r+=2-e)i["margin"+(n=ot[r])]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function de(t,e,n){for(var r,i=(he.tweeners[e]||[]).concat(he.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,e,t))return r}function he(t,e,n){var r,i,o=0,a=he.prefilters.length,s=S.Deferred().always((function(){delete u.elem})),u=function(){if(i)return!1;for(var e=ie||le(),n=Math.max(0,l.startTime+l.duration-e),r=1-(n/l.duration||0),o=0,a=l.tweens.length;o<a;o++)l.tweens[o].run(r);return s.notifyWith(t,[l,r,n]),r<1&&a?n:(a||s.notifyWith(t,[l,1,0]),s.resolveWith(t,[l]),!1)},l=s.promise({elem:t,props:S.extend({},e),opts:S.extend(!0,{specialEasing:{},easing:S.easing._default},n),originalProperties:e,originalOptions:n,startTime:ie||le(),duration:n.duration,tweens:[],createTween:function(e,n){var r=S.Tween(t,l.opts,e,n,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(r),r},stop:function(e){var n=0,r=e?l.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)l.tweens[n].run(1);return e?(s.notifyWith(t,[l,1,0]),s.resolveWith(t,[l,e])):s.rejectWith(t,[l,e]),this}}),c=l.props;for(!function(t,e){var n,r,i,o,a;for(n in t)if(i=e[r=X(n)],o=t[n],Array.isArray(o)&&(i=o[1],o=t[n]=o[0]),n!==r&&(t[r]=o,delete t[n]),(a=S.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete t[r],o)n in t||(t[n]=o[n],e[n]=i);else e[r]=i}(c,l.opts.specialEasing);o<a;o++)if(r=he.prefilters[o].call(l,t,c,l.opts))return y(r.stop)&&(S._queueHooks(l.elem,l.opts.queue).stop=r.stop.bind(r)),r;return S.map(c,de,l),y(l.opts.start)&&l.opts.start.call(t,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),S.fx.timer(S.extend(u,{elem:t,anim:l,queue:l.opts.queue})),l}S.Animation=S.extend(he,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return ct(n.elem,t,it.exec(e),n),n}]},tweener:function(t,e){y(t)?(e=t,t=["*"]):t=t.match(j);for(var n,r=0,i=t.length;r<i;r++)n=t[r],he.tweeners[n]=he.tweeners[n]||[],he.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var r,i,o,a,s,u,l,c,d="width"in e||"height"in e,h=this,f={},p=t.style,g=t.nodeType&&lt(t),m=J.get(t,"fxshow");for(r in n.queue||(null==(a=S._queueHooks(t,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,h.always((function(){h.always((function(){a.unqueued--,S.queue(t,"fx").length||a.empty.fire()}))}))),e)if(i=e[r],ae.test(i)){if(delete e[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!m||void 0===m[r])continue;g=!0}f[r]=m&&m[r]||S.style(t,r)}if((u=!S.isEmptyObject(e))||!S.isEmptyObject(f))for(r in d&&1===t.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(l=m&&m.display)&&(l=J.get(t,"display")),"none"===(c=S.css(t,"display"))&&(l?c=l:(ft([t],!0),l=t.style.display||l,c=S.css(t,"display"),ft([t]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===S.css(t,"float")&&(u||(h.done((function(){p.display=l})),null==l&&(c=p.display,l="none"===c?"":c)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",h.always((function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}))),u=!1,f)u||(m?"hidden"in m&&(g=m.hidden):m=J.access(t,"fxshow",{display:l}),o&&(m.hidden=!g),g&&ft([t],!0),h.done((function(){for(r in g||ft([t]),J.remove(t,"fxshow"),f)S.style(t,r,f[r])}))),u=de(g?m[r]:0,r,h),r in m||(m[r]=u.start,g&&(u.end=u.start,u.start=0))}],prefilter:function(t,e){e?he.prefilters.unshift(t):he.prefilters.push(t)}}),S.speed=function(t,e,n){var i=t&&"object"===r(t)?S.extend({},t):{complete:n||!n&&e||y(t)&&t,duration:t,easing:n&&e||e&&!y(e)&&e};return S.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in S.fx.speeds?i.duration=S.fx.speeds[i.duration]:i.duration=S.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){y(i.old)&&i.old.call(this),i.queue&&S.dequeue(this,i.queue)},i},S.fn.extend({fadeTo:function(t,e,n,r){return this.filter(lt).css("opacity",0).show().end().animate({opacity:e},t,n,r)},animate:function(t,e,n,r){var i=S.isEmptyObject(t),o=S.speed(e,n,r),a=function(){var e=he(this,S.extend({},t),o);(i||J.get(this,"finish"))&&e.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(t,e,n){var r=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&this.queue(t||"fx",[]),this.each((function(){var e=!0,i=null!=t&&t+"queueHooks",o=S.timers,a=J.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&se.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=t&&o[i].queue!==t||(o[i].anim.stop(n),e=!1,o.splice(i,1));!e&&n||S.dequeue(this,t)}))},finish:function(t){return!1!==t&&(t=t||"fx"),this.each((function(){var e,n=J.get(this),r=n[t+"queue"],i=n[t+"queueHooks"],o=S.timers,a=r?r.length:0;for(n.finish=!0,S.queue(this,t,[]),i&&i.stop&&i.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<a;e++)r[e]&&r[e].finish&&r[e].finish.call(this);delete n.finish}))}}),S.each(["toggle","show","hide"],(function(t,e){var n=S.fn[e];S.fn[e]=function(t,r,i){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(ce(e,!0),t,r,i)}})),S.each({slideDown:ce("show"),slideUp:ce("hide"),slideToggle:ce("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(t,e){S.fn[t]=function(t,n,r){return this.animate(e,t,n,r)}})),S.timers=[],S.fx.tick=function(){var t,e=0,n=S.timers;for(ie=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||S.fx.stop(),ie=void 0},S.fx.timer=function(t){S.timers.push(t),S.fx.start()},S.fx.interval=13,S.fx.start=function(){oe||(oe=!0,ue())},S.fx.stop=function(){oe=null},S.fx.speeds={slow:600,fast:200,_default:400},S.fn.delay=function(t,e){return t=S.fx&&S.fx.speeds[t]||t,e=e||"fx",this.queue(e,(function(e,n){var r=i.setTimeout(e,t);n.stop=function(){i.clearTimeout(r)}}))},function(){var t=b.createElement("input"),e=b.createElement("select").appendChild(b.createElement("option"));t.type="checkbox",v.checkOn=""!==t.value,v.optSelected=e.selected,(t=b.createElement("input")).value="t",t.type="radio",v.radioValue="t"===t.value}();var fe,pe=S.expr.attrHandle;S.fn.extend({attr:function(t,e){return q(this,S.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each((function(){S.removeAttr(this,t)}))}}),S.extend({attr:function(t,e,n){var r,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?S.prop(t,e,n):(1===o&&S.isXMLDoc(t)||(i=S.attrHooks[e.toLowerCase()]||(S.expr.match.bool.test(e)?fe:void 0)),void 0!==n?null===n?void S.removeAttr(t,e):i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:(t.setAttribute(e,n+""),n):i&&"get"in i&&null!==(r=i.get(t,e))?r:null==(r=S.find.attr(t,e))?void 0:r)},attrHooks:{type:{set:function(t,e){if(!v.radioValue&&"radio"===e&&L(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,r=0,i=e&&e.match(j);if(i&&1===t.nodeType)for(;n=i[r++];)t.removeAttribute(n)}}),fe={set:function(t,e,n){return!1===e?S.removeAttr(t,n):t.setAttribute(n,n),n}},S.each(S.expr.match.bool.source.match(/\w+/g),(function(t,e){var n=pe[e]||S.find.attr;pe[e]=function(t,e,r){var i,o,a=e.toLowerCase();return r||(o=pe[a],pe[a]=i,i=null!=n(t,e,r)?a:null,pe[a]=o),i}}));var ge=/^(?:input|select|textarea|button)$/i,me=/^(?:a|area)$/i;function ve(t){return(t.match(j)||[]).join(" ")}function ye(t){return t.getAttribute&&t.getAttribute("class")||""}function _e(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(j)||[]}S.fn.extend({prop:function(t,e){return q(this,S.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each((function(){delete this[S.propFix[t]||t]}))}}),S.extend({prop:function(t,e,n){var r,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&S.isXMLDoc(t)||(e=S.propFix[e]||e,i=S.propHooks[e]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:t[e]=n:i&&"get"in i&&null!==(r=i.get(t,e))?r:t[e]},propHooks:{tabIndex:{get:function(t){var e=S.find.attr(t,"tabindex");return e?parseInt(e,10):ge.test(t.nodeName)||me.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),v.optSelected||(S.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),S.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){S.propFix[this.toLowerCase()]=this})),S.fn.extend({addClass:function(t){var e,n,r,i,o,a,s,u=0;if(y(t))return this.each((function(e){S(this).addClass(t.call(this,e,ye(this)))}));if((e=_e(t)).length)for(;n=this[u++];)if(i=ye(n),r=1===n.nodeType&&" "+ve(i)+" "){for(a=0;o=e[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(s=ve(r))&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,r,i,o,a,s,u=0;if(y(t))return this.each((function(e){S(this).removeClass(t.call(this,e,ye(this)))}));if(!arguments.length)return this.attr("class","");if((e=_e(t)).length)for(;n=this[u++];)if(i=ye(n),r=1===n.nodeType&&" "+ve(i)+" "){for(a=0;o=e[a++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");i!==(s=ve(r))&&n.setAttribute("class",s)}return this},toggleClass:function(t,e){var n=r(t),i="string"===n||Array.isArray(t);return"boolean"==typeof e&&i?e?this.addClass(t):this.removeClass(t):y(t)?this.each((function(n){S(this).toggleClass(t.call(this,n,ye(this),e),e)})):this.each((function(){var e,r,o,a;if(i)for(r=0,o=S(this),a=_e(t);e=a[r++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else void 0!==t&&"boolean"!==n||((e=ye(this))&&J.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":J.get(this,"__className__")||""))}))},hasClass:function(t){var e,n,r=0;for(e=" "+t+" ";n=this[r++];)if(1===n.nodeType&&(" "+ve(ye(n))+" ").indexOf(e)>-1)return!0;return!1}});var be=/\r/g;S.fn.extend({val:function(t){var e,n,r,i=this[0];return arguments.length?(r=y(t),this.each((function(n){var i;1===this.nodeType&&(null==(i=r?t.call(this,n,S(this).val()):t)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=S.map(i,(function(t){return null==t?"":t+""}))),(e=S.valHooks[this.type]||S.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,i,"value")||(this.value=i))}))):i?(e=S.valHooks[i.type]||S.valHooks[i.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(be,""):null==n?"":n:void 0}}),S.extend({valHooks:{option:{get:function(t){var e=S.find.attr(t,"value");return null!=e?e:ve(S.text(t))}},select:{get:function(t){var e,n,r,i=t.options,o=t.selectedIndex,a="select-one"===t.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!L(n.parentNode,"optgroup"))){if(e=S(n).val(),a)return e;s.push(e)}return s},set:function(t,e){for(var n,r,i=t.options,o=S.makeArray(e),a=i.length;a--;)((r=i[a]).selected=S.inArray(S.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),S.each(["radio","checkbox"],(function(){S.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=S.inArray(S(t).val(),e)>-1}},v.checkOn||(S.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})})),v.focusin="onfocusin"in i;var Ee=/^(?:focusinfocus|focusoutblur)$/,Ae=function(t){t.stopPropagation()};S.extend(S.event,{trigger:function(t,e,n,o){var a,s,u,l,c,d,h,f,g=[n||b],m=p.call(t,"type")?t.type:t,v=p.call(t,"namespace")?t.namespace.split("."):[];if(s=f=u=n=n||b,3!==n.nodeType&&8!==n.nodeType&&!Ee.test(m+S.event.triggered)&&(m.indexOf(".")>-1&&(v=m.split("."),m=v.shift(),v.sort()),c=m.indexOf(":")<0&&"on"+m,(t=t[S.expando]?t:new S.Event(m,"object"===r(t)&&t)).isTrigger=o?2:3,t.namespace=v.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),e=null==e?[t]:S.makeArray(e,[t]),h=S.event.special[m]||{},o||!h.trigger||!1!==h.trigger.apply(n,e))){if(!o&&!h.noBubble&&!_(n)){for(l=h.delegateType||m,Ee.test(l+m)||(s=s.parentNode);s;s=s.parentNode)g.push(s),u=s;u===(n.ownerDocument||b)&&g.push(u.defaultView||u.parentWindow||i)}for(a=0;(s=g[a++])&&!t.isPropagationStopped();)f=s,t.type=a>1?l:h.bindType||m,(d=(J.get(s,"events")||Object.create(null))[t.type]&&J.get(s,"handle"))&&d.apply(s,e),(d=c&&s[c])&&d.apply&&$(s)&&(t.result=d.apply(s,e),!1===t.result&&t.preventDefault());return t.type=m,o||t.isDefaultPrevented()||h._default&&!1!==h._default.apply(g.pop(),e)||!$(n)||c&&y(n[m])&&!_(n)&&((u=n[c])&&(n[c]=null),S.event.triggered=m,t.isPropagationStopped()&&f.addEventListener(m,Ae),n[m](),t.isPropagationStopped()&&f.removeEventListener(m,Ae),S.event.triggered=void 0,u&&(n[c]=u)),t.result}},simulate:function(t,e,n){var r=S.extend(new S.Event,n,{type:t,isSimulated:!0});S.event.trigger(r,null,e)}}),S.fn.extend({trigger:function(t,e){return this.each((function(){S.event.trigger(t,e,this)}))},triggerHandler:function(t,e){var n=this[0];if(n)return S.event.trigger(t,e,n,!0)}}),v.focusin||S.each({focus:"focusin",blur:"focusout"},(function(t,e){var n=function(t){S.event.simulate(e,t.target,S.event.fix(t))};S.event.special[e]={setup:function(){var r=this.ownerDocument||this.document||this,i=J.access(r,e);i||r.addEventListener(t,n,!0),J.access(r,e,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this.document||this,i=J.access(r,e)-1;i?J.access(r,e,i):(r.removeEventListener(t,n,!0),J.remove(r,e))}}}));var Te=i.location,Se={guid:Date.now()},we=/\?/;S.parseXML=function(t){var e,n;if(!t||"string"!=typeof t)return null;try{e=(new i.DOMParser).parseFromString(t,"text/xml")}catch(t){}return n=e&&e.getElementsByTagName("parsererror")[0],e&&!n||S.error("Invalid XML: "+(n?S.map(n.childNodes,(function(t){return t.textContent})).join("\n"):t)),e};var Ce=/\[\]$/,ke=/\r?\n/g,De=/^(?:submit|button|image|reset|file)$/i,xe=/^(?:input|select|textarea|keygen)/i;function Le(t,e,n,i){var o;if(Array.isArray(e))S.each(e,(function(e,o){n||Ce.test(t)?i(t,o):Le(t+"["+("object"===r(o)&&null!=o?e:"")+"]",o,n,i)}));else if(n||"object"!==T(e))i(t,e);else for(o in e)Le(t+"["+o+"]",e[o],n,i)}S.param=function(t,e){var n,r=[],i=function(t,e){var n=y(e)?e():e;r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(null==t)return"";if(Array.isArray(t)||t.jquery&&!S.isPlainObject(t))S.each(t,(function(){i(this.name,this.value)}));else for(n in t)Le(n,t[n],e,i);return r.join("&")},S.fn.extend({serialize:function(){return S.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var t=S.prop(this,"elements");return t?S.makeArray(t):this})).filter((function(){var t=this.type;return this.name&&!S(this).is(":disabled")&&xe.test(this.nodeName)&&!De.test(t)&&(this.checked||!mt.test(t))})).map((function(t,e){var n=S(this).val();return null==n?null:Array.isArray(n)?S.map(n,(function(t){return{name:e.name,value:t.replace(ke,"\r\n")}})):{name:e.name,value:n.replace(ke,"\r\n")}})).get()}});var Pe=/%20/g,Ie=/#.*$/,Re=/([?&])_=[^&]*/,Oe=/^(.*?):[ \t]*([^\r\n]*)$/gm,Me=/^(?:GET|HEAD)$/,Ne=/^\/\//,Fe={},je={},Ue="*/".concat("*"),Be=b.createElement("a");function He(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var r,i=0,o=e.toLowerCase().match(j)||[];if(y(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(t[r]=t[r]||[]).unshift(n)):(t[r]=t[r]||[]).push(n)}}function Ge(t,e,n,r){var i={},o=t===je;function a(s){var u;return i[s]=!0,S.each(t[s]||[],(function(t,s){var l=s(e,n,r);return"string"!=typeof l||o||i[l]?o?!(u=l):void 0:(e.dataTypes.unshift(l),a(l),!1)})),u}return a(e.dataTypes[0])||!i["*"]&&a("*")}function Ve(t,e){var n,r,i=S.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((i[n]?t:r||(r={}))[n]=e[n]);return r&&S.extend(!0,t,r),t}Be.href=Te.href,S.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Te.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Te.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ue,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":S.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Ve(Ve(t,S.ajaxSettings),e):Ve(S.ajaxSettings,t)},ajaxPrefilter:He(Fe),ajaxTransport:He(je),ajax:function(t,e){"object"===r(t)&&(e=t,t=void 0);var n,o,a,s,u,l,c,d,h,f,p=S.ajaxSetup({},e=e||{}),g=p.context||p,m=p.context&&(g.nodeType||g.jquery)?S(g):S.event,v=S.Deferred(),y=S.Callbacks("once memory"),_=p.statusCode||{},E={},A={},T="canceled",w={readyState:0,getResponseHeader:function(t){var e;if(c){if(!s)for(s={};e=Oe.exec(a);)s[e[1].toLowerCase()+" "]=(s[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=s[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return c?a:null},setRequestHeader:function(t,e){return null==c&&(t=A[t.toLowerCase()]=A[t.toLowerCase()]||t,E[t]=e),this},overrideMimeType:function(t){return null==c&&(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(c)w.always(t[w.status]);else for(e in t)_[e]=[_[e],t[e]];return this},abort:function(t){var e=t||T;return n&&n.abort(e),C(0,e),this}};if(v.promise(w),p.url=((t||p.url||Te.href)+"").replace(Ne,Te.protocol+"//"),p.type=e.method||e.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(j)||[""],null==p.crossDomain){l=b.createElement("a");try{l.href=p.url,l.href=l.href,p.crossDomain=Be.protocol+"//"+Be.host!=l.protocol+"//"+l.host}catch(t){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=S.param(p.data,p.traditional)),Ge(Fe,p,e,w),c)return w;for(h in(d=S.event&&p.global)&&0==S.active++&&S.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Me.test(p.type),o=p.url.replace(Ie,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Pe,"+")):(f=p.url.slice(o.length),p.data&&(p.processData||"string"==typeof p.data)&&(o+=(we.test(o)?"&":"?")+p.data,delete p.data),!1===p.cache&&(o=o.replace(Re,"$1"),f=(we.test(o)?"&":"?")+"_="+Se.guid+++f),p.url=o+f),p.ifModified&&(S.lastModified[o]&&w.setRequestHeader("If-Modified-Since",S.lastModified[o]),S.etag[o]&&w.setRequestHeader("If-None-Match",S.etag[o])),(p.data&&p.hasContent&&!1!==p.contentType||e.contentType)&&w.setRequestHeader("Content-Type",p.contentType),w.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Ue+"; q=0.01":""):p.accepts["*"]),p.headers)w.setRequestHeader(h,p.headers[h]);if(p.beforeSend&&(!1===p.beforeSend.call(g,w,p)||c))return w.abort();if(T="abort",y.add(p.complete),w.done(p.success),w.fail(p.error),n=Ge(je,p,e,w)){if(w.readyState=1,d&&m.trigger("ajaxSend",[w,p]),c)return w;p.async&&p.timeout>0&&(u=i.setTimeout((function(){w.abort("timeout")}),p.timeout));try{c=!1,n.send(E,C)}catch(t){if(c)throw t;C(-1,t)}}else C(-1,"No Transport");function C(t,e,r,s){var l,h,f,b,E,A=e;c||(c=!0,u&&i.clearTimeout(u),n=void 0,a=s||"",w.readyState=t>0?4:0,l=t>=200&&t<300||304===t,r&&(b=function(t,e,n){for(var r,i,o,a,s=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||t.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}(p,w,r)),!l&&S.inArray("script",p.dataTypes)>-1&&S.inArray("json",p.dataTypes)<0&&(p.converters["text script"]=function(){}),b=function(t,e,n,r){var i,o,a,s,u,l={},c=t.dataTypes.slice();if(c[1])for(a in t.converters)l[a.toLowerCase()]=t.converters[a];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!u&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if((s=i.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&t.throws)e=a(e);else try{e=a(e)}catch(t){return{state:"parsererror",error:a?t:"No conversion from "+u+" to "+o}}}return{state:"success",data:e}}(p,b,w,l),l?(p.ifModified&&((E=w.getResponseHeader("Last-Modified"))&&(S.lastModified[o]=E),(E=w.getResponseHeader("etag"))&&(S.etag[o]=E)),204===t||"HEAD"===p.type?A="nocontent":304===t?A="notmodified":(A=b.state,h=b.data,l=!(f=b.error))):(f=A,!t&&A||(A="error",t<0&&(t=0))),w.status=t,w.statusText=(e||A)+"",l?v.resolveWith(g,[h,A,w]):v.rejectWith(g,[w,A,f]),w.statusCode(_),_=void 0,d&&m.trigger(l?"ajaxSuccess":"ajaxError",[w,p,l?h:f]),y.fireWith(g,[w,A]),d&&(m.trigger("ajaxComplete",[w,p]),--S.active||S.event.trigger("ajaxStop")))}return w},getJSON:function(t,e,n){return S.get(t,e,n,"json")},getScript:function(t,e){return S.get(t,void 0,e,"script")}}),S.each(["get","post"],(function(t,e){S[e]=function(t,n,r,i){return y(n)&&(i=i||r,r=n,n=void 0),S.ajax(S.extend({url:t,type:e,dataType:i,data:n,success:r},S.isPlainObject(t)&&t))}})),S.ajaxPrefilter((function(t){var e;for(e in t.headers)"content-type"===e.toLowerCase()&&(t.contentType=t.headers[e]||"")})),S._evalUrl=function(t,e,n){return S.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){S.globalEval(t,e,n)}})},S.fn.extend({wrapAll:function(t){var e;return this[0]&&(y(t)&&(t=t.call(this[0])),e=S(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map((function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t})).append(this)),this},wrapInner:function(t){return y(t)?this.each((function(e){S(this).wrapInner(t.call(this,e))})):this.each((function(){var e=S(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)}))},wrap:function(t){var e=y(t);return this.each((function(n){S(this).wrapAll(e?t.call(this,n):t)}))},unwrap:function(t){return this.parent(t).not("body").each((function(){S(this).replaceWith(this.childNodes)})),this}}),S.expr.pseudos.hidden=function(t){return!S.expr.pseudos.visible(t)},S.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},S.ajaxSettings.xhr=function(){try{return new i.XMLHttpRequest}catch(t){}};var We={0:200,1223:204},qe=S.ajaxSettings.xhr();v.cors=!!qe&&"withCredentials"in qe,v.ajax=qe=!!qe,S.ajaxTransport((function(t){var e,n;if(v.cors||qe&&!t.crossDomain)return{send:function(r,o){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];for(a in t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)s.setRequestHeader(a,r[a]);e=function(t){return function(){e&&(e=n=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===t?s.abort():"error"===t?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(We[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=e(),n=s.onerror=s.ontimeout=e("error"),void 0!==s.onabort?s.onabort=n:s.onreadystatechange=function(){4===s.readyState&&i.setTimeout((function(){e&&n()}))},e=e("abort");try{s.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}})),S.ajaxPrefilter((function(t){t.crossDomain&&(t.contents.script=!1)})),S.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return S.globalEval(t),t}}}),S.ajaxPrefilter("script",(function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")})),S.ajaxTransport("script",(function(t){var e,n;if(t.crossDomain||t.scriptAttrs)return{send:function(r,i){e=S("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&i("error"===t.type?404:200,t.type)}),b.head.appendChild(e[0])},abort:function(){n&&n()}}}));var Ke,Ye=[],ze=/(=)\?(?=&|$)|\?\?/;S.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ye.pop()||S.expando+"_"+Se.guid++;return this[t]=!0,t}}),S.ajaxPrefilter("json jsonp",(function(t,e,n){var r,o,a,s=!1!==t.jsonp&&(ze.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&ze.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=y(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(ze,"$1"+r):!1!==t.jsonp&&(t.url+=(we.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return a||S.error(r+" was not called"),a[0]},t.dataTypes[0]="json",o=i[r],i[r]=function(){a=arguments},n.always((function(){void 0===o?S(i).removeProp(r):i[r]=o,t[r]&&(t.jsonpCallback=e.jsonpCallback,Ye.push(r)),a&&y(o)&&o(a[0]),a=o=void 0})),"script"})),v.createHTMLDocument=((Ke=b.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Ke.childNodes.length),S.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(v.createHTMLDocument?((r=(e=b.implementation.createHTMLDocument("")).createElement("base")).href=b.location.href,e.head.appendChild(r)):e=b),o=!n&&[],(i=P.exec(t))?[e.createElement(i[1])]:(i=Tt([t],e,o),o&&o.length&&S(o).remove(),S.merge([],i.childNodes)));var r,i,o},S.fn.load=function(t,e,n){var i,o,a,s=this,u=t.indexOf(" ");return u>-1&&(i=ve(t.slice(u)),t=t.slice(0,u)),y(e)?(n=e,e=void 0):e&&"object"===r(e)&&(o="POST"),s.length>0&&S.ajax({url:t,type:o||"GET",dataType:"html",data:e}).done((function(t){a=arguments,s.html(i?S("<div>").append(S.parseHTML(t)).find(i):t)})).always(n&&function(t,e){s.each((function(){n.apply(this,a||[t.responseText,e,t])}))}),this},S.expr.pseudos.animated=function(t){return S.grep(S.timers,(function(e){return t===e.elem})).length},S.offset={setOffset:function(t,e,n){var r,i,o,a,s,u,l=S.css(t,"position"),c=S(t),d={};"static"===l&&(t.style.position="relative"),s=c.offset(),o=S.css(t,"top"),u=S.css(t,"left"),("absolute"===l||"fixed"===l)&&(o+u).indexOf("auto")>-1?(a=(r=c.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),y(e)&&(e=e.call(t,n,S.extend({},s))),null!=e.top&&(d.top=e.top-s.top+a),null!=e.left&&(d.left=e.left-s.left+i),"using"in e?e.using.call(t,d):c.css(d)}},S.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each((function(e){S.offset.setOffset(this,t,e)}));var e,n,r=this[0];return r?r.getClientRects().length?(e=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,r=this[0],i={top:0,left:0};if("fixed"===S.css(r,"position"))e=r.getBoundingClientRect();else{for(e=this.offset(),n=r.ownerDocument,t=r.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===S.css(t,"position");)t=t.parentNode;t&&t!==r&&1===t.nodeType&&((i=S(t).offset()).top+=S.css(t,"borderTopWidth",!0),i.left+=S.css(t,"borderLeftWidth",!0))}return{top:e.top-i.top-S.css(r,"marginTop",!0),left:e.left-i.left-S.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var t=this.offsetParent;t&&"static"===S.css(t,"position");)t=t.offsetParent;return t||at}))}}),S.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(t,e){var n="pageYOffset"===e;S.fn[t]=function(r){return q(this,(function(t,r,i){var o;if(_(t)?o=t:9===t.nodeType&&(o=t.defaultView),void 0===i)return o?o[e]:t[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):t[r]=i}),t,r,arguments.length)}})),S.each(["top","left"],(function(t,e){S.cssHooks[e]=qt(v.pixelPosition,(function(t,n){if(n)return n=Wt(t,e),Bt.test(n)?S(t).position()[e]+"px":n}))})),S.each({Height:"height",Width:"width"},(function(t,e){S.each({padding:"inner"+t,content:e,"":"outer"+t},(function(n,r){S.fn[r]=function(i,o){var a=arguments.length&&(n||"boolean"!=typeof i),s=n||(!0===i||!0===o?"margin":"border");return q(this,(function(e,n,i){var o;return _(e)?0===r.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===i?S.css(e,n,s):S.style(e,n,i,s)}),e,a?i:void 0,a)}}))})),S.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(t,e){S.fn[e]=function(t){return this.on(e,t)}})),S.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,r){return this.on(e,t,n,r)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),S.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(t,e){S.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}));var Xe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;S.proxy=function(t,e){var n,r,i;if("string"==typeof e&&(n=t[e],e=t,t=n),y(t))return r=u.call(arguments,2),(i=function(){return t.apply(e||this,r.concat(u.call(arguments)))}).guid=t.guid=t.guid||S.guid++,i},S.holdReady=function(t){t?S.readyWait++:S.ready(!0)},S.isArray=Array.isArray,S.parseJSON=JSON.parse,S.nodeName=L,S.isFunction=y,S.isWindow=_,S.camelCase=X,S.type=T,S.now=Date.now,S.isNumeric=function(t){var e=S.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},S.trim=function(t){return null==t?"":(t+"").replace(Xe,"")},void 0===(n=function(){return S}.apply(e,[]))||(t.exports=n);var $e=i.jQuery,Qe=i.$;return S.noConflict=function(t){return i.$===S&&(i.$=Qe),t&&i.jQuery===S&&(i.jQuery=$e),S},void 0===o&&(i.jQuery=i.$=S),S}))}).call(this,n(6)(t))},function(t,e,n){var r,i,o;i=[n(0)],void 0===(o="function"==typeof(r=function(t){return t.ui=t.ui||{},t.ui.version="1.12.1"})?r.apply(e,i):r)||(t.exports=o)},function(t,e,n){var r,i;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
/*!
 * JavaScript Cookie v2.2.1
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */!function(a){var s;if(void 0===(i="function"==typeof(r=a)?r.call(e,n,e,t):r)||(t.exports=i),s=!0,"object"===o(e)&&(t.exports=a(),s=!0),!s){var u=window.Cookies,l=window.Cookies=a();l.noConflict=function(){return window.Cookies=u,l}}}((function(){function t(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}function e(t){return t.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function i(){}function o(e,n,o){if("undefined"!=typeof document){"number"==typeof(o=t({path:"/"},i.defaults,o)).expires&&(o.expires=new Date(1*new Date+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(t){}n=r.write?r.write(n,e):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var u in o)o[u]&&(s+="; "+u,!0!==o[u]&&(s+="="+o[u].split(";")[0]));return document.cookie=e+"="+n+s}}function a(t,n){if("undefined"!=typeof document){for(var i={},o=document.cookie?document.cookie.split("; "):[],a=0;a<o.length;a++){var s=o[a].split("="),u=s.slice(1).join("=");n||'"'!==u.charAt(0)||(u=u.slice(1,-1));try{var l=e(s[0]);if(u=(r.read||r)(u,l)||e(u),n)try{u=JSON.parse(u)}catch(t){}if(i[l]=u,t===l)break}catch(t){}}return t?i[t]:i}}return i.set=o,i.get=function(t){return a(t,!1)},i.getJSON=function(t){return a(t,!0)},i.remove=function(e,n){o(e,"",t(n,{expires:-1}))},i.defaults={},i.withConverter=n,i}((function(){}))}))},function(t,e,n){"use strict";var r,i=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},o=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),a=[];function s(t){for(var e=-1,n=0;n<a.length;n++)if(a[n].identifier===t){e=n;break}return e}function u(t,e){for(var n={},r=[],i=0;i<t.length;i++){var o=t[i],u=e.base?o[0]+e.base:o[0],l=n[u]||0,c="".concat(u," ").concat(l);n[u]=l+1;var d=s(c),h={css:o[1],media:o[2],sourceMap:o[3]};-1!==d?(a[d].references++,a[d].updater(h)):a.push({identifier:c,updater:m(h,e),references:1}),r.push(c)}return r}function l(t){var e=document.createElement("style"),r=t.attributes||{};if(void 0===r.nonce){var i=n.nc;i&&(r.nonce=i)}if(Object.keys(r).forEach((function(t){e.setAttribute(t,r[t])})),"function"==typeof t.insert)t.insert(e);else{var a=o(t.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(e)}return e}var c,d=(c=[],function(t,e){return c[t]=e,c.filter(Boolean).join("\n")});function h(t,e,n,r){var i=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(t.styleSheet)t.styleSheet.cssText=d(e,i);else{var o=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}function f(t,e,n){var r=n.css,i=n.media,o=n.sourceMap;if(i?t.setAttribute("media",i):t.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}var p=null,g=0;function m(t,e){var n,r,i;if(e.singleton){var o=g++;n=p||(p=l(e)),r=h.bind(null,n,o,!1),i=h.bind(null,n,o,!0)}else n=l(e),r=f.bind(null,n,e),i=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=i());var n=u(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var r=0;r<n.length;r++){var i=s(n[r]);a[i].references--}for(var o=u(t,e),l=0;l<n.length;l++){var c=s(n[l]);0===a[c].references&&(a[c].updater(),a.splice(c,1))}n=o}}}},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var i=(a=r,s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),u="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(u," */")),o=r.sources.map((function(t){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(t," */")}));return[n].concat(o).concat([i]).join("\n")}var a,s,u;return[n].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,r){"string"==typeof t&&(t=[[null,t,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(i[a]=!0)}for(var s=0;s<t.length;s++){var u=[].concat(t[s]);r&&i[u[0]]||(n&&(u[2]?u[2]="".concat(n," and ").concat(u[2]):u[2]=n),e.push(u))}},e}},function(t,e){t.exports='<svg class="spinner transport-icon" viewBox="0 0 66 66" xmlns="http://www.w3.org/2000/svg"><circle class="path outline" fill="none" stroke-width="6" stroke-linecap="round" cx="33" cy="33" r="30"></circle></svg>'},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){var r,i,o;
/*!
 * jQuery UI Widget 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */i=[n(0),n(1)],void 0===(o="function"==typeof(r=function(t){var e,n=0,r=Array.prototype.slice;return t.cleanData=(e=t.cleanData,function(n){var r,i,o;for(o=0;null!=(i=n[o]);o++)try{(r=t._data(i,"events"))&&r.remove&&t(i).triggerHandler("remove")}catch(t){}e(n)}),t.widget=function(e,n,r){var i,o,a,s={},u=e.split(".")[0],l=u+"-"+(e=e.split(".")[1]);return r||(r=n,n=t.Widget),t.isArray(r)&&(r=t.extend.apply(null,[{}].concat(r))),t.expr[":"][l.toLowerCase()]=function(e){return!!t.data(e,l)},t[u]=t[u]||{},i=t[u][e],o=t[u][e]=function(t,e){if(!this._createWidget)return new o(t,e);arguments.length&&this._createWidget(t,e)},t.extend(o,i,{version:r.version,_proto:t.extend({},r),_childConstructors:[]}),(a=new n).options=t.widget.extend({},a.options),t.each(r,(function(e,r){t.isFunction(r)?s[e]=function(){function t(){return n.prototype[e].apply(this,arguments)}function i(t){return n.prototype[e].apply(this,t)}return function(){var e,n=this._super,o=this._superApply;return this._super=t,this._superApply=i,e=r.apply(this,arguments),this._super=n,this._superApply=o,e}}():s[e]=r})),o.prototype=t.widget.extend(a,{widgetEventPrefix:i&&a.widgetEventPrefix||e},s,{constructor:o,namespace:u,widgetName:e,widgetFullName:l}),i?(t.each(i._childConstructors,(function(e,n){var r=n.prototype;t.widget(r.namespace+"."+r.widgetName,o,n._proto)})),delete i._childConstructors):n._childConstructors.push(o),t.widget.bridge(e,o),o},t.widget.extend=function(e){for(var n,i,o=r.call(arguments,1),a=0,s=o.length;a<s;a++)for(n in o[a])i=o[a][n],o[a].hasOwnProperty(n)&&void 0!==i&&(t.isPlainObject(i)?e[n]=t.isPlainObject(e[n])?t.widget.extend({},e[n],i):t.widget.extend({},i):e[n]=i);return e},t.widget.bridge=function(e,n){var i=n.prototype.widgetFullName||e;t.fn[e]=function(o){var a="string"==typeof o,s=r.call(arguments,1),u=this;return a?this.length||"instance"!==o?this.each((function(){var n,r=t.data(this,i);return"instance"===o?(u=r,!1):r?t.isFunction(r[o])&&"_"!==o.charAt(0)?(n=r[o].apply(r,s))!==r&&void 0!==n?(u=n&&n.jquery?u.pushStack(n.get()):n,!1):void 0:t.error("no such method '"+o+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+o+"'")})):u=void 0:(s.length&&(o=t.widget.extend.apply(null,[o].concat(s))),this.each((function(){var e=t.data(this,i);e?(e.option(o||{}),e._init&&e._init()):t.data(this,i,new n(o,this))}))),u}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,r){r=t(r||this.defaultElement||this)[0],this.element=t(r),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},r!==this&&(t.data(r,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===r&&this.destroy()}}),this.document=t(r.style?r.ownerDocument:r.document||r),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,(function(t,n){e._removeClass(n,t)})),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,n){var r,i,o,a=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(a={},r=e.split("."),e=r.shift(),r.length){for(i=a[e]=t.widget.extend({},this.options[e]),o=0;o<r.length-1;o++)i[r[o]]=i[r[o]]||{},i=i[r[o]];if(e=r.pop(),1===arguments.length)return void 0===i[e]?null:i[e];i[e]=n}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];a[e]=n}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(e){var n,r,i;for(n in e)i=this.classesElementLookup[n],e[n]!==this.options.classes[n]&&i&&i.length&&(r=t(i.get()),this._removeClass(i,n),r.addClass(this._classes({element:r,keys:n,classes:e,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){var n=[],r=this;function i(i,o){var a,s;for(s=0;s<i.length;s++)a=r.classesElementLookup[i[s]]||t(),a=e.add?t(t.unique(a.get().concat(e.element.get()))):t(a.not(e.element).get()),r.classesElementLookup[i[s]]=a,n.push(i[s]),o&&e.classes[i[s]]&&n.push(e.classes[i[s]])}return e=t.extend({element:this.element,classes:this.options.classes||{}},e),this._on(e.element,{remove:"_untrackClassesElement"}),e.keys&&i(e.keys.match(/\S+/g)||[],!0),e.extra&&i(e.extra.match(/\S+/g)||[]),n.join(" ")},_untrackClassesElement:function(e){var n=this;t.each(n.classesElementLookup,(function(r,i){-1!==t.inArray(e.target,i)&&(n.classesElementLookup[r]=t(i.not(e.target).get()))}))},_removeClass:function(t,e,n){return this._toggleClass(t,e,n,!1)},_addClass:function(t,e,n){return this._toggleClass(t,e,n,!0)},_toggleClass:function(t,e,n,r){r="boolean"==typeof r?r:n;var i="string"==typeof t||null===t,o={extra:i?e:n,keys:i?t:e,element:i?this.element:t,add:r};return o.element.toggleClass(this._classes(o),r),this},_on:function(e,n,r){var i,o=this;"boolean"!=typeof e&&(r=n,n=e,e=!1),r?(n=i=t(n),this.bindings=this.bindings.add(n)):(r=n,n=this.element,i=this.widget()),t.each(r,(function(r,a){function s(){if(e||!0!==o.options.disabled&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof a?o[a]:a).apply(o,arguments)}"string"!=typeof a&&(s.guid=a.guid=a.guid||s.guid||t.guid++);var u=r.match(/^([\w:-]*)\s*(.*)$/),l=u[1]+o.eventNamespace,c=u[2];c?i.on(l,c,s):n.on(l,s)}))},_off:function(e,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(n).off(n),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){var n=this;return setTimeout((function(){return("string"==typeof t?n[t]:t).apply(n,arguments)}),e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,n,r){var i,o,a=this.options[e];if(r=r||{},(n=t.Event(n)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(i in o)i in n||(n[i]=o[i]);return this.element.trigger(n,r),!(t.isFunction(a)&&!1===a.apply(this.element[0],[n].concat(r))||n.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},(function(e,n){t.Widget.prototype["_"+e]=function(r,i,o){var a;"string"==typeof i&&(i={effect:i});var s=i?!0===i||"number"==typeof i?n:i.effect||n:e;"number"==typeof(i=i||{})&&(i={duration:i}),a=!t.isEmptyObject(i),i.complete=o,i.delay&&r.delay(i.delay),a&&t.effects&&t.effects.effect[s]?r[e](i):s!==e&&r[s]?r[s](i.duration,i.easing,o):r.queue((function(n){t(this)[e](),o&&o.call(r[0]),n()}))}})),t.widget})?r.apply(e,i):r)||(t.exports=o)},function(t,e,n){"use strict";var r=n(24);t.exports=function(t,e){var n=r(t);null==e&&(e=n.alpha);if("h"===n.space[0])return n.space+["a(",n.values[0],",",n.values[1],"%,",n.values[2],"%,",e,")"].join("");return n.space+["a(",n.values,",",e,")"].join("")}},function(t,e,n){"use strict";var r=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.target,r=void 0===n?document.body:n,i=document.createElement("textarea"),o=document.activeElement;i.value=t,i.setAttribute("readonly",""),i.style.contain="strict",i.style.position="absolute",i.style.left="-9999px",i.style.fontSize="12pt";var a=document.getSelection(),s=!1;a.rangeCount>0&&(s=a.getRangeAt(0)),r.append(i),i.select(),i.selectionStart=0,i.selectionEnd=t.length;var u=!1;try{u=document.execCommand("copy")}catch(t){}return i.remove(),s&&(a.removeAllRanges(),a.addRange(s)),o&&o.focus(),u};t.exports=r,t.exports.default=r},function(t,e){t.exports='<div class="td_container"></div> <button class="loading transport-button" aria-live="polite"></button> <div class="volume-slider-container" style="display:none"><div class="volume-slider" style="display:none"></div></div> '},function(t,e){t.exports='<svg class="play transport-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 34.64 40"><polygon class="shape" points="34.64,20 0,0 0,40 "></polygon></svg>'},function(t,e){t.exports='<svg class="stop transport-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 40"><rect class="shape" width="40" height="40"></rect></svg>'},function(t,e,n){t.exports=n(27)},function(t,e,n){var r,i,o;
/*!
 * jQuery UI Slider 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */i=[n(0),n(15),n(17),n(1),n(7)],void 0===(o="function"==typeof(r=function(t){return t.widget("ui.slider",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,n,r=this.options,i=this.element.find(".ui-slider-handle"),o=[];for(n=r.values&&r.values.length||1,i.length>n&&(i.slice(n).remove(),i=i.slice(0,n)),e=i.length;e<n;e++)o.push("<span tabindex='0'></span>");this.handles=i.add(t(o.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each((function(e){t(this).data("ui-slider-handle-index",e).attr("tabIndex",0)}))},_createRange:function(){var e=this.options;e.range?(!0===e.range&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=t("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),"min"!==e.range&&"max"!==e.range||this._addClass(this.range,"ui-slider-range-"+e.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(e){var n,r,i,o,a,s,u,l=this,c=this.options;return!c.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),n={x:e.pageX,y:e.pageY},r=this._normValueFromMouse(n),i=this._valueMax()-this._valueMin()+1,this.handles.each((function(e){var n=Math.abs(r-l.values(e));(i>n||i===n&&(e===l._lastChangedValue||l.values(e)===c.min))&&(i=n,o=t(this),a=e)})),!1!==this._start(e,a)&&(this._mouseSliding=!0,this._handleIndex=a,this._addClass(o,null,"ui-state-active"),o.trigger("focus"),s=o.offset(),u=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=u?{left:0,top:0}:{left:e.pageX-s.left-o.width()/2,top:e.pageY-s.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,a,r),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},n=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,n),!1},_mouseStop:function(t){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,n,r,i,o;return"horizontal"===this.orientation?(e=this.elementSize.width,n=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,n=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),(r=n/e)>1&&(r=1),r<0&&(r=0),"vertical"===this.orientation&&(r=1-r),i=this._valueMax()-this._valueMin(),o=this._valueMin()+r*i,this._trimAlignValue(o)},_uiHash:function(t,e,n){var r={handle:this.handles[t],handleIndex:t,value:void 0!==e?e:this.value()};return this._hasMultipleValues()&&(r.value=void 0!==e?e:this.values(t),r.values=n||this.values()),r},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(t,e){return this._trigger("start",t,this._uiHash(e))},_slide:function(t,e,n){var r,i=this.value(),o=this.values();this._hasMultipleValues()&&(r=this.values(e?0:1),i=this.values(e),2===this.options.values.length&&!0===this.options.range&&(n=0===e?Math.min(r,n):Math.max(r,n)),o[e]=n),n!==i&&!1!==this._trigger("slide",t,this._uiHash(e,n,o))&&(this._hasMultipleValues()?this.values(e,n):this.value(n))},_stop:function(t,e){this._trigger("stop",t,this._uiHash(e))},_change:function(t,e){this._keySliding||this._mouseSliding||(this._lastChangedValue=e,this._trigger("change",t,this._uiHash(e)))},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,n){var r,i,o;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(n),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this._hasMultipleValues()?this._values(e):this.value();for(r=this.options.values,i=arguments[0],o=0;o<r.length;o+=1)r[o]=this._trimAlignValue(i[o]),this._change(null,o);this._refreshValue()},_setOption:function(e,n){var r,i=0;switch("range"===e&&!0===this.options.range&&("min"===n?(this.options.value=this._values(0),this.options.values=null):"max"===n&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(i=this.options.values.length),this._super(e,n),e){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(n),this.handles.css("horizontal"===n?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),r=i-1;r>=0;r--)this._change(null,r);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(t){this._super(t),this._toggleClass(null,"ui-state-disabled",!!t)},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,n,r;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this._hasMultipleValues()){for(n=this.options.values.slice(),r=0;r<n.length;r+=1)n[r]=this._trimAlignValue(n[r]);return n}return[]},_trimAlignValue:function(t){if(t<=this._valueMin())return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,n=(t-this._valueMin())%e,r=t-n;return 2*Math.abs(n)>=e&&(r+=n>0?e:-e),parseFloat(r.toFixed(5))},_calculateNewMax:function(){var t=this.options.max,e=this._valueMin(),n=this.options.step;(t=Math.round((t-e)/n)*n+e)>this.options.max&&(t-=n),this.max=parseFloat(t.toFixed(this._precision()))},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),n=e.indexOf(".");return-1===n?0:e.length-n-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(t){"vertical"===t&&this.range.css({width:"",left:""}),"horizontal"===t&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var e,n,r,i,o,a=this.options.range,s=this.options,u=this,l=!this._animateOff&&s.animate,c={};this._hasMultipleValues()?this.handles.each((function(r){n=(u.values(r)-u._valueMin())/(u._valueMax()-u._valueMin())*100,c["horizontal"===u.orientation?"left":"bottom"]=n+"%",t(this).stop(1,1)[l?"animate":"css"](c,s.animate),!0===u.options.range&&("horizontal"===u.orientation?(0===r&&u.range.stop(1,1)[l?"animate":"css"]({left:n+"%"},s.animate),1===r&&u.range[l?"animate":"css"]({width:n-e+"%"},{queue:!1,duration:s.animate})):(0===r&&u.range.stop(1,1)[l?"animate":"css"]({bottom:n+"%"},s.animate),1===r&&u.range[l?"animate":"css"]({height:n-e+"%"},{queue:!1,duration:s.animate}))),e=n})):(r=this.value(),i=this._valueMin(),o=this._valueMax(),n=o!==i?(r-i)/(o-i)*100:0,c["horizontal"===this.orientation?"left":"bottom"]=n+"%",this.handle.stop(1,1)[l?"animate":"css"](c,s.animate),"min"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:n+"%"},s.animate),"max"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:100-n+"%"},s.animate),"min"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:n+"%"},s.animate),"max"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:100-n+"%"},s.animate))},_handleEvents:{keydown:function(e){var n,r,i,o=t(e.target).data("ui-slider-handle-index");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(t(e.target),null,"ui-state-active"),!1===this._start(e,o)))return}switch(i=this.options.step,n=r=this._hasMultipleValues()?this.values(o):this.value(),e.keyCode){case t.ui.keyCode.HOME:r=this._valueMin();break;case t.ui.keyCode.END:r=this._valueMax();break;case t.ui.keyCode.PAGE_UP:r=this._trimAlignValue(n+(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.PAGE_DOWN:r=this._trimAlignValue(n-(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(n===this._valueMax())return;r=this._trimAlignValue(n+i);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(n===this._valueMin())return;r=this._trimAlignValue(n-i)}this._slide(e,o,r)},keyup:function(e){var n=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,n),this._change(e,n),this._removeClass(t(e.target),null,"ui-state-active"))}}})})?r.apply(e,i):r)||(t.exports=o)},function(t,e,n){var r,i,o;
/*!
 * jQuery UI Mouse 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */i=[n(0),n(16),n(1),n(7)],void 0===(o="function"==typeof(r=function(t){var e=!1;return t(document).on("mouseup",(function(){e=!1})),t.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,(function(t){return e._mouseDown(t)})).on("click."+this.widgetName,(function(n){if(!0===t.data(n.target,e.widgetName+".preventClickEvent"))return t.removeData(n.target,e.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1})),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(n){if(!e){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(n),this._mouseDownEvent=n;var r=this,i=1===n.which,o=!("string"!=typeof this.options.cancel||!n.target.nodeName)&&t(n.target).closest(this.options.cancel).length;return!(i&&!o&&this._mouseCapture(n)&&(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout((function(){r.mouseDelayMet=!0}),this.options.delay)),this._mouseDistanceMet(n)&&this._mouseDelayMet(n)&&(this._mouseStarted=!1!==this._mouseStart(n),!this._mouseStarted)?(n.preventDefault(),0):(!0===t.data(n.target,this.widgetName+".preventClickEvent")&&t.removeData(n.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return r._mouseMove(t)},this._mouseUpDelegate=function(t){return r._mouseUp(t)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),n.preventDefault(),e=!0,0)))}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(n){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,n.target===this._mouseDownEvent.target&&t.data(n.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(n)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,e=!1,n.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})?r.apply(e,i):r)||(t.exports=o)},function(t,e,n){var r,i,o;i=[n(0),n(1)],void 0===(o="function"==typeof(r=function(t){return t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase())})?r.apply(e,i):r)||(t.exports=o)},function(t,e,n){var r,i,o;
/*!
 * jQuery UI Keycode 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */i=[n(0),n(1)],void 0===(o="function"==typeof(r=function(t){return t.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}})?r.apply(e,i):r)||(t.exports=o)},function(t,e,n){var r=n(3),i=n(19);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);t.exports=i.locals||{}},function(t,e,n){(e=n(4)(!1)).push([t.i,".td_player_container{display:flex;flex-flow:row wrap;justify-content:flex-start}.td_player_container .td_container{display:none}.td_player_container .player_contents{flex-basis:40%;flex-grow:4;position:relative}.td_player_container:after{content:' ';clear:both;display:block}.td_player_container .volume-slider-container{flex-basis:25%;min-width:100px;flex-grow:1;max-width:300px;display:grid;min-height:35px}.td_player_container .transport-button{flex-shrink:0;flex-grow:0;padding:10px 0;margin:0 10px 0 0;border:none;color:#FFF;outline:none;width:70px}.td_player_container .transport-button.playing,.td_player_container .transport-button.stopped{cursor:pointer}.td_player_container .transport-button .status{font-size:12pt;font-weight:normal;line-height:1}.td_player_container .transport-button .transport-icon{width:35px;height:35px;display:block;margin:0px auto 4px auto;position:relative}.td_player_container #tdplayer_ondemand{display:none}.td_player_container .transport-icon .shape{stroke-width:0}\n",""]),t.exports=e},function(t,e,n){var r=n(3),i=n(21);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);t.exports=i.locals||{}},function(t,e,n){(e=n(4)(!1)).push([t.i,".spinner{animation:rotator 1.4s linear infinite;width:40px;height:auto}@keyframes rotator{0%{transform:rotate(0deg)}100%{transform:rotate(270deg)}}.path{stroke-dasharray:187;stroke-dashoffset:0;transform-origin:center;animation:dash 1.4s ease-in-out infinite}@keyframes dash{0%{stroke-dashoffset:187}50%{stroke-dashoffset:46.75;transform:rotate(135deg)}100%{stroke-dashoffset:187;transform:rotate(450deg)}}\n",""]),t.exports=e},function(t,e,n){var r=n(3),i=n(23);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);t.exports=i.locals||{}},function(t,e,n){(e=n(4)(!1)).push([t.i,"/*!\r\n * Modified from the original JQuery UI slider styles by David Purdy\r\n *\r\n * Copyright KTOO Public Media\r\n *\r\n * -----------\r\n *\r\n * jQuery UI Slider 1.12.1\r\n * http://jqueryui.com\r\n *\r\n * Copyright jQuery Foundation and other contributors\r\n * Released under the MIT license.\r\n * http://jquery.org/license\r\n *\r\n * http://api.jqueryui.com/slider/#theming\r\n */.td_player_container .ui-slider{position:relative;text-align:left;border:none;background-color:gray}.td_player_container .ui-slider .ui-slider-handle{position:absolute;z-index:2;width:20px;height:20px;cursor:default;-ms-touch-action:none;touch-action:none;outline:none;border-radius:20px;background-color:#fff}.td_player_container .ui-slider .ui-slider-range{position:absolute;z-index:1;font-size:.7em;display:block;border:0;background-position:0 0}.td_player_container .ui-slider.ui-state-disabled .ui-slider-handle,.td_player_container .ui-slider.ui-state-disabled .ui-slider-range{filter:inherit}.td_player_container .ui-slider-horizontal{height:6px;top:50%;margin-top:-3px;min-width:75px}.td_player_container .ui-slider-horizontal .ui-slider-handle{top:-7px;margin-left:-12px;margin-top:-2px;box-sizing:content-box}.td_player_container .ui-slider-horizontal .ui-slider-range{top:0;height:100%}.td_player_container .ui-slider-horizontal .ui-slider-range-min{left:0}.td_player_container .ui-slider-horizontal .ui-slider-range-max{right:0}.td_player_container .ui-slider-vertical{width:6px;height:100px}.td_player_container .ui-slider-vertical .ui-slider-handle{left:-13px;margin-left:0;margin-bottom:-10px}.td_player_container .ui-slider-vertical .ui-slider-range{left:0;width:100%}.td_player_container .ui-slider-vertical .ui-slider-range-min{bottom:0}.td_player_container .ui-slider-vertical .ui-slider-range-max{top:0}\n",""]),t.exports=e},function(t,e,n){"use strict";var r=n(25);t.exports=function(t){var e,n,o=[],a=1;if("string"==typeof t)if(r[t])o=r[t].slice(),n="rgb";else if("transparent"===t)a=0,n="rgb",o=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(t)){var s=(c=t.slice(1)).length;a=1,s<=4?(o=[parseInt(c[0]+c[0],16),parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16)],4===s&&(a=parseInt(c[3]+c[3],16)/255)):(o=[parseInt(c[0]+c[1],16),parseInt(c[2]+c[3],16),parseInt(c[4]+c[5],16)],8===s&&(a=parseInt(c[6]+c[7],16)/255)),o[0]||(o[0]=0),o[1]||(o[1]=0),o[2]||(o[2]=0),n="rgb"}else if(e=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(t)){var u=e[1],l="rgb"===u,c=u.replace(/a$/,"");n=c;s="cmyk"===c?4:"gray"===c?1:3;o=e[2].trim().split(/\s*[,\/]\s*|\s+/).map((function(t,e){if(/%$/.test(t))return e===s?parseFloat(t)/100:"rgb"===c?255*parseFloat(t)/100:parseFloat(t);if("h"===c[e]){if(/deg$/.test(t))return parseFloat(t);if(void 0!==i[t])return i[t]}return parseFloat(t)})),u===c&&o.push(1),a=l||void 0===o[s]?1:o[s],o=o.slice(0,s)}else t.length>10&&/[0-9](?:\s|\/)/.test(t)&&(o=t.match(/([0-9]+)/g).map((function(t){return parseFloat(t)})),n=t.match(/([a-z])/gi).join("").toLowerCase());else isNaN(t)?Array.isArray(t)||t.length?(o=[t[0],t[1],t[2]],n="rgb",a=4===t.length?t[3]:1):t instanceof Object&&(null!=t.r||null!=t.red||null!=t.R?(n="rgb",o=[t.r||t.red||t.R||0,t.g||t.green||t.G||0,t.b||t.blue||t.B||0]):(n="hsl",o=[t.h||t.hue||t.H||0,t.s||t.saturation||t.S||0,t.l||t.lightness||t.L||t.b||t.brightness]),a=t.a||t.alpha||t.opacity||1,null!=t.opacity&&(a/=100)):(n="rgb",o=[t>>>16,(65280&t)>>>8,255&t]);return{space:n,values:o,alpha:a}};var i={red:0,orange:60,yellow:120,green:180,blue:240,purple:300}},function(t,e,n){"use strict";t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},function(module,exports,__webpack_require__){(function(module){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__,e;function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}e=function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="./",e(0)}([function(t,e,n){n(63),n(112),t.exports=n(113)},function(t,e,n){var r,i;r=[n(5),n(4),n(2)],void 0===(i=function(t,e,n){function r(t,e){throw new Error("declare"+(e?" "+e:"")+": "+t)}function i(t,e){for(var n,i,o,a,s,u,l,c,d=[],h=[{cls:0,refs:[]}],f={},p=1,g=t.length,m=0;m<g;++m){for((o=t[m])?"[object Function]"!=b.call(o)&&r("mixin #"+m+" is not a callable constructor.",e):r("mixin #"+m+" is unknown. Did you use dojo.require to pull it in?",e),a=0,n=(i=o._meta?o._meta.bases:[o]).length-1;n>=0;--n)(s=i[n].prototype).hasOwnProperty("declaredClass")||(s.declaredClass="uniqName_"+A++),l=s.declaredClass,f.hasOwnProperty(l)||(f[l]={count:0,refs:[],cls:i[n]},++p),u=f[l],a&&a!==u&&(u.refs.push(a),++a.count),a=u;++a.count,h[0].refs.push(a)}for(;h.length;){for(a=h.pop(),d.push(a.cls),--p;1==(c=a.refs).length;){if(!(a=c[0])||--a.count){a=0;break}d.push(a.cls),--p}if(a)for(m=0,g=c.length;m<g;++m)--(a=c[m]).count||h.push(a)}return p&&r("can't build consistent linearization",e),o=t[0],d[0]=o?o._meta&&o===d[d.length-o._meta.bases.length]?o._meta.bases.length:1:0,d}function o(t,e,n){var i,o,a,s,u,l,c,d,h,f=this._inherited=this._inherited||{};if("string"==typeof t&&(i=t,t=e,e=n),n=0,s=t.callee,(i=i||s.nom)||r("can't deduce a name to call inherited()",this.declaredClass),a=(u=this.constructor._meta).bases,h=f.p,i!=T){if(f.c!==s&&(h=0,(u=(l=a[0])._meta).hidden[i]!==s)){(o=u.chains)&&"string"==typeof o[i]&&r("calling chained method with inherited: "+i,this.declaredClass);do{if(u=l._meta,c=l.prototype,u&&(c[i]===s&&c.hasOwnProperty(i)||u.hidden[i]===s))break}while(l=a[++h]);h=l?h:-1}if(l=a[++h])if(c=l.prototype,l._meta&&c.hasOwnProperty(i))n=c[i];else{d=_[i];do{if((n=(c=l.prototype)[i])&&(l._meta?c.hasOwnProperty(i):n!==d))break}while(l=a[++h])}n=l&&n||_[i]}else{if(f.c!==s&&(h=0,(u=a[0]._meta)&&u.ctor!==s)){for((o=u.chains)&&"manual"===o.constructor||r("calling chained constructor with inherited",this.declaredClass);(l=a[++h])&&(!(u=l._meta)||u.ctor!==s););h=l?h:-1}for(;(l=a[++h])&&!(n=(u=l._meta)?u.ctor:l););n=l&&n}if(f.c=n,f.p=h,n)return!0===e?n:n.apply(this,e||t)}function a(t,e){return"string"==typeof t?this.__inherited(t,e,!0):this.__inherited(t,!0)}function s(t){for(var e=this.constructor._meta.bases,n=0,r=e.length;n<r;++n)if(e[n]===t)return!0;return this instanceof t}function u(t,r){for(var i in r)i!=T&&r.hasOwnProperty(i)&&(t[i]=r[i]);if(e("bug-for-in-skips-shadowed"))for(var o=n._extraNames,a=o.length;a;)(i=o[--a])!=T&&r.hasOwnProperty(i)&&(t[i]=r[i])}function l(t){return v.safeMixin(this.prototype,t),this}function c(t,e){return v([this].concat(t),e||{})}function d(t,e){return function(){var n,r,i,o,a=arguments,s=a,u=a[0],l=t.length;if(!(this instanceof a.callee))return m(a);if(e&&(u&&u.preamble||this.preamble))for((o=new Array(t.length))[0]=a,r=0;(u=a[0])&&(n=u.preamble)&&(a=n.apply(this,a)||a),(n=(n=t[r].prototype).hasOwnProperty("preamble")&&n.preamble)&&(a=n.apply(this,a)||a),++r!=l;)o[r]=a;for(r=l-1;r>=0;--r)(n=(i=(n=t[r])._meta)?i.ctor:n)&&n.apply(this,o?o[r]:a);(n=this.postscript)&&n.apply(this,s)}}function h(t,e){return function(){var n,r=arguments,i=r,o=r[0];return this instanceof r.callee?(e&&(o&&(n=o.preamble)&&(i=n.apply(this,i)||i),(n=this.preamble)&&n.apply(this,i)),t&&t.apply(this,r),void((n=this.postscript)&&n.apply(this,r))):m(r)}}function f(t){return function(){var e,n,r=arguments,i=0;if(!(this instanceof r.callee))return m(r);for(;e=t[i];++i)if(e=(n=e._meta)?n.ctor:e){e.apply(this,r);break}(e=this.postscript)&&e.apply(this,r)}}function p(t,e,n){return function(){var r,i,o,a=0,s=1;for(n&&(a=e.length-1,s=-1);r=e[a];a+=s)(o=((i=r._meta)?i.hidden:r.prototype)[t])&&o.apply(this,arguments)}}function g(t){E.prototype=t.prototype;var e=new E;return E.prototype=null,e}function m(t){var e=t.callee,n=g(e);return e.apply(n,t),n}function v(t,e,m){"string"!=typeof t&&(m=e,e=t,t=""),m=m||{};var E,A,w,C,k,D,x,L=1,P=e;if("[object Array]"==b.call(e)?(w=(D=i(e,t))[0],e=D[L=D.length-w]):(D=[0],e?"[object Function]"==b.call(e)?(w=e._meta,D=D.concat(w?w.bases:e)):r("base class is not a callable constructor.",t):null!==e&&r("unknown base class. Did you use dojo.require to pull it in?",t)),e)for(A=L-1;E=g(e),A;--A)((w=D[A])._meta?u:y)(E,w.prototype),(C=new Function).superclass=e,C.prototype=E,e=E.constructor=C;else E={};for(v.safeMixin(E,m),(w=m.constructor)!==_.constructor&&(w.nom=T,E.constructor=w),A=L-1;A;--A)(w=D[A]._meta)&&w.chains&&(x=y(x||{},w.chains));if(E["-chains-"]&&(x=y(x||{},E["-chains-"])),w=!x||!x.hasOwnProperty(T),D[0]=C=x&&"manual"===x.constructor?f(D):1==D.length?h(m.constructor,w):d(D,w),C._meta={bases:D,hidden:m,chains:x,parents:P,ctor:m.constructor},C.superclass=e&&e.prototype,C.extend=l,C.createSubclass=c,C.prototype=E,E.constructor=C,E.getInherited=a,E.isInstanceOf=s,E.inherited=S,E.__inherited=o,t&&(E.declaredClass=t,n.setObject(t,C)),x)for(k in x)E[k]&&"string"==typeof x[k]&&k!=T&&((w=E[k]=p(k,D,"after"===x[k])).nom=k);return C}var y=n.mixin,_=Object.prototype,b=_.toString,E=new Function,A=0,T="constructor",S=t.config.isDebug?function(t,e,n){var r=this.getInherited(t,e);if(r)return r.apply(this,n||e||t)}:o;return t.safeMixin=v.safeMixin=function(t,r){var i,o;for(i in r)(o=r[i])===_[i]&&i in _||i==T||("[object Function]"==b.call(o)&&(o.nom=i),t[i]=o);if(e("bug-for-in-skips-shadowed"))for(var a=n._extraNames,s=a.length;s;)(o=r[i=a[--s]])===_[i]&&i in _||i==T||("[object Function]"==b.call(o)&&(o.nom=i),t[i]=o);return t},t.declare=v,v}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(5),n(4),n(9)],void 0===(i=function(t,e){e.add("bug-for-in-skips-shadowed",(function(){for(var t in{toString:1})return 0;return 1}));var n=e("bug-for-in-skips-shadowed")?"hasOwnProperty.valueOf.isPrototypeOf.propertyIsEnumerable.toLocaleString.toString.constructor".split("."):[],r=n.length,i=function(e,n,r){var i,o=0,a=t.global;if(!r){if(!e.length)return a;i=e[o++];try{r=t.scopeMap[i]&&t.scopeMap[i][1]}catch(t){}r=r||(i in a?a[i]:n?a[i]={}:void 0)}for(;r&&(i=e[o++]);)r=i in r?r[i]:n?r[i]={}:void 0;return r},o=Object.prototype.toString,a=function(t,e,n){return(n||[]).concat(Array.prototype.slice.call(t,e||0))},s=/\{([^\}]+)\}/g,u={_extraNames:n,_mixin:function(t,i,o){var a,s,u,l={};for(a in i)s=i[a],a in t&&(t[a]===s||a in l&&l[a]===s)||(t[a]=o?o(s):s);if(e("bug-for-in-skips-shadowed")&&i)for(u=0;u<r;++u)s=i[a=n[u]],a in t&&(t[a]===s||a in l&&l[a]===s)||(t[a]=o?o(s):s);return t},mixin:function(t,e){t||(t={});for(var n=1,r=arguments.length;n<r;n++)u._mixin(t,arguments[n]);return t},setObject:function(t,e,n){var r=t.split("."),o=r.pop(),a=i(r,!0,n);return a&&o?a[o]=e:void 0},getObject:function(t,e,n){return i(t.split("."),e,n)},exists:function(t,e){return void 0!==u.getObject(t,!1,e)},isString:function(t){return"string"==typeof t||t instanceof String},isArray:function(t){return t&&(t instanceof Array||"array"==typeof t)},isFunction:function(t){return"[object Function]"===o.call(t)},isObject:function(t){return void 0!==t&&(null===t||"object"==_typeof(t)||u.isArray(t)||u.isFunction(t))},isArrayLike:function(t){return t&&void 0!==t&&!u.isString(t)&&!u.isFunction(t)&&!(t.tagName&&"form"==t.tagName.toLowerCase())&&(u.isArray(t)||isFinite(t.length))},isAlien:function(t){return t&&!u.isFunction(t)&&/\{\s*\[native code\]\s*\}/.test(String(t))},extend:function(t,e){for(var n=1,r=arguments.length;n<r;n++)u._mixin(t.prototype,arguments[n]);return t},_hitchArgs:function(e,n){var r=u._toArray(arguments,2),i=u.isString(n);return function(){var o=u._toArray(arguments),a=i?(e||t.global)[n]:n;return a&&a.apply(e||this,r.concat(o))}},hitch:function(e,n){if(arguments.length>2)return u._hitchArgs.apply(t,arguments);if(n||(n=e,e=null),u.isString(n)){if(!(e=e||t.global)[n])throw['lang.hitch: scope["',n,'"] is null (scope="',e,'")'].join("");return function(){return e[n].apply(e,arguments||[])}}return e?function(){return n.apply(e,arguments||[])}:n},delegate:function(){function t(){}return function(e,n){t.prototype=e;var r=new t;return t.prototype=null,n&&u._mixin(r,n),r}}(),_toArray:e("ie")?function(){function t(t,e,n){for(var r=n||[],i=e||0;i<t.length;i++)r.push(t[i]);return r}return function(e){return(e.item?t:a).apply(this,arguments)}}():a,partial:function(e){var n=[null];return u.hitch.apply(t,n.concat(u._toArray(arguments)))},clone:function(t){if(!t||"object"!=_typeof(t)||u.isFunction(t))return t;if(t.nodeType&&"cloneNode"in t)return t.cloneNode(!0);if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp)return new RegExp(t);var e,n,r;if(u.isArray(t))for(e=[],n=0,r=t.length;n<r;++n)n in t&&e.push(u.clone(t[n]));else e=t.constructor?new t.constructor:{};return u._mixin(e,t,u.clone)},trim:String.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},replace:function(t,e,n){return t.replace(n||s,u.isFunction(e)?e:function(t,n){return u.getObject(n,!1,e)})}};return e("extend-dojo")&&u.mixin(t,u),u}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(33),n(5),n(9)],void 0===(i=function(t,e,n){"use strict";function r(t,e,r,i,o){var a=e.match(/(.*):(.*)/);if(a)return e=a[2],a=a[1],s.selector(a,e).call(o,t,r);if(n("touch")&&(u.test(e)&&(r=T(r)),n("event-orientationchange")||"orientationchange"!=e||(e="resize",t=window,r=T(r))),f&&(r=f(r)),t.addEventListener){var l=e in d,c=l?d[e]:e;return t.addEventListener(c,r,l),{remove:function(){t.removeEventListener(c,r,l)}}}if(e="on"+e,v&&t.attachEvent)return v(t,e,r);throw new Error("Target must be an event emitter")}function i(){this.cancelable=!1,this.defaultPrevented=!0}function o(){this.bubbles=!1}if(n("dom")){var a=window.ScriptEngineMajorVersion;n.add("jscript",a&&a()+ScriptEngineMinorVersion()/10),n.add("event-orientationchange",n("touch")&&!n("android")),n.add("event-stopimmediatepropagation",window.Event&&!!window.Event.prototype&&!!window.Event.prototype.stopImmediatePropagation),n.add("event-focusin",(function(t,e,n){return!!n.attachEvent}))}var s=function t(e,n,i,o){return"function"!=typeof e.on||"function"==typeof n||e.nodeType?t.parse(e,n,i,r,o,this):e.on(n,i)};s.pausable=function(t,e,n,r){var i,o=s(t,e,(function(){if(!i)return n.apply(this,arguments)}),r);return o.pause=function(){i=!0},o.resume=function(){i=!1},o},s.once=function(t,e,n,r){var i=s(t,e,(function(){return i.remove(),n.apply(this,arguments)}));return i},s.parse=function(t,e,n,r,i,o){if(e.call)return e.call(o,t,n);if(e.indexOf(",")>-1){for(var a,s=e.split(/\s*,\s*/),u=[],l=0;a=s[l++];)u.push(r(t,a,n,i,o));return u.remove=function(){for(var t=0;t<u.length;t++)u[t].remove()},u}return r(t,e,n,i,o)};var u=/^touch/;s.selector=function(t,n,r){return function(i,o){function a(n){for(u=u&&u.matches?u:e.query;!u.matches(n,t,i);)if(n==i||!1===r||!(n=n.parentNode)||1!=n.nodeType)return;return n}var u="function"==typeof t?{matches:t}:this,l=n.bubble;return l?s(i,l(a),o):s(i,n,(function(t){var e=a(t.target);return e&&o.call(e,t)}))}};var l=[].slice,c=s.emit=function(t,e,n){var r=l.call(arguments,2),a="on"+e;if("parentNode"in t){var s=r[0]={};for(var u in n)s[u]=n[u];s.preventDefault=i,s.stopPropagation=o,s.target=t,s.type=e,n=s}do{t[a]&&t[a].apply(t,r)}while(n&&n.bubbles&&(t=t.parentNode));return n&&n.cancelable&&n},d=n("event-focusin")?{}:{focusin:"focus",focusout:"blur"};if(!n("event-stopimmediatepropagation"))var h=function(){this.immediatelyStopped=!0,this.modified=!0},f=function(t){return function(e){if(!e.immediatelyStopped)return e.stopImmediatePropagation=h,t.apply(this,arguments)}};if(n("dom-addeventlistener"))s.emit=function(t,e,n){if(t.dispatchEvent&&document.createEvent){var r=t.ownerDocument.createEvent("HTMLEvents");for(var i in r.initEvent(e,!!n.bubbles,!!n.cancelable),n)i in r||(r[i]=n[i]);return t.dispatchEvent(r)&&r}return c.apply(s,arguments)};else{s._fixEvent=function(t,e){if(t||(t=(e&&(e.ownerDocument||e.document||e).parentWindow||window).event),!t)return t;try{p&&t.type==p.type&&t.srcElement==p.target&&(t=p)}catch(t){}if(!t.target)switch(t.target=t.srcElement,t.currentTarget=e||t.srcElement,"mouseover"==t.type&&(t.relatedTarget=t.fromElement),"mouseout"==t.type&&(t.relatedTarget=t.toElement),t.stopPropagation||(t.stopPropagation=_,t.preventDefault=b),t.type){case"keypress":var n="charCode"in t?t.charCode:t.keyCode;10==n?(n=0,t.keyCode=13):13==n||27==n?n=0:3==n&&(n=99),t.charCode=n,y(t)}return t};var p,g=function(t){this.handle=t};g.prototype.remove=function(){delete _dojoIEListeners_[this.handle]};var m=function(t){return function(e){e=s._fixEvent(e,this);var n=t.call(this,e);return e.modified&&(p||setTimeout((function(){p=null})),p=e),n}},v=function(e,r,i){if(i=m(i),((e.ownerDocument?e.ownerDocument.parentWindow:e.parentWindow||e.window||window)!=top||n("jscript")<5.8)&&!n("config-_allow_leaks")){"undefined"==typeof _dojoIEListeners_&&(_dojoIEListeners_=[]);var o,a=e[r];if(!a||!a.listeners){var s=a;(a=Function("event","var callee = arguments.callee; for(var i = 0; i<callee.listeners.length; i++){var listener = _dojoIEListeners_[callee.listeners[i]]; if(listener){listener.call(this,event);}}")).listeners=[],e[r]=a,a.global=this,s&&a.listeners.push(_dojoIEListeners_.push(s)-1)}return a.listeners.push(o=a.global._dojoIEListeners_.push(i)-1),new g(o)}return t.after(e,r,i,!0)},y=function(t){t.keyChar=t.charCode?String.fromCharCode(t.charCode):"",t.charOrCode=t.keyChar||t.keyCode},_=function(){this.cancelBubble=!0},b=s._preventDefault=function(){if(this.bubbledKeyCode=this.keyCode,this.ctrlKey)try{this.keyCode=0}catch(t){}this.defaultPrevented=!0,this.returnValue=!1,this.modified=!0}}if(n("touch"))var E=function(){},A=window.orientation,T=function(t){return function(e){if(!(i=e.corrected)){var r=e.type;try{delete e.type}catch(t){}if(e.type){if(n("mozilla")){var i={};for(var o in e)i[o]=e[o]}else E.prototype=e,i=new E;i.preventDefault=function(){e.preventDefault()},i.stopPropagation=function(){e.stopPropagation()}}else(i=e).type=r;if(e.corrected=i,"resize"==r)return A==window.orientation?null:(A=window.orientation,i.type="orientationchange",t.call(this,i));"rotation"in i||(i.rotation=0,i.scale=1);var a=i.changedTouches[0];for(var s in a)delete i[s],i[s]=a[s]}return t.call(this,i)}};return s}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(27)],void 0===(i=function(t){var e={config:function(){return{"config-deferredInstrumentation":0,"config-dojo-loader-catches":0,"config-tlmSiblingOfDojo":0,"dojo-amd-factory-scan":0,"dojo-combo-api":0,"dojo-config-api":1,"dojo-config-require":0,"dojo-debug-messages":0,"dojo-dom-ready-api":1,"dojo-firebug":0,"dojo-guarantee-console":1,"dojo-has-api":1,"dojo-inject-api":1,"dojo-loader":1,"dojo-log-api":0,"dojo-modulePaths":0,"dojo-moduleUrl":0,"dojo-publish-privates":0,"dojo-requirejs-api":0,"dojo-sniff":1,"dojo-sync-loader":0,"dojo-test-sniff":0,"dojo-timeout-api":0,"dojo-trace-api":0,"dojo-undef-api":0,"dojo-v1x-i18n-Api":1,dom:1,"host-browser":1,"extend-dojo":1,touch:0}}},n=t.has||function(){};if(!n("dojo-has-api")){var r="undefined"!=typeof window&&"undefined"!=typeof location&&"undefined"!=typeof document&&window.location==location&&window.document==document,i=this,o=r&&document,a=o&&o.createElement("DiV"),s=e.config&&e.config()||{};(n=function(t){return"function"==typeof s[t]?s[t]=s[t](i,o,a):s[t]}).cache=s,n.add=function(t,e,r,i){return(void 0===s[t]||i)&&(s[t]=e),r&&n(t)},n.add("host-browser",r),n.add("dom",r),n.add("dojo-dom-ready-api",1),n.add("dojo-sniff",1)}if(n("host-browser")){n.add("dom-addeventlistener",!!document.addEventListener),n.add("touch","ontouchstart"in document||window.navigator.msMaxTouchPoints>0),n.add("device-width",screen.availWidth||innerWidth);var u=document.createElement("form");n.add("dom-attributes-explicit",0==u.attributes.length),n.add("dom-attributes-specified-flag",u.attributes.length>0&&u.attributes.length<40)}return n.clearElement=function(t){return t.innerHTML="",t},n.normalize=function(t,e){var r=t.match(/[\?:]|[^:\?]*/g),i=0;return(t=function t(e){var o=r[i++];return":"==o?0:"?"==r[i++]?!e&&n(o)?t():(t(!0),t(e)):o||0}())&&e(t)},n.load=function(t,e,n){t?e([t],n):n()},n}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;(function(t){r=[n(4),n(76),n(27),t],void 0===(i=function(t,e,n,r){r={id:"dojo/_base/kernel"};var i,o,a,s={},u={},l={config:e,global:this,dijit:s,dojox:u},c={dojo:["dojo",l],dijit:["dijit",s],dojox:["dojox",u]},d=n.map&&n.map[r.id.match(/[^\/]+/)[0]];for(o in d)c[o]?c[o][0]=d[o]:c[o]=[d[o],{}];for(o in c)(a=c[o])[1]._scopeName=a[0],e.noGlobals||(this[a[0]]=a[1]);l.scopeMap=c,l.baseUrl=l.config.baseUrl=n.baseUrl,l.isAsync=!t("dojo-loader")||n.async,l.locale=e.locale;var h="$Rev: 31379 $".match(/\d+/);if(l.version={major:1,minor:9,patch:0,flag:"",revision:h?+h[0]:NaN,toString:function(){var t=l.version;return t.major+"."+t.minor+"."+t.patch+t.flag+" ("+t.revision+")"}},t.add("extend-dojo",1),Function("d","d.eval = function(){return d.global.eval ? d.global.eval(arguments[0]) : eval(arguments[0]);}")(l),t("host-rhino")?l.exit=function(t){quit(t)}:l.exit=function(){},t.add("dojo-guarantee-console",1),t("dojo-guarantee-console")){"undefined"!=typeof console||(console={});var f,p=["assert","count","debug","dir","dirxml","error","group","groupEnd","info","profile","profileEnd","time","timeEnd","trace","warn","log"];for(i=0;f=p[i++];)console[f]||function(){var t=f+"";console[t]="log"in console?function(){var e=Array.apply({},arguments);e.unshift(t+":")}:function(){},console[t]._fake=!0}()}if(t.add("dojo-debug-messages",!!e.isDebug),l.deprecated=l.experimental=function(){},t("dojo-debug-messages")&&(l.deprecated=function(t,e,n){var r="DEPRECATED: "+t;e&&(r+=" "+e),n&&(r+=" -- will be removed in version: "+n),console.warn(r)},l.experimental=function(t,e){var n="EXPERIMENTAL: "+t+" -- APIs subject to change without notice.";e&&(n+=" "+e),console.warn(n)}),t.add("dojo-modulePaths",1),t("dojo-modulePaths")&&e.modulePaths){l.deprecated("dojo.modulePaths","use paths configuration");var g={};for(o in e.modulePaths)g[o.replace(/\./g,"/")]=e.modulePaths[o];n({paths:g})}return t.add("dojo-moduleUrl",1),t("dojo-moduleUrl")&&(l.moduleUrl=function(t,e){l.deprecated("dojo.moduleUrl()","use require.toUrl","2.0");var r=null;return t&&(r=n.toUrl(t.replace(/\./g,"/")+(e?"/"+e:"")+"/*.*").replace(/\/\*\.\*/,"")+(e?"":"/")),r}),l._hasResource={},l}.apply(e,r))||(t.exports=i)}).call(e,n(28)(t))},function(t,e,n){var r,i;r=[n(5),n(4),n(2)],void 0===(i=function(t,e,n){function r(t){return a[t]=new Function("item","index","array",t)}function i(t){var e=!t;return function(n,i,o){var s,u=0,l=n&&n.length||0;if(l&&"string"==typeof n&&(n=n.split("")),"string"==typeof i&&(i=a[i]||r(i)),o){for(;u<l;++u)if(s=!i.call(o,n[u],u,n),t^s)return!s}else for(;u<l;++u)if(s=!i(n[u],u,n),t^s)return!s;return e}}function o(t){var e=1,n=0,r=0;return t||(e=n=r=-1),function(i,o,a,u){if(u&&e>0)return s.lastIndexOf(i,o,a);var l,c=i&&i.length||0,d=t?c+r:n;for(void 0===a?l=t?n:c+r:a<0?(l=c+a)<0&&(l=n):l=a>=c?c+r:a,c&&"string"==typeof i&&(i=i.split(""));l!=d;l+=e)if(i[l]==o)return l;return-1}}var a={},s={every:i(!1),some:i(!0),indexOf:o(!0),lastIndexOf:o(!1),forEach:function(t,e,n){var i=0,o=t&&t.length||0;if(o&&"string"==typeof t&&(t=t.split("")),"string"==typeof e&&(e=a[e]||r(e)),n)for(;i<o;++i)e.call(n,t[i],i,t);else for(;i<o;++i)e(t[i],i,t)},map:function(t,e,n,i){var o=0,s=t&&t.length||0,u=new(i||Array)(s);if(s&&"string"==typeof t&&(t=t.split("")),"string"==typeof e&&(e=a[e]||r(e)),n)for(;o<s;++o)u[o]=e.call(n,t[o],o,t);else for(;o<s;++o)u[o]=e(t[o],o,t);return u},filter:function(t,e,n){var i,o=0,s=t&&t.length||0,u=[];if(s&&"string"==typeof t&&(t=t.split("")),"string"==typeof e&&(e=a[e]||r(e)),n)for(;o<s;++o)i=t[o],e.call(n,i,o,t)&&u.push(i);else for(;o<s;++o)e(i=t[o],o,t)&&u.push(i);return u},clearCache:function(){a={}}};return e("extend-dojo")&&n.mixin(t,s),s}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(9),n(17)],void 0===(i=function(t,e){if(t("ie")<=7)try{document.execCommand("BackgroundImageCache",!1,!0)}catch(t){}var n={};t("ie")?n.byId=function(t,n){if("string"!=typeof t)return t;var r=n||e.doc,i=t&&r.getElementById(t);if(i&&(i.attributes.id.value==t||i.id==t))return i;var o=r.all[t];o&&!o.nodeName||(o=[o]);for(var a=0;i=o[a++];)if(i.attributes&&i.attributes.id&&i.attributes.id.value==t||i.id==t)return i}:n.byId=function(t,n){return("string"==typeof t?(n||e.doc).getElementById(t):t)||null},n.isDescendant=function(t,e){try{for(t=n.byId(t),e=n.byId(e);t;){if(t==e)return!0;t=t.parentNode}}catch(t){}return!1},t.add("css-user-select",(function(t,e,n){if(!n)return!1;var r=n.style,i=["Khtml","O","ms","Moz","Webkit"],o=i.length,a="userSelect";do{if(void 0!==r[a])return a}while(o--&&(a=i[o]+"UserSelect"));return!1}));var r=t("css-user-select");return n.setSelectable=r?function(t,e){n.byId(t).style[r]=e?"":"none"}:function(t,e){var r=(t=n.byId(t)).getElementsByTagName("*"),i=r.length;if(e)for(t.removeAttribute("unselectable");i--;)r[i].removeAttribute("unselectable");else for(t.setAttribute("unselectable","on");i--;)r[i].setAttribute("unselectable","on")},n}.apply(e,r))||(t.exports=i)},function(t,e,n){var r;(function(t,i){(function(){function o(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function a(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}function s(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function u(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function l(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function c(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}function d(t,e){return!(null==t||!t.length)&&E(t,e,0)>-1}function h(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function f(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function p(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function g(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function m(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function v(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function y(t){return t.match(Xt)||[]}function _(t,e,n){var r;return n(t,(function(t,n,i){if(e(t,n,i))return r=n,!1})),r}function b(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function E(t,e,n){return e==e?function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):b(t,T,n)}function A(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function T(t){return t!=t}function S(t,e){var n=null==t?0:t.length;return n?D(t,e)/n:J}function w(t){return function(e){return null==e?K:e[t]}}function C(t){return function(e){return null==t?K:t[e]}}function k(t,e,n,r,i){return i(t,(function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)})),n}function D(t,e){for(var n,r=-1,i=t.length;++r<i;){var o=e(t[r]);o!==K&&(n=n===K?o:n+o)}return n}function x(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function L(t){return function(e){return t(e)}}function P(t,e){return f(e,(function(e){return t[e]}))}function I(t,e){return t.has(e)}function R(t,e){for(var n=-1,r=t.length;++n<r&&E(e,t[n],0)>-1;);return n}function O(t,e){for(var n=t.length;n--&&E(e,t[n],0)>-1;);return n}function M(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}function N(t){return"\\"+Ke[t]}function F(t){return Be.test(t)}function j(t){return He.test(t)}function U(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function B(t,e){return function(n){return t(e(n))}}function H(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n];a!==e&&a!==X||(t[n]=X,o[i++]=n)}return o}function G(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function V(t){return F(t)?function(t){for(var e=je.lastIndex=0;je.test(t);)++e;return e}(t):cn(t)}function W(t){return F(t)?function(t){return t.match(je)||[]}(t):function(t){return t.split("")}(t)}function q(t){return t.match(Ue)||[]}var K,Y="Expected a function",z="__lodash_hash_undefined__",X="__lodash_placeholder__",$=128,Q=9007199254740991,J=NaN,Z=4294967295,tt=[["ary",$],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],et="[object Arguments]",nt="[object Array]",rt="[object Boolean]",it="[object Date]",ot="[object Error]",at="[object Function]",st="[object GeneratorFunction]",ut="[object Map]",lt="[object Number]",ct="[object Object]",dt="[object Promise]",ht="[object RegExp]",ft="[object Set]",pt="[object String]",gt="[object Symbol]",mt="[object WeakMap]",vt="[object ArrayBuffer]",yt="[object DataView]",_t="[object Float32Array]",bt="[object Float64Array]",Et="[object Int8Array]",At="[object Int16Array]",Tt="[object Int32Array]",St="[object Uint8Array]",wt="[object Uint8ClampedArray]",Ct="[object Uint16Array]",kt="[object Uint32Array]",Dt=/\b__p \+= '';/g,xt=/\b(__p \+=) '' \+/g,Lt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Pt=/&(?:amp|lt|gt|quot|#39);/g,It=/[&<>"']/g,Rt=RegExp(Pt.source),Ot=RegExp(It.source),Mt=/<%-([\s\S]+?)%>/g,Nt=/<%([\s\S]+?)%>/g,Ft=/<%=([\s\S]+?)%>/g,jt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ut=/^\w*$/,Bt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ht=/[\\^$.*+?()[\]{}|]/g,Gt=RegExp(Ht.source),Vt=/^\s+|\s+$/g,Wt=/^\s+/,qt=/\s+$/,Kt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Yt=/\{\n\/\* \[wrapped with (.+)\] \*/,zt=/,? & /,Xt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,$t=/\\(\\)?/g,Qt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Jt=/\w*$/,Zt=/^[-+]0x[0-9a-f]+$/i,te=/^0b[01]+$/i,ee=/^\[object .+?Constructor\]$/,ne=/^0o[0-7]+$/i,re=/^(?:0|[1-9]\d*)$/,ie=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,oe=/($^)/,ae=/['\n\r\u2028\u2029\\]/g,se="\\ud800-\\udfff",ue="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",le="\\u2700-\\u27bf",ce="a-z\\xdf-\\xf6\\xf8-\\xff",de="A-Z\\xc0-\\xd6\\xd8-\\xde",he="\\ufe0e\\ufe0f",fe="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",pe="['â]",ge="["+se+"]",me="["+fe+"]",ve="["+ue+"]",ye="\\d+",_e="["+le+"]",be="["+ce+"]",Ee="[^"+se+fe+ye+le+ce+de+"]",Ae="\\ud83c[\\udffb-\\udfff]",Te="[^"+se+"]",Se="(?:\\ud83c[\\udde6-\\uddff]){2}",we="[\\ud800-\\udbff][\\udc00-\\udfff]",Ce="["+de+"]",ke="(?:"+be+"|"+Ee+")",De="(?:"+Ce+"|"+Ee+")",xe="(?:['â](?:d|ll|m|re|s|t|ve))?",Le="(?:['â](?:D|LL|M|RE|S|T|VE))?",Pe="(?:"+ve+"|"+Ae+")?",Ie="["+he+"]?",Re=Ie+Pe+"(?:\\u200d(?:"+[Te,Se,we].join("|")+")"+Ie+Pe+")*",Oe="(?:"+[_e,Se,we].join("|")+")"+Re,Me="(?:"+[Te+ve+"?",ve,Se,we,ge].join("|")+")",Ne=RegExp(pe,"g"),Fe=RegExp(ve,"g"),je=RegExp(Ae+"(?="+Ae+")|"+Me+Re,"g"),Ue=RegExp([Ce+"?"+be+"+"+xe+"(?="+[me,Ce,"$"].join("|")+")",De+"+"+Le+"(?="+[me,Ce+ke,"$"].join("|")+")",Ce+"?"+ke+"+"+xe,Ce+"+"+Le,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ye,Oe].join("|"),"g"),Be=RegExp("[\\u200d"+se+ue+he+"]"),He=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ge=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ve=-1,We={};We[_t]=We[bt]=We[Et]=We[At]=We[Tt]=We[St]=We[wt]=We[Ct]=We[kt]=!0,We[et]=We[nt]=We[vt]=We[rt]=We[yt]=We[it]=We[ot]=We[at]=We[ut]=We[lt]=We[ct]=We[ht]=We[ft]=We[pt]=We[mt]=!1;var qe={};qe[et]=qe[nt]=qe[vt]=qe[yt]=qe[rt]=qe[it]=qe[_t]=qe[bt]=qe[Et]=qe[At]=qe[Tt]=qe[ut]=qe[lt]=qe[ct]=qe[ht]=qe[ft]=qe[pt]=qe[gt]=qe[St]=qe[wt]=qe[Ct]=qe[kt]=!0,qe[ot]=qe[at]=qe[mt]=!1;var Ke={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ye=parseFloat,ze=parseInt,Xe="object"==_typeof(t)&&t&&t.Object===Object&&t,$e="object"==("undefined"==typeof self?"undefined":_typeof(self))&&self&&self.Object===Object&&self,Qe=Xe||$e||Function("return this")(),Je="object"==_typeof(e)&&e&&!e.nodeType&&e,Ze=Je&&"object"==_typeof(i)&&i&&!i.nodeType&&i,tn=Ze&&Ze.exports===Je,en=tn&&Xe.process,nn=function(){try{var t=Ze&&Ze.require&&Ze.require("util").types;return t||en&&en.binding&&en.binding("util")}catch(t){}}(),rn=nn&&nn.isArrayBuffer,on=nn&&nn.isDate,an=nn&&nn.isMap,sn=nn&&nn.isRegExp,un=nn&&nn.isSet,ln=nn&&nn.isTypedArray,cn=w("length"),dn=C({"Ã":"A","Ã":"A","Ã":"A","Ã":"A","Ã":"A","Ã":"A","Ã ":"a","Ã¡":"a","Ã¢":"a","Ã£":"a","Ã¤":"a","Ã¥":"a","Ã":"C","Ã§":"c","Ã":"D","Ã°":"d","Ã":"E","Ã":"E","Ã":"E","Ã":"E","Ã¨":"e","Ã©":"e","Ãª":"e","Ã«":"e","Ã":"I","Ã":"I","Ã":"I","Ã":"I","Ã¬":"i","Ã­":"i","Ã®":"i","Ã¯":"i","Ã":"N","Ã±":"n","Ã":"O","Ã":"O","Ã":"O","Ã":"O","Ã":"O","Ã":"O","Ã²":"o","Ã³":"o","Ã´":"o","Ãµ":"o","Ã¶":"o","Ã¸":"o","Ã":"U","Ã":"U","Ã":"U","Ã":"U","Ã¹":"u","Ãº":"u","Ã»":"u","Ã¼":"u","Ã":"Y","Ã½":"y","Ã¿":"y","Ã":"Ae","Ã¦":"ae","Ã":"Th","Ã¾":"th","Ã":"ss","Ä":"A","Ä":"A","Ä":"A","Ä":"a","Ä":"a","Ä":"a","Ä":"C","Ä":"C","Ä":"C","Ä":"C","Ä":"c","Ä":"c","Ä":"c","Ä":"c","Ä":"D","Ä":"D","Ä":"d","Ä":"d","Ä":"E","Ä":"E","Ä":"E","Ä":"E","Ä":"E","Ä":"e","Ä":"e","Ä":"e","Ä":"e","Ä":"e","Ä":"G","Ä":"G","Ä ":"G","Ä¢":"G","Ä":"g","Ä":"g","Ä¡":"g","Ä£":"g","Ä¤":"H","Ä¦":"H","Ä¥":"h","Ä§":"h","Ä¨":"I","Äª":"I","Ä¬":"I","Ä®":"I","Ä°":"I","Ä©":"i","Ä«":"i","Ä­":"i","Ä¯":"i","Ä±":"i","Ä´":"J","Äµ":"j","Ä¶":"K","Ä·":"k","Ä¸":"k","Ä¹":"L","Ä»":"L","Ä½":"L","Ä¿":"L","Å":"L","Äº":"l","Ä¼":"l","Ä¾":"l","Å":"l","Å":"l","Å":"N","Å":"N","Å":"N","Å":"N","Å":"n","Å":"n","Å":"n","Å":"n","Å":"O","Å":"O","Å":"O","Å":"o","Å":"o","Å":"o","Å":"R","Å":"R","Å":"R","Å":"r","Å":"r","Å":"r","Å":"S","Å":"S","Å":"S","Å ":"S","Å":"s","Å":"s","Å":"s","Å¡":"s","Å¢":"T","Å¤":"T","Å¦":"T","Å£":"t","Å¥":"t","Å§":"t","Å¨":"U","Åª":"U","Å¬":"U","Å®":"U","Å°":"U","Å²":"U","Å©":"u","Å«":"u","Å­":"u","Å¯":"u","Å±":"u","Å³":"u","Å´":"W","Åµ":"w","Å¶":"Y","Å·":"y","Å¸":"Y","Å¹":"Z","Å»":"Z","Å½":"Z","Åº":"z","Å¼":"z","Å¾":"z","Ä²":"IJ","Ä³":"ij","Å":"Oe","Å":"oe","Å":"'n","Å¿":"s"}),hn=C({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),fn=C({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),pn=function t(e){function n(t){if(Ri(t)&&!Ts(t)&&!(t instanceof C)){if(t instanceof i)return t;if(To.call(t,"__wrapped__"))return oi(t)}return new i(t)}function r(){}function i(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=K}function C(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Z,this.__views__=[]}function Xt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function se(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function ue(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function le(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new ue;++e<n;)this.add(t[e])}function ce(t){var e=this.__data__=new se(t);this.size=e.size}function de(t,e){var n=Ts(t),r=!n&&As(t),i=!n&&!r&&ws(t),o=!n&&!r&&!i&&Ls(t),a=n||r||i||o,s=a?x(t.length,mo):[],u=s.length;for(var l in t)!e&&!To.call(t,l)||a&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Vr(l,u))||s.push(l);return s}function he(t){var e=t.length;return e?t[Cn(0,e-1)]:K}function fe(t,e){return ni(rr(t),Ae(e,0,t.length))}function pe(t){return ni(rr(t))}function ge(t,e,n){(n===K||wi(t[e],n))&&(n!==K||e in t)||be(t,e,n)}function me(t,e,n){var r=t[e];To.call(t,e)&&wi(r,n)&&(n!==K||e in t)||be(t,e,n)}function ve(t,e){for(var n=t.length;n--;)if(wi(t[n][0],e))return n;return-1}function ye(t,e,n,r){return Ea(t,(function(t,i,o){e(r,t,n(t),o)})),r}function _e(t,e){return t&&ir(e,Yi(e),t)}function be(t,e,n){"__proto__"==e&&Ho?Ho(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Ee(t,e){for(var n=-1,r=e.length,i=uo(r),o=null==t;++n<r;)i[n]=o?K:qi(t,e[n]);return i}function Ae(t,e,n){return t==t&&(n!==K&&(t=t<=n?t:n),e!==K&&(t=t>=e?t:e)),t}function Te(t,e,n,r,i,o){var a,u=1&e,l=2&e,c=4&e;if(n&&(a=i?n(t,r,i,o):n(t)),a!==K)return a;if(!Ii(t))return t;var d=Ts(t);if(d){if(a=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&To.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!u)return rr(t,a)}else{var h=Ra(t),f=h==at||h==st;if(ws(t))return Qn(t,u);if(h==ct||h==et||f&&!i){if(a=l||f?{}:Hr(t),!u)return l?function(t,e){return ir(t,Ia(t),e)}(t,function(t,e){return t&&ir(e,zi(e),t)}(a,t)):function(t,e){return ir(t,Pa(t),e)}(t,_e(a,t))}else{if(!qe[h])return i?t:{};a=function(t,e,n){var r=t.constructor;switch(e){case vt:return Jn(t);case rt:case it:return new r(+t);case yt:return function(t,e){var n=e?Jn(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case _t:case bt:case Et:case At:case Tt:case St:case wt:case Ct:case kt:return Zn(t,n);case ut:return new r;case lt:case pt:return new r(t);case ht:return function(t){var e=new t.constructor(t.source,Jt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case ft:return new r;case gt:return function(t){return ya?po(ya.call(t)):{}}(t)}}(t,h,u)}}o||(o=new ce);var p=o.get(t);if(p)return p;o.set(t,a),xs(t)?t.forEach((function(r){a.add(Te(r,e,n,r,t,o))})):ks(t)&&t.forEach((function(r,i){a.set(i,Te(r,e,n,i,t,o))}));var g=d?K:(c?l?Rr:Ir:l?zi:Yi)(t);return s(g||t,(function(r,i){g&&(r=t[i=r]),me(a,i,Te(r,e,n,i,t,o))})),a}function Se(t,e,n){var r=n.length;if(null==t)return!r;for(t=po(t);r--;){var i=n[r],o=e[i],a=t[i];if(a===K&&!(i in t)||!o(a))return!1}return!0}function we(t,e,n){if("function"!=typeof t)throw new vo(Y);return Na((function(){t.apply(K,n)}),e)}function Ce(t,e,n,r){var i=-1,o=d,a=!0,s=t.length,u=[],l=e.length;if(!s)return u;n&&(e=f(e,L(n))),r?(o=h,a=!1):e.length>=200&&(o=I,a=!1,e=new le(e));t:for(;++i<s;){var c=t[i],p=null==n?c:n(c);if(c=r||0!==c?c:0,a&&p==p){for(var g=l;g--;)if(e[g]===p)continue t;u.push(c)}else o(e,p,r)||u.push(c)}return u}function ke(t,e){var n=!0;return Ea(t,(function(t,r,i){return n=!!e(t,r,i)})),n}function De(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(null!=a&&(s===K?a==a&&!Fi(a):n(a,s)))var s=a,u=o}return u}function xe(t,e){var n=[];return Ea(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}function Le(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=Gr),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?Le(s,e-1,n,r,i):p(i,s):r||(i[i.length]=s)}return i}function Pe(t,e){return t&&Ta(t,e,Yi)}function Ie(t,e){return t&&Sa(t,e,Yi)}function Re(t,e){return c(e,(function(e){return xi(t[e])}))}function Oe(t,e){for(var n=0,r=(e=Xn(e,t)).length;null!=t&&n<r;)t=t[ri(e[n++])];return n&&n==r?t:K}function Me(t,e,n){var r=e(t);return Ts(t)?r:p(r,n(t))}function je(t){return null==t?t===K?"[object Undefined]":"[object Null]":Bo&&Bo in po(t)?function(t){var e=To.call(t,Bo),n=t[Bo];try{t[Bo]=K;var r=!0}catch(t){}var i=Co.call(t);return r&&(e?t[Bo]=n:delete t[Bo]),i}(t):function(t){return Co.call(t)}(t)}function Ue(t,e){return t>e}function Be(t,e){return null!=t&&To.call(t,e)}function He(t,e){return null!=t&&e in po(t)}function Ke(t,e,n){for(var r=n?h:d,i=t[0].length,o=t.length,a=o,s=uo(o),u=1/0,l=[];a--;){var c=t[a];a&&e&&(c=f(c,L(e))),u=Zo(c.length,u),s[a]=!n&&(e||i>=120&&c.length>=120)?new le(a&&c):K}c=t[0];var p=-1,g=s[0];t:for(;++p<i&&l.length<u;){var m=c[p],v=e?e(m):m;if(m=n||0!==m?m:0,!(g?I(g,v):r(l,v,n))){for(a=o;--a;){var y=s[a];if(!(y?I(y,v):r(t[a],v,n)))continue t}g&&g.push(v),l.push(m)}}return l}function Xe(t,e,n){var r=null==(t=Qr(t,e=Xn(e,t)))?t:t[ri(ci(e))];return null==r?K:o(r,t,n)}function $e(t){return Ri(t)&&je(t)==et}function Je(t,e,n,r,i){return t===e||(null==t||null==e||!Ri(t)&&!Ri(e)?t!=t&&e!=e:function(t,e,n,r,i,o){var a=Ts(t),s=Ts(e),u=a?nt:Ra(t),l=s?nt:Ra(e),c=(u=u==et?ct:u)==ct,d=(l=l==et?ct:l)==ct,h=u==l;if(h&&ws(t)){if(!ws(e))return!1;a=!0,c=!1}if(h&&!c)return o||(o=new ce),a||Ls(t)?Lr(t,e,n,r,i,o):function(t,e,n,r,i,o,a){switch(n){case yt:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case vt:return!(t.byteLength!=e.byteLength||!o(new Io(t),new Io(e)));case rt:case it:case lt:return wi(+t,+e);case ot:return t.name==e.name&&t.message==e.message;case ht:case pt:return t==e+"";case ut:var s=U;case ft:var u=1&r;if(s||(s=G),t.size!=e.size&&!u)return!1;var l=a.get(t);if(l)return l==e;r|=2,a.set(t,e);var c=Lr(s(t),s(e),r,i,o,a);return a.delete(t),c;case gt:if(ya)return ya.call(t)==ya.call(e)}return!1}(t,e,u,n,r,i,o);if(!(1&n)){var f=c&&To.call(t,"__wrapped__"),p=d&&To.call(e,"__wrapped__");if(f||p){var g=f?t.value():t,m=p?e.value():e;return o||(o=new ce),i(g,m,n,r,o)}}return!!h&&(o||(o=new ce),function(t,e,n,r,i,o){var a=1&n,s=Ir(t),u=s.length,l=Ir(e).length;if(u!=l&&!a)return!1;for(var c=u;c--;){var d=s[c];if(!(a?d in e:To.call(e,d)))return!1}var h=o.get(t);if(h&&o.get(e))return h==e;var f=!0;o.set(t,e),o.set(e,t);for(var p=a;++c<u;){d=s[c];var g=t[d],m=e[d];if(r)var v=a?r(m,g,d,e,t,o):r(g,m,d,t,e,o);if(!(v===K?g===m||i(g,m,n,r,o):v)){f=!1;break}p||(p="constructor"==d)}if(f&&!p){var y=t.constructor,_=e.constructor;y!=_&&"constructor"in t&&"constructor"in e&&!("function"==typeof y&&y instanceof y&&"function"==typeof _&&_ instanceof _)&&(f=!1)}return o.delete(t),o.delete(e),f}(t,e,n,r,i,o))}(t,e,n,r,Je,i))}function Ze(t,e,n,r){var i=n.length,o=i,a=!r;if(null==t)return!o;for(t=po(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){var u=(s=n[i])[0],l=t[u],c=s[1];if(a&&s[2]){if(l===K&&!(u in t))return!1}else{var d=new ce;if(r)var h=r(l,c,u,t,e,d);if(!(h===K?Je(c,l,3,r,d):h))return!1}}return!0}function en(t){return!(!Ii(t)||function(t){return!!wo&&wo in t}(t))&&(xi(t)?xo:ee).test(ii(t))}function nn(t){return"function"==typeof t?t:null==t?eo:"object"==_typeof(t)?Ts(t)?_n(t[0],t[1]):yn(t):oo(t)}function cn(t){if(!Yr(t))return Qo(t);var e=[];for(var n in po(t))To.call(t,n)&&"constructor"!=n&&e.push(n);return e}function gn(t){if(!Ii(t))return function(t){var e=[];if(null!=t)for(var n in po(t))e.push(n);return e}(t);var e=Yr(t),n=[];for(var r in t)("constructor"!=r||!e&&To.call(t,r))&&n.push(r);return n}function mn(t,e){return t<e}function vn(t,e){var n=-1,r=Ci(t)?uo(t.length):[];return Ea(t,(function(t,i,o){r[++n]=e(t,i,o)})),r}function yn(t){var e=jr(t);return 1==e.length&&e[0][2]?Xr(e[0][0],e[0][1]):function(n){return n===t||Ze(n,t,e)}}function _n(t,e){return qr(t)&&zr(e)?Xr(ri(t),e):function(n){var r=qi(n,t);return r===K&&r===e?Ki(n,t):Je(e,r,3)}}function bn(t,e,n,r,i){t!==e&&Ta(e,(function(o,a){if(i||(i=new ce),Ii(o))!function(t,e,n,r,i,o,a){var s=Zr(t,n),u=Zr(e,n),l=a.get(u);if(l)ge(t,n,l);else{var c=o?o(s,u,n+"",t,e,a):K,d=c===K;if(d){var h=Ts(u),f=!h&&ws(u),p=!h&&!f&&Ls(u);c=u,h||f||p?Ts(s)?c=s:ki(s)?c=rr(s):f?(d=!1,c=Qn(u,!0)):p?(d=!1,c=Zn(u,!0)):c=[]:Mi(u)||As(u)?(c=s,As(s)?c=Vi(s):Ii(s)&&!xi(s)||(c=Hr(u))):d=!1}d&&(a.set(u,c),i(c,u,r,o,a),a.delete(u)),ge(t,n,c)}}(t,e,a,n,bn,r,i);else{var s=r?r(Zr(t,a),o,a+"",t,e,i):K;s===K&&(s=o),ge(t,a,s)}}),zi)}function En(t,e){var n=t.length;if(n)return Vr(e+=e<0?n:0,n)?t[e]:K}function An(t,e,n){var r=-1;return e=f(e.length?e:[eo],L(Nr())),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(vn(t,(function(t,n,i){return{criteria:f(e,(function(e){return e(t)})),index:++r,value:t}})),(function(t,e){return function(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var u=tr(i[r],o[r]);if(u){if(r>=s)return u;var l=n[r];return u*("desc"==l?-1:1)}}return t.index-e.index}(t,e,n)}))}function Tn(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],s=Oe(t,a);n(s,a)&&Pn(o,Xn(a,t),s)}return o}function Sn(t,e,n,r){var i=r?A:E,o=-1,a=e.length,s=t;for(t===e&&(e=rr(e)),n&&(s=f(t,L(n)));++o<a;)for(var u=0,l=e[o],c=n?n(l):l;(u=i(s,c,u,r))>-1;)s!==t&&Fo.call(s,u,1),Fo.call(t,u,1);return t}function wn(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;Vr(i)?Fo.call(t,i,1):Hn(t,i)}}return t}function Cn(t,e){return t+Ko(na()*(e-t+1))}function kn(t,e){var n="";if(!t||e<1||e>Q)return n;do{e%2&&(n+=t),(e=Ko(e/2))&&(t+=t)}while(e);return n}function Dn(t,e){return Fa($r(t,e,eo),t+"")}function xn(t){return he($i(t))}function Ln(t,e){var n=$i(t);return ni(n,Ae(e,0,n.length))}function Pn(t,e,n,r){if(!Ii(t))return t;for(var i=-1,o=(e=Xn(e,t)).length,a=o-1,s=t;null!=s&&++i<o;){var u=ri(e[i]),l=n;if(i!=a){var c=s[u];(l=r?r(c,u,s):K)===K&&(l=Ii(c)?c:Vr(e[i+1])?[]:{})}me(s,u,l),s=s[u]}return t}function In(t){return ni($i(t))}function Rn(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=uo(i);++r<i;)o[r]=t[r+e];return o}function On(t,e){var n;return Ea(t,(function(t,r,i){return!(n=e(t,r,i))})),!!n}function Mn(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e==e&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=t[o];null!==a&&!Fi(a)&&(n?a<=e:a<e)?r=o+1:i=o}return i}return Nn(t,e,eo,n)}function Nn(t,e,n,r){e=n(e);for(var i=0,o=null==t?0:t.length,a=e!=e,s=null===e,u=Fi(e),l=e===K;i<o;){var c=Ko((i+o)/2),d=n(t[c]),h=d!==K,f=null===d,p=d==d,g=Fi(d);if(a)var m=r||p;else m=l?p&&(r||h):s?p&&h&&(r||!f):u?p&&h&&!f&&(r||!g):!f&&!g&&(r?d<=e:d<e);m?i=c+1:o=c}return Zo(o,4294967294)}function Fn(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n],s=e?e(a):a;if(!n||!wi(s,u)){var u=s;o[i++]=0===a?0:a}}return o}function jn(t){return"number"==typeof t?t:Fi(t)?J:+t}function Un(t){if("string"==typeof t)return t;if(Ts(t))return f(t,Un)+"";if(Fi(t))return _a?_a.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Bn(t,e,n){var r=-1,i=d,o=t.length,a=!0,s=[],u=s;if(n)a=!1,i=h;else if(o>=200){var l=e?null:xa(t);if(l)return G(l);a=!1,i=I,u=new le}else u=e?[]:s;t:for(;++r<o;){var c=t[r],f=e?e(c):c;if(c=n||0!==c?c:0,a&&f==f){for(var p=u.length;p--;)if(u[p]===f)continue t;e&&u.push(f),s.push(c)}else i(u,f,n)||(u!==s&&u.push(f),s.push(c))}return s}function Hn(t,e){return null==(t=Qr(t,e=Xn(e,t)))||delete t[ri(ci(e))]}function Gn(t,e,n,r){return Pn(t,e,n(Oe(t,e)),r)}function Vn(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?Rn(t,r?0:o,r?o+1:i):Rn(t,r?o+1:0,r?i:o)}function Wn(t,e){var n=t;return n instanceof C&&(n=n.value()),g(e,(function(t,e){return e.func.apply(e.thisArg,p([t],e.args))}),n)}function qn(t,e,n){var r=t.length;if(r<2)return r?Bn(t[0]):[];for(var i=-1,o=uo(r);++i<r;)for(var a=t[i],s=-1;++s<r;)s!=i&&(o[i]=Ce(o[i]||a,t[s],e,n));return Bn(Le(o,1),e,n)}function Kn(t,e,n){for(var r=-1,i=t.length,o=e.length,a={};++r<i;){var s=r<o?e[r]:K;n(a,t[r],s)}return a}function Yn(t){return ki(t)?t:[]}function zn(t){return"function"==typeof t?t:eo}function Xn(t,e){return Ts(t)?t:qr(t,e)?[t]:ja(Wi(t))}function $n(t,e,n){var r=t.length;return n=n===K?r:n,!e&&n>=r?t:Rn(t,e,n)}function Qn(t,e){if(e)return t.slice();var n=t.length,r=Ro?Ro(n):new t.constructor(n);return t.copy(r),r}function Jn(t){var e=new t.constructor(t.byteLength);return new Io(e).set(new Io(t)),e}function Zn(t,e){var n=e?Jn(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function tr(t,e){if(t!==e){var n=t!==K,r=null===t,i=t==t,o=Fi(t),a=e!==K,s=null===e,u=e==e,l=Fi(e);if(!s&&!l&&!o&&t>e||o&&a&&u&&!s&&!l||r&&a&&u||!n&&u||!i)return 1;if(!r&&!o&&!l&&t<e||l&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!u)return-1}return 0}function er(t,e,n,r){for(var i=-1,o=t.length,a=n.length,s=-1,u=e.length,l=Jo(o-a,0),c=uo(u+l),d=!r;++s<u;)c[s]=e[s];for(;++i<a;)(d||i<o)&&(c[n[i]]=t[i]);for(;l--;)c[s++]=t[i++];return c}function nr(t,e,n,r){for(var i=-1,o=t.length,a=-1,s=n.length,u=-1,l=e.length,c=Jo(o-s,0),d=uo(c+l),h=!r;++i<c;)d[i]=t[i];for(var f=i;++u<l;)d[f+u]=e[u];for(;++a<s;)(h||i<o)&&(d[f+n[a]]=t[i++]);return d}function rr(t,e){var n=-1,r=t.length;for(e||(e=uo(r));++n<r;)e[n]=t[n];return e}function ir(t,e,n,r){var i=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var s=e[o],u=r?r(n[s],t[s],s,n,t):K;u===K&&(u=t[s]),i?be(n,s,u):me(n,s,u)}return n}function or(t,e){return function(n,r){var i=Ts(n)?a:ye,o=e?e():{};return i(n,t,Nr(r,2),o)}}function ar(t){return Dn((function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:K,a=i>2?n[2]:K;for(o=t.length>3&&"function"==typeof o?(i--,o):K,a&&Wr(n[0],n[1],a)&&(o=i<3?K:o,i=1),e=po(e);++r<i;){var s=n[r];s&&t(e,s,r,o)}return e}))}function sr(t,e){return function(n,r){if(null==n)return n;if(!Ci(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=po(n);(e?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function ur(t){return function(e,n,r){for(var i=-1,o=po(e),a=r(e),s=a.length;s--;){var u=a[t?s:++i];if(!1===n(o[u],u,o))break}return e}}function lr(t){return function(e){var n=F(e=Wi(e))?W(e):K,r=n?n[0]:e.charAt(0),i=n?$n(n,1).join(""):e.slice(1);return r[t]()+i}}function cr(t){return function(e){return g(Zi(Ji(e).replace(Ne,"")),t,"")}}function dr(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=ba(t.prototype),r=t.apply(n,e);return Ii(r)?r:n}}function hr(t,e,n){var r=dr(t);return function i(){for(var a=arguments.length,s=uo(a),u=a,l=Mr(i);u--;)s[u]=arguments[u];var c=a<3&&s[0]!==l&&s[a-1]!==l?[]:H(s,l);if((a-=c.length)<n)return Tr(t,e,gr,i.placeholder,K,s,c,K,K,n-a);var d=this&&this!==Qe&&this instanceof i?r:t;return o(d,this,s)}}function fr(t){return function(e,n,r){var i=po(e);if(!Ci(e)){var o=Nr(n,3);e=Yi(e),n=function(t){return o(i[t],t,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:K}}function pr(t){return Pr((function(e){var n=e.length,r=n,o=i.prototype.thru;for(t&&e.reverse();r--;){var a=e[r];if("function"!=typeof a)throw new vo(Y);if(o&&!s&&"wrapper"==Or(a))var s=new i([],!0)}for(r=s?r:n;++r<n;){var u=Or(a=e[r]),l="wrapper"==u?La(a):K;s=l&&Kr(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?s[Or(l[0])].apply(s,l[3]):1==a.length&&Kr(a)?s[u]():s.thru(a)}return function(){var t=arguments,r=t[0];if(s&&1==t.length&&Ts(r))return s.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}}))}function gr(t,e,n,r,i,o,a,s,u,l){var c=e&$,d=1&e,h=2&e,f=24&e,p=512&e,g=h?K:dr(t);return function m(){for(var v=arguments.length,y=uo(v),_=v;_--;)y[_]=arguments[_];if(f)var b=Mr(m),E=M(y,b);if(r&&(y=er(y,r,i,f)),o&&(y=nr(y,o,a,f)),v-=E,f&&v<l){var A=H(y,b);return Tr(t,e,gr,m.placeholder,n,y,A,s,u,l-v)}var T=d?n:this,S=h?T[t]:t;return v=y.length,s?y=Jr(y,s):p&&v>1&&y.reverse(),c&&u<v&&(y.length=u),this&&this!==Qe&&this instanceof m&&(S=g||dr(S)),S.apply(T,y)}}function mr(t,e){return function(n,r){return function(t,e,n,r){return Pe(t,(function(t,i,o){e(r,n(t),i,o)})),r}(n,t,e(r),{})}}function vr(t,e){return function(n,r){var i;if(n===K&&r===K)return e;if(n!==K&&(i=n),r!==K){if(i===K)return r;"string"==typeof n||"string"==typeof r?(n=Un(n),r=Un(r)):(n=jn(n),r=jn(r)),i=t(n,r)}return i}}function yr(t){return Pr((function(e){return e=f(e,L(Nr())),Dn((function(n){var r=this;return t(e,(function(t){return o(t,r,n)}))}))}))}function _r(t,e){var n=(e=e===K?" ":Un(e)).length;if(n<2)return n?kn(e,t):e;var r=kn(e,qo(t/V(e)));return F(e)?$n(W(r),0,t).join(""):r.slice(0,t)}function br(t,e,n,r){var i=1&e,a=dr(t);return function e(){for(var s=-1,u=arguments.length,l=-1,c=r.length,d=uo(c+u),h=this&&this!==Qe&&this instanceof e?a:t;++l<c;)d[l]=r[l];for(;u--;)d[l++]=arguments[++s];return o(h,i?n:this,d)}}function Er(t){return function(e,n,r){return r&&"number"!=typeof r&&Wr(e,n,r)&&(n=r=K),e=Ui(e),n===K?(n=e,e=0):n=Ui(n),function(t,e,n,r){for(var i=-1,o=Jo(qo((e-t)/(n||1)),0),a=uo(o);o--;)a[r?o:++i]=t,t+=n;return a}(e,n,r=r===K?e<n?1:-1:Ui(r),t)}}function Ar(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=Gi(e),n=Gi(n)),t(e,n)}}function Tr(t,e,n,r,i,o,a,s,u,l){var c=8&e;e|=c?32:64,4&(e&=~(c?64:32))||(e&=-4);var d=[t,e,i,c?o:K,c?a:K,c?K:o,c?K:a,s,u,l],h=n.apply(K,d);return Kr(t)&&Ma(h,d),h.placeholder=r,ti(h,t,e)}function Sr(t){var e=fo[t];return function(t,n){if(t=Gi(t),(n=null==n?0:Zo(Bi(n),292))&&Xo(t)){var r=(Wi(t)+"e").split("e");return+((r=(Wi(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}function wr(t){return function(e){var n=Ra(e);return n==ut?U(e):n==ft?function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}(e):function(t,e){return f(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Cr(t,e,n,r,i,o,a,s){var u=2&e;if(!u&&"function"!=typeof t)throw new vo(Y);var l=r?r.length:0;if(l||(e&=-97,r=i=K),a=a===K?a:Jo(Bi(a),0),s=s===K?s:Bi(s),l-=i?i.length:0,64&e){var c=r,d=i;r=i=K}var h=u?K:La(t),f=[t,e,n,r,i,c,d,o,a,s];if(h&&function(t,e){var n=t[1],r=e[1],i=n|r,o=i<131,a=r==$&&8==n||r==$&&256==n&&t[7].length<=e[8]||384==r&&e[7].length<=e[8]&&8==n;if(!o&&!a)return t;1&r&&(t[2]=e[2],i|=1&n?0:4);var s=e[3];if(s){var u=t[3];t[3]=u?er(u,s,e[4]):s,t[4]=u?H(t[3],X):e[4]}(s=e[5])&&(u=t[5],t[5]=u?nr(u,s,e[6]):s,t[6]=u?H(t[5],X):e[6]),(s=e[7])&&(t[7]=s),r&$&&(t[8]=null==t[8]?e[8]:Zo(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i}(f,h),t=f[0],e=f[1],n=f[2],r=f[3],i=f[4],!(s=f[9]=f[9]===K?u?0:t.length:Jo(f[9]-l,0))&&24&e&&(e&=-25),e&&1!=e)p=8==e||16==e?hr(t,e,s):32!=e&&33!=e||i.length?gr.apply(K,f):br(t,e,n,r);else var p=function(t,e,n){var r=1&e,i=dr(t);return function e(){var o=this&&this!==Qe&&this instanceof e?i:t;return o.apply(r?n:this,arguments)}}(t,e,n);return ti((h?wa:Ma)(p,f),t,e)}function kr(t,e,n,r){return t===K||wi(t,bo[n])&&!To.call(r,n)?e:t}function Dr(t,e,n,r,i,o){return Ii(t)&&Ii(e)&&(o.set(e,t),bn(t,e,K,Dr,o),o.delete(e)),t}function xr(t){return Mi(t)?K:t}function Lr(t,e,n,r,i,o){var a=1&n,s=t.length,u=e.length;if(s!=u&&!(a&&u>s))return!1;var l=o.get(t);if(l&&o.get(e))return l==e;var c=-1,d=!0,h=2&n?new le:K;for(o.set(t,e),o.set(e,t);++c<s;){var f=t[c],p=e[c];if(r)var g=a?r(p,f,c,e,t,o):r(f,p,c,t,e,o);if(g!==K){if(g)continue;d=!1;break}if(h){if(!v(e,(function(t,e){if(!I(h,e)&&(f===t||i(f,t,n,r,o)))return h.push(e)}))){d=!1;break}}else if(f!==p&&!i(f,p,n,r,o)){d=!1;break}}return o.delete(t),o.delete(e),d}function Pr(t){return Fa($r(t,K,ui),t+"")}function Ir(t){return Me(t,Yi,Pa)}function Rr(t){return Me(t,zi,Ia)}function Or(t){for(var e=t.name+"",n=da[e],r=To.call(da,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function Mr(t){return(To.call(n,"placeholder")?n:t).placeholder}function Nr(){var t=n.iteratee||no;return t=t===no?nn:t,arguments.length?t(arguments[0],arguments[1]):t}function Fr(t,e){var n=t.__data__;return function(t){var e=_typeof(t);return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map}function jr(t){for(var e=Yi(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,zr(i)]}return e}function Ur(t,e){var n=function(t,e){return null==t?K:t[e]}(t,e);return en(n)?n:K}function Br(t,e,n){for(var r=-1,i=(e=Xn(e,t)).length,o=!1;++r<i;){var a=ri(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&Pi(i)&&Vr(a,i)&&(Ts(t)||As(t))}function Hr(t){return"function"!=typeof t.constructor||Yr(t)?{}:ba(Oo(t))}function Gr(t){return Ts(t)||As(t)||!!(jo&&t&&t[jo])}function Vr(t,e){var n=_typeof(t);return!!(e=null==e?Q:e)&&("number"==n||"symbol"!=n&&re.test(t))&&t>-1&&t%1==0&&t<e}function Wr(t,e,n){if(!Ii(n))return!1;var r=_typeof(e);return!!("number"==r?Ci(n)&&Vr(e,n.length):"string"==r&&e in n)&&wi(n[e],t)}function qr(t,e){if(Ts(t))return!1;var n=_typeof(t);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Fi(t))||Ut.test(t)||!jt.test(t)||null!=e&&t in po(e)}function Kr(t){var e=Or(t),r=n[e];if("function"!=typeof r||!(e in C.prototype))return!1;if(t===r)return!0;var i=La(r);return!!i&&t===i[0]}function Yr(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||bo)}function zr(t){return t==t&&!Ii(t)}function Xr(t,e){return function(n){return null!=n&&n[t]===e&&(e!==K||t in po(n))}}function $r(t,e,n){return e=Jo(e===K?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=Jo(r.length-e,0),s=uo(a);++i<a;)s[i]=r[e+i];i=-1;for(var u=uo(e+1);++i<e;)u[i]=r[i];return u[e]=n(s),o(t,this,u)}}function Qr(t,e){return e.length<2?t:Oe(t,Rn(e,0,-1))}function Jr(t,e){for(var n=t.length,r=Zo(e.length,n),i=rr(t);r--;){var o=e[r];t[r]=Vr(o,n)?i[o]:K}return t}function Zr(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}function ti(t,e,n){var r=e+"";return Fa(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(Kt,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return s(tt,(function(n){var r="_."+n[0];e&n[1]&&!d(t,r)&&t.push(r)})),t.sort()}(function(t){var e=t.match(Yt);return e?e[1].split(zt):[]}(r),n)))}function ei(t){var e=0,n=0;return function(){var r=ta(),i=16-(r-n);if(n=r,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(K,arguments)}}function ni(t,e){var n=-1,r=t.length,i=r-1;for(e=e===K?r:e;++n<e;){var o=Cn(n,i),a=t[o];t[o]=t[n],t[n]=a}return t.length=e,t}function ri(t){if("string"==typeof t||Fi(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function ii(t){if(null!=t){try{return Ao.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function oi(t){if(t instanceof C)return t.clone();var e=new i(t.__wrapped__,t.__chain__);return e.__actions__=rr(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function ai(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:Bi(n);return i<0&&(i=Jo(r+i,0)),b(t,Nr(e,3),i)}function si(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return n!==K&&(i=Bi(n),i=n<0?Jo(r+i,0):Zo(i,r-1)),b(t,Nr(e,3),i,!0)}function ui(t){return null!=t&&t.length?Le(t,1):[]}function li(t){return t&&t.length?t[0]:K}function ci(t){var e=null==t?0:t.length;return e?t[e-1]:K}function di(t,e){return t&&t.length&&e&&e.length?Sn(t,e):t}function hi(t){return null==t?t:ra.call(t)}function fi(t){if(!t||!t.length)return[];var e=0;return t=c(t,(function(t){if(ki(t))return e=Jo(t.length,e),!0})),x(e,(function(e){return f(t,w(e))}))}function pi(t,e){if(!t||!t.length)return[];var n=fi(t);return null==e?n:f(n,(function(t){return o(e,K,t)}))}function gi(t){var e=n(t);return e.__chain__=!0,e}function mi(t,e){return e(t)}function vi(t,e){return(Ts(t)?s:Ea)(t,Nr(e,3))}function yi(t,e){return(Ts(t)?u:Aa)(t,Nr(e,3))}function _i(t,e){return(Ts(t)?f:vn)(t,Nr(e,3))}function bi(t,e,n){return e=n?K:e,e=t&&null==e?t.length:e,Cr(t,$,K,K,K,K,e)}function Ei(t,e){var n;if("function"!=typeof e)throw new vo(Y);return t=Bi(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=K),n}}function Ai(t,e,n){function r(e){var n=l,r=c;return l=c=K,g=e,h=t.apply(r,n)}function i(t){return g=t,f=Na(a,e),m?r(t):h}function o(t){var n=t-p;return p===K||n>=e||n<0||v&&t-g>=d}function a(){var t=ds();return o(t)?s(t):void(f=Na(a,function(t){var n=e-(t-p);return v?Zo(n,d-(t-g)):n}(t)))}function s(t){return f=K,y&&l?r(t):(l=c=K,h)}function u(){var t=ds(),n=o(t);if(l=arguments,c=this,p=t,n){if(f===K)return i(p);if(v)return Da(f),f=Na(a,e),r(p)}return f===K&&(f=Na(a,e)),h}var l,c,d,h,f,p,g=0,m=!1,v=!1,y=!0;if("function"!=typeof t)throw new vo(Y);return e=Gi(e)||0,Ii(n)&&(m=!!n.leading,d=(v="maxWait"in n)?Jo(Gi(n.maxWait)||0,e):d,y="trailing"in n?!!n.trailing:y),u.cancel=function(){f!==K&&Da(f),g=0,l=p=c=f=K},u.flush=function(){return f===K?h:s(ds())},u}function Ti(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new vo(Y);var n=function n(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Ti.Cache||ue),n}function Si(t){if("function"!=typeof t)throw new vo(Y);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function wi(t,e){return t===e||t!=t&&e!=e}function Ci(t){return null!=t&&Pi(t.length)&&!xi(t)}function ki(t){return Ri(t)&&Ci(t)}function Di(t){if(!Ri(t))return!1;var e=je(t);return e==ot||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!Mi(t)}function xi(t){if(!Ii(t))return!1;var e=je(t);return e==at||e==st||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Li(t){return"number"==typeof t&&t==Bi(t)}function Pi(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Q}function Ii(t){var e=_typeof(t);return null!=t&&("object"==e||"function"==e)}function Ri(t){return null!=t&&"object"==_typeof(t)}function Oi(t){return"number"==typeof t||Ri(t)&&je(t)==lt}function Mi(t){if(!Ri(t)||je(t)!=ct)return!1;var e=Oo(t);if(null===e)return!0;var n=To.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Ao.call(n)==ko}function Ni(t){return"string"==typeof t||!Ts(t)&&Ri(t)&&je(t)==pt}function Fi(t){return"symbol"==_typeof(t)||Ri(t)&&je(t)==gt}function ji(t){if(!t)return[];if(Ci(t))return Ni(t)?W(t):rr(t);if(Uo&&t[Uo])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[Uo]());var e=Ra(t);return(e==ut?U:e==ft?G:$i)(t)}function Ui(t){return t?(t=Gi(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function Bi(t){var e=Ui(t),n=e%1;return e==e?n?e-n:e:0}function Hi(t){return t?Ae(Bi(t),0,Z):0}function Gi(t){if("number"==typeof t)return t;if(Fi(t))return J;if(Ii(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Ii(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Vt,"");var n=te.test(t);return n||ne.test(t)?ze(t.slice(2),n?2:8):Zt.test(t)?J:+t}function Vi(t){return ir(t,zi(t))}function Wi(t){return null==t?"":Un(t)}function qi(t,e,n){var r=null==t?K:Oe(t,e);return r===K?n:r}function Ki(t,e){return null!=t&&Br(t,e,He)}function Yi(t){return Ci(t)?de(t):cn(t)}function zi(t){return Ci(t)?de(t,!0):gn(t)}function Xi(t,e){if(null==t)return{};var n=f(Rr(t),(function(t){return[t]}));return e=Nr(e),Tn(t,n,(function(t,n){return e(t,n[0])}))}function $i(t){return null==t?[]:P(t,Yi(t))}function Qi(t){return nu(Wi(t).toLowerCase())}function Ji(t){return(t=Wi(t))&&t.replace(ie,dn).replace(Fe,"")}function Zi(t,e,n){return t=Wi(t),(e=n?K:e)===K?j(t)?q(t):y(t):t.match(e)||[]}function to(t){return function(){return t}}function eo(t){return t}function no(t){return nn("function"==typeof t?t:Te(t,1))}function ro(t,e,n){var r=Yi(e),i=Re(e,r);null!=n||Ii(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=Re(e,Yi(e)));var o=!(Ii(n)&&"chain"in n&&!n.chain),a=xi(t);return s(i,(function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__),i=n.__actions__=rr(this.__actions__);return i.push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,p([this.value()],arguments))})})),t}function io(){}function oo(t){return qr(t)?w(ri(t)):function(t){return function(e){return Oe(e,t)}}(t)}function ao(){return[]}function so(){return!1}var uo=(e=null==e?Qe:pn.defaults(Qe.Object(),e,pn.pick(Qe,Ge))).Array,lo=e.Date,co=e.Error,ho=e.Function,fo=e.Math,po=e.Object,go=e.RegExp,mo=e.String,vo=e.TypeError,yo=uo.prototype,_o=ho.prototype,bo=po.prototype,Eo=e["__core-js_shared__"],Ao=_o.toString,To=bo.hasOwnProperty,So=0,wo=function(){var t=/[^.]+$/.exec(Eo&&Eo.keys&&Eo.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Co=bo.toString,ko=Ao.call(po),Do=Qe._,xo=go("^"+Ao.call(To).replace(Ht,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Lo=tn?e.Buffer:K,Po=e.Symbol,Io=e.Uint8Array,Ro=Lo?Lo.allocUnsafe:K,Oo=B(po.getPrototypeOf,po),Mo=po.create,No=bo.propertyIsEnumerable,Fo=yo.splice,jo=Po?Po.isConcatSpreadable:K,Uo=Po?Po.iterator:K,Bo=Po?Po.toStringTag:K,Ho=function(){try{var t=Ur(po,"defineProperty");return t({},"",{}),t}catch(t){}}(),Go=e.clearTimeout!==Qe.clearTimeout&&e.clearTimeout,Vo=lo&&lo.now!==Qe.Date.now&&lo.now,Wo=e.setTimeout!==Qe.setTimeout&&e.setTimeout,qo=fo.ceil,Ko=fo.floor,Yo=po.getOwnPropertySymbols,zo=Lo?Lo.isBuffer:K,Xo=e.isFinite,$o=yo.join,Qo=B(po.keys,po),Jo=fo.max,Zo=fo.min,ta=lo.now,ea=e.parseInt,na=fo.random,ra=yo.reverse,ia=Ur(e,"DataView"),oa=Ur(e,"Map"),aa=Ur(e,"Promise"),sa=Ur(e,"Set"),ua=Ur(e,"WeakMap"),la=Ur(po,"create"),ca=ua&&new ua,da={},ha=ii(ia),fa=ii(oa),pa=ii(aa),ga=ii(sa),ma=ii(ua),va=Po?Po.prototype:K,ya=va?va.valueOf:K,_a=va?va.toString:K,ba=function(){function t(){}return function(e){if(!Ii(e))return{};if(Mo)return Mo(e);t.prototype=e;var n=new t;return t.prototype=K,n}}();n.templateSettings={escape:Mt,evaluate:Nt,interpolate:Ft,variable:"",imports:{_:n}},n.prototype=r.prototype,n.prototype.constructor=n,i.prototype=ba(r.prototype),i.prototype.constructor=i,C.prototype=ba(r.prototype),C.prototype.constructor=C,Xt.prototype.clear=function(){this.__data__=la?la(null):{},this.size=0},Xt.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Xt.prototype.get=function(t){var e=this.__data__;if(la){var n=e[t];return n===z?K:n}return To.call(e,t)?e[t]:K},Xt.prototype.has=function(t){var e=this.__data__;return la?e[t]!==K:To.call(e,t)},Xt.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=la&&e===K?z:e,this},se.prototype.clear=function(){this.__data__=[],this.size=0},se.prototype.delete=function(t){var e=this.__data__,n=ve(e,t);return!(n<0||(n==e.length-1?e.pop():Fo.call(e,n,1),--this.size,0))},se.prototype.get=function(t){var e=this.__data__,n=ve(e,t);return n<0?K:e[n][1]},se.prototype.has=function(t){return ve(this.__data__,t)>-1},se.prototype.set=function(t,e){var n=this.__data__,r=ve(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},ue.prototype.clear=function(){this.size=0,this.__data__={hash:new Xt,map:new(oa||se),string:new Xt}},ue.prototype.delete=function(t){var e=Fr(this,t).delete(t);return this.size-=e?1:0,e},ue.prototype.get=function(t){return Fr(this,t).get(t)},ue.prototype.has=function(t){return Fr(this,t).has(t)},ue.prototype.set=function(t,e){var n=Fr(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},le.prototype.add=le.prototype.push=function(t){return this.__data__.set(t,z),this},le.prototype.has=function(t){return this.__data__.has(t)},ce.prototype.clear=function(){this.__data__=new se,this.size=0},ce.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},ce.prototype.get=function(t){return this.__data__.get(t)},ce.prototype.has=function(t){return this.__data__.has(t)},ce.prototype.set=function(t,e){var n=this.__data__;if(n instanceof se){var r=n.__data__;if(!oa||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new ue(r)}return n.set(t,e),this.size=n.size,this};var Ea=sr(Pe),Aa=sr(Ie,!0),Ta=ur(),Sa=ur(!0),wa=ca?function(t,e){return ca.set(t,e),t}:eo,Ca=Ho?function(t,e){return Ho(t,"toString",{configurable:!0,enumerable:!1,value:to(e),writable:!0})}:eo,ka=Dn,Da=Go||function(t){return Qe.clearTimeout(t)},xa=sa&&1/G(new sa([,-0]))[1]==1/0?function(t){return new sa(t)}:io,La=ca?function(t){return ca.get(t)}:io,Pa=Yo?function(t){return null==t?[]:(t=po(t),c(Yo(t),(function(e){return No.call(t,e)})))}:ao,Ia=Yo?function(t){for(var e=[];t;)p(e,Pa(t)),t=Oo(t);return e}:ao,Ra=je;(ia&&Ra(new ia(new ArrayBuffer(1)))!=yt||oa&&Ra(new oa)!=ut||aa&&Ra(aa.resolve())!=dt||sa&&Ra(new sa)!=ft||ua&&Ra(new ua)!=mt)&&(Ra=function(t){var e=je(t),n=e==ct?t.constructor:K,r=n?ii(n):"";if(r)switch(r){case ha:return yt;case fa:return ut;case pa:return dt;case ga:return ft;case ma:return mt}return e});var Oa=Eo?xi:so,Ma=ei(wa),Na=Wo||function(t,e){return Qe.setTimeout(t,e)},Fa=ei(Ca),ja=function(t){var e=Ti(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Bt,(function(t,n,r,i){e.push(r?i.replace($t,"$1"):n||t)})),e})),Ua=Dn((function(t,e){return ki(t)?Ce(t,Le(e,1,ki,!0)):[]})),Ba=Dn((function(t,e){var n=ci(e);return ki(n)&&(n=K),ki(t)?Ce(t,Le(e,1,ki,!0),Nr(n,2)):[]})),Ha=Dn((function(t,e){var n=ci(e);return ki(n)&&(n=K),ki(t)?Ce(t,Le(e,1,ki,!0),K,n):[]})),Ga=Dn((function(t){var e=f(t,Yn);return e.length&&e[0]===t[0]?Ke(e):[]})),Va=Dn((function(t){var e=ci(t),n=f(t,Yn);return e===ci(n)?e=K:n.pop(),n.length&&n[0]===t[0]?Ke(n,Nr(e,2)):[]})),Wa=Dn((function(t){var e=ci(t),n=f(t,Yn);return(e="function"==typeof e?e:K)&&n.pop(),n.length&&n[0]===t[0]?Ke(n,K,e):[]})),qa=Dn(di),Ka=Pr((function(t,e){var n=null==t?0:t.length,r=Ee(t,e);return wn(t,f(e,(function(t){return Vr(t,n)?+t:t})).sort(tr)),r})),Ya=Dn((function(t){return Bn(Le(t,1,ki,!0))})),za=Dn((function(t){var e=ci(t);return ki(e)&&(e=K),Bn(Le(t,1,ki,!0),Nr(e,2))})),Xa=Dn((function(t){var e=ci(t);return e="function"==typeof e?e:K,Bn(Le(t,1,ki,!0),K,e)})),$a=Dn((function(t,e){return ki(t)?Ce(t,e):[]})),Qa=Dn((function(t){return qn(c(t,ki))})),Ja=Dn((function(t){var e=ci(t);return ki(e)&&(e=K),qn(c(t,ki),Nr(e,2))})),Za=Dn((function(t){var e=ci(t);return e="function"==typeof e?e:K,qn(c(t,ki),K,e)})),ts=Dn(fi),es=Dn((function(t){var e=t.length,n=e>1?t[e-1]:K;return n="function"==typeof n?(t.pop(),n):K,pi(t,n)})),ns=Pr((function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,o=function(e){return Ee(e,t)};return!(e>1||this.__actions__.length)&&r instanceof C&&Vr(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:mi,args:[o],thisArg:K}),new i(r,this.__chain__).thru((function(t){return e&&!t.length&&t.push(K),t}))):this.thru(o)})),rs=or((function(t,e,n){To.call(t,n)?++t[n]:be(t,n,1)})),is=fr(ai),os=fr(si),as=or((function(t,e,n){To.call(t,n)?t[n].push(e):be(t,n,[e])})),ss=Dn((function(t,e,n){var r=-1,i="function"==typeof e,a=Ci(t)?uo(t.length):[];return Ea(t,(function(t){a[++r]=i?o(e,t,n):Xe(t,e,n)})),a})),us=or((function(t,e,n){be(t,n,e)})),ls=or((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]})),cs=Dn((function(t,e){if(null==t)return[];var n=e.length;return n>1&&Wr(t,e[0],e[1])?e=[]:n>2&&Wr(e[0],e[1],e[2])&&(e=[e[0]]),An(t,Le(e,1),[])})),ds=Vo||function(){return Qe.Date.now()},hs=Dn((function(t,e,n){var r=1;if(n.length){var i=H(n,Mr(hs));r|=32}return Cr(t,r,e,n,i)})),fs=Dn((function(t,e,n){var r=3;if(n.length){var i=H(n,Mr(fs));r|=32}return Cr(e,r,t,n,i)})),ps=Dn((function(t,e){return we(t,1,e)})),gs=Dn((function(t,e,n){return we(t,Gi(e)||0,n)}));Ti.Cache=ue;var ms=ka((function(t,e){var n=(e=1==e.length&&Ts(e[0])?f(e[0],L(Nr())):f(Le(e,1),L(Nr()))).length;return Dn((function(r){for(var i=-1,a=Zo(r.length,n);++i<a;)r[i]=e[i].call(this,r[i]);return o(t,this,r)}))})),vs=Dn((function(t,e){var n=H(e,Mr(vs));return Cr(t,32,K,e,n)})),ys=Dn((function(t,e){var n=H(e,Mr(ys));return Cr(t,64,K,e,n)})),_s=Pr((function(t,e){return Cr(t,256,K,K,K,e)})),bs=Ar(Ue),Es=Ar((function(t,e){return t>=e})),As=$e(function(){return arguments}())?$e:function(t){return Ri(t)&&To.call(t,"callee")&&!No.call(t,"callee")},Ts=uo.isArray,Ss=rn?L(rn):function(t){return Ri(t)&&je(t)==vt},ws=zo||so,Cs=on?L(on):function(t){return Ri(t)&&je(t)==it},ks=an?L(an):function(t){return Ri(t)&&Ra(t)==ut},Ds=sn?L(sn):function(t){return Ri(t)&&je(t)==ht},xs=un?L(un):function(t){return Ri(t)&&Ra(t)==ft},Ls=ln?L(ln):function(t){return Ri(t)&&Pi(t.length)&&!!We[je(t)]},Ps=Ar(mn),Is=Ar((function(t,e){return t<=e})),Rs=ar((function(t,e){if(Yr(e)||Ci(e))ir(e,Yi(e),t);else for(var n in e)To.call(e,n)&&me(t,n,e[n])})),Os=ar((function(t,e){ir(e,zi(e),t)})),Ms=ar((function(t,e,n,r){ir(e,zi(e),t,r)})),Ns=ar((function(t,e,n,r){ir(e,Yi(e),t,r)})),Fs=Pr(Ee),js=Dn((function(t,e){t=po(t);var n=-1,r=e.length,i=r>2?e[2]:K;for(i&&Wr(e[0],e[1],i)&&(r=1);++n<r;)for(var o=e[n],a=zi(o),s=-1,u=a.length;++s<u;){var l=a[s],c=t[l];(c===K||wi(c,bo[l])&&!To.call(t,l))&&(t[l]=o[l])}return t})),Us=Dn((function(t){return t.push(K,Dr),o(Ws,K,t)})),Bs=mr((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Co.call(e)),t[e]=n}),to(eo)),Hs=mr((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Co.call(e)),To.call(t,e)?t[e].push(n):t[e]=[n]}),Nr),Gs=Dn(Xe),Vs=ar((function(t,e,n){bn(t,e,n)})),Ws=ar((function(t,e,n,r){bn(t,e,n,r)})),qs=Pr((function(t,e){var n={};if(null==t)return n;var r=!1;e=f(e,(function(e){return e=Xn(e,t),r||(r=e.length>1),e})),ir(t,Rr(t),n),r&&(n=Te(n,7,xr));for(var i=e.length;i--;)Hn(n,e[i]);return n})),Ks=Pr((function(t,e){return null==t?{}:function(t,e){return Tn(t,e,(function(e,n){return Ki(t,n)}))}(t,e)})),Ys=wr(Yi),zs=wr(zi),Xs=cr((function(t,e,n){return e=e.toLowerCase(),t+(n?Qi(e):e)})),$s=cr((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),Qs=cr((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),Js=lr("toLowerCase"),Zs=cr((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()})),tu=cr((function(t,e,n){return t+(n?" ":"")+nu(e)})),eu=cr((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),nu=lr("toUpperCase"),ru=Dn((function(t,e){try{return o(t,K,e)}catch(t){return Di(t)?t:new co(t)}})),iu=Pr((function(t,e){return s(e,(function(e){e=ri(e),be(t,e,hs(t[e],t))})),t})),ou=pr(),au=pr(!0),su=Dn((function(t,e){return function(n){return Xe(n,t,e)}})),uu=Dn((function(t,e){return function(n){return Xe(t,n,e)}})),lu=yr(f),cu=yr(l),du=yr(v),hu=Er(),fu=Er(!0),pu=vr((function(t,e){return t+e}),0),gu=Sr("ceil"),mu=vr((function(t,e){return t/e}),1),vu=Sr("floor"),yu=vr((function(t,e){return t*e}),1),_u=Sr("round"),bu=vr((function(t,e){return t-e}),0);return n.after=function(t,e){if("function"!=typeof e)throw new vo(Y);return t=Bi(t),function(){if(--t<1)return e.apply(this,arguments)}},n.ary=bi,n.assign=Rs,n.assignIn=Os,n.assignInWith=Ms,n.assignWith=Ns,n.at=Fs,n.before=Ei,n.bind=hs,n.bindAll=iu,n.bindKey=fs,n.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Ts(t)?t:[t]},n.chain=gi,n.chunk=function(t,e,n){e=(n?Wr(t,e,n):e===K)?1:Jo(Bi(e),0);var r=null==t?0:t.length;if(!r||e<1)return[];for(var i=0,o=0,a=uo(qo(r/e));i<r;)a[o++]=Rn(t,i,i+=e);return a},n.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i},n.concat=function(){var t=arguments.length;if(!t)return[];for(var e=uo(t-1),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return p(Ts(n)?rr(n):[n],Le(e,1))},n.cond=function(t){var e=null==t?0:t.length,n=Nr();return t=e?f(t,(function(t){if("function"!=typeof t[1])throw new vo(Y);return[n(t[0]),t[1]]})):[],Dn((function(n){for(var r=-1;++r<e;){var i=t[r];if(o(i[0],this,n))return o(i[1],this,n)}}))},n.conforms=function(t){return function(t){var e=Yi(t);return function(n){return Se(n,t,e)}}(Te(t,1))},n.constant=to,n.countBy=rs,n.create=function(t,e){var n=ba(t);return null==e?n:_e(n,e)},n.curry=function t(e,n,r){var i=Cr(e,8,K,K,K,K,K,n=r?K:n);return i.placeholder=t.placeholder,i},n.curryRight=function t(e,n,r){var i=Cr(e,16,K,K,K,K,K,n=r?K:n);return i.placeholder=t.placeholder,i},n.debounce=Ai,n.defaults=js,n.defaultsDeep=Us,n.defer=ps,n.delay=gs,n.difference=Ua,n.differenceBy=Ba,n.differenceWith=Ha,n.drop=function(t,e,n){var r=null==t?0:t.length;return r?Rn(t,(e=n||e===K?1:Bi(e))<0?0:e,r):[]},n.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?Rn(t,0,(e=r-(e=n||e===K?1:Bi(e)))<0?0:e):[]},n.dropRightWhile=function(t,e){return t&&t.length?Vn(t,Nr(e,3),!0,!0):[]},n.dropWhile=function(t,e){return t&&t.length?Vn(t,Nr(e,3),!0):[]},n.fill=function(t,e,n,r){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&Wr(t,e,n)&&(n=0,r=i),function(t,e,n,r){var i=t.length;for((n=Bi(n))<0&&(n=-n>i?0:i+n),(r=r===K||r>i?i:Bi(r))<0&&(r+=i),r=n>r?0:Hi(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},n.filter=function(t,e){return(Ts(t)?c:xe)(t,Nr(e,3))},n.flatMap=function(t,e){return Le(_i(t,e),1)},n.flatMapDeep=function(t,e){return Le(_i(t,e),1/0)},n.flatMapDepth=function(t,e,n){return n=n===K?1:Bi(n),Le(_i(t,e),n)},n.flatten=ui,n.flattenDeep=function(t){return null!=t&&t.length?Le(t,1/0):[]},n.flattenDepth=function(t,e){return null!=t&&t.length?Le(t,e=e===K?1:Bi(e)):[]},n.flip=function(t){return Cr(t,512)},n.flow=ou,n.flowRight=au,n.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},n.functions=function(t){return null==t?[]:Re(t,Yi(t))},n.functionsIn=function(t){return null==t?[]:Re(t,zi(t))},n.groupBy=as,n.initial=function(t){return null!=t&&t.length?Rn(t,0,-1):[]},n.intersection=Ga,n.intersectionBy=Va,n.intersectionWith=Wa,n.invert=Bs,n.invertBy=Hs,n.invokeMap=ss,n.iteratee=no,n.keyBy=us,n.keys=Yi,n.keysIn=zi,n.map=_i,n.mapKeys=function(t,e){var n={};return e=Nr(e,3),Pe(t,(function(t,r,i){be(n,e(t,r,i),t)})),n},n.mapValues=function(t,e){var n={};return e=Nr(e,3),Pe(t,(function(t,r,i){be(n,r,e(t,r,i))})),n},n.matches=function(t){return yn(Te(t,1))},n.matchesProperty=function(t,e){return _n(t,Te(e,1))},n.memoize=Ti,n.merge=Vs,n.mergeWith=Ws,n.method=su,n.methodOf=uu,n.mixin=ro,n.negate=Si,n.nthArg=function(t){return t=Bi(t),Dn((function(e){return En(e,t)}))},n.omit=qs,n.omitBy=function(t,e){return Xi(t,Si(Nr(e)))},n.once=function(t){return Ei(2,t)},n.orderBy=function(t,e,n,r){return null==t?[]:(Ts(e)||(e=null==e?[]:[e]),Ts(n=r?K:n)||(n=null==n?[]:[n]),An(t,e,n))},n.over=lu,n.overArgs=ms,n.overEvery=cu,n.overSome=du,n.partial=vs,n.partialRight=ys,n.partition=ls,n.pick=Ks,n.pickBy=Xi,n.property=oo,n.propertyOf=function(t){return function(e){return null==t?K:Oe(t,e)}},n.pull=qa,n.pullAll=di,n.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Sn(t,e,Nr(n,2)):t},n.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?Sn(t,e,K,n):t},n.pullAt=Ka,n.range=hu,n.rangeRight=fu,n.rearg=_s,n.reject=function(t,e){return(Ts(t)?c:xe)(t,Si(Nr(e,3)))},n.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=Nr(e,3);++r<o;){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return wn(t,i),n},n.rest=function(t,e){if("function"!=typeof t)throw new vo(Y);return Dn(t,e=e===K?e:Bi(e))},n.reverse=hi,n.sampleSize=function(t,e,n){return e=(n?Wr(t,e,n):e===K)?1:Bi(e),(Ts(t)?fe:Ln)(t,e)},n.set=function(t,e,n){return null==t?t:Pn(t,e,n)},n.setWith=function(t,e,n,r){return r="function"==typeof r?r:K,null==t?t:Pn(t,e,n,r)},n.shuffle=function(t){return(Ts(t)?pe:In)(t)},n.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&Wr(t,e,n)?(e=0,n=r):(e=null==e?0:Bi(e),n=n===K?r:Bi(n)),Rn(t,e,n)):[]},n.sortBy=cs,n.sortedUniq=function(t){return t&&t.length?Fn(t):[]},n.sortedUniqBy=function(t,e){return t&&t.length?Fn(t,Nr(e,2)):[]},n.split=function(t,e,n){return n&&"number"!=typeof n&&Wr(t,e,n)&&(e=n=K),(n=n===K?Z:n>>>0)?(t=Wi(t))&&("string"==typeof e||null!=e&&!Ds(e))&&!(e=Un(e))&&F(t)?$n(W(t),0,n):t.split(e,n):[]},n.spread=function(t,e){if("function"!=typeof t)throw new vo(Y);return e=null==e?0:Jo(Bi(e),0),Dn((function(n){var r=n[e],i=$n(n,0,e);return r&&p(i,r),o(t,this,i)}))},n.tail=function(t){var e=null==t?0:t.length;return e?Rn(t,1,e):[]},n.take=function(t,e,n){return t&&t.length?Rn(t,0,(e=n||e===K?1:Bi(e))<0?0:e):[]},n.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?Rn(t,(e=r-(e=n||e===K?1:Bi(e)))<0?0:e,r):[]},n.takeRightWhile=function(t,e){return t&&t.length?Vn(t,Nr(e,3),!1,!0):[]},n.takeWhile=function(t,e){return t&&t.length?Vn(t,Nr(e,3)):[]},n.tap=function(t,e){return e(t),t},n.throttle=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new vo(Y);return Ii(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Ai(t,e,{leading:r,maxWait:e,trailing:i})},n.thru=mi,n.toArray=ji,n.toPairs=Ys,n.toPairsIn=zs,n.toPath=function(t){return Ts(t)?f(t,ri):Fi(t)?[t]:rr(ja(Wi(t)))},n.toPlainObject=Vi,n.transform=function(t,e,n){var r=Ts(t),i=r||ws(t)||Ls(t);if(e=Nr(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:Ii(t)&&xi(o)?ba(Oo(t)):{}}return(i?s:Pe)(t,(function(t,r,i){return e(n,t,r,i)})),n},n.unary=function(t){return bi(t,1)},n.union=Ya,n.unionBy=za,n.unionWith=Xa,n.uniq=function(t){return t&&t.length?Bn(t):[]},n.uniqBy=function(t,e){return t&&t.length?Bn(t,Nr(e,2)):[]},n.uniqWith=function(t,e){return e="function"==typeof e?e:K,t&&t.length?Bn(t,K,e):[]},n.unset=function(t,e){return null==t||Hn(t,e)},n.unzip=fi,n.unzipWith=pi,n.update=function(t,e,n){return null==t?t:Gn(t,e,zn(n))},n.updateWith=function(t,e,n,r){return r="function"==typeof r?r:K,null==t?t:Gn(t,e,zn(n),r)},n.values=$i,n.valuesIn=function(t){return null==t?[]:P(t,zi(t))},n.without=$a,n.words=Zi,n.wrap=function(t,e){return vs(zn(e),t)},n.xor=Qa,n.xorBy=Ja,n.xorWith=Za,n.zip=ts,n.zipObject=function(t,e){return Kn(t||[],e||[],me)},n.zipObjectDeep=function(t,e){return Kn(t||[],e||[],Pn)},n.zipWith=es,n.entries=Ys,n.entriesIn=zs,n.extend=Os,n.extendWith=Ms,ro(n,n),n.add=pu,n.attempt=ru,n.camelCase=Xs,n.capitalize=Qi,n.ceil=gu,n.clamp=function(t,e,n){return n===K&&(n=e,e=K),n!==K&&(n=(n=Gi(n))==n?n:0),e!==K&&(e=(e=Gi(e))==e?e:0),Ae(Gi(t),e,n)},n.clone=function(t){return Te(t,4)},n.cloneDeep=function(t){return Te(t,5)},n.cloneDeepWith=function(t,e){return Te(t,5,e="function"==typeof e?e:K)},n.cloneWith=function(t,e){return Te(t,4,e="function"==typeof e?e:K)},n.conformsTo=function(t,e){return null==e||Se(t,e,Yi(e))},n.deburr=Ji,n.defaultTo=function(t,e){return null==t||t!=t?e:t},n.divide=mu,n.endsWith=function(t,e,n){t=Wi(t),e=Un(e);var r=t.length,i=n=n===K?r:Ae(Bi(n),0,r);return(n-=e.length)>=0&&t.slice(n,i)==e},n.eq=wi,n.escape=function(t){return(t=Wi(t))&&Ot.test(t)?t.replace(It,hn):t},n.escapeRegExp=function(t){return(t=Wi(t))&&Gt.test(t)?t.replace(Ht,"\\$&"):t},n.every=function(t,e,n){var r=Ts(t)?l:ke;return n&&Wr(t,e,n)&&(e=K),r(t,Nr(e,3))},n.find=is,n.findIndex=ai,n.findKey=function(t,e){return _(t,Nr(e,3),Pe)},n.findLast=os,n.findLastIndex=si,n.findLastKey=function(t,e){return _(t,Nr(e,3),Ie)},n.floor=vu,n.forEach=vi,n.forEachRight=yi,n.forIn=function(t,e){return null==t?t:Ta(t,Nr(e,3),zi)},n.forInRight=function(t,e){return null==t?t:Sa(t,Nr(e,3),zi)},n.forOwn=function(t,e){return t&&Pe(t,Nr(e,3))},n.forOwnRight=function(t,e){return t&&Ie(t,Nr(e,3))},n.get=qi,n.gt=bs,n.gte=Es,n.has=function(t,e){return null!=t&&Br(t,e,Be)},n.hasIn=Ki,n.head=li,n.identity=eo,n.includes=function(t,e,n,r){t=Ci(t)?t:$i(t),n=n&&!r?Bi(n):0;var i=t.length;return n<0&&(n=Jo(i+n,0)),Ni(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&E(t,e,n)>-1},n.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:Bi(n);return i<0&&(i=Jo(r+i,0)),E(t,e,i)},n.inRange=function(t,e,n){return e=Ui(e),n===K?(n=e,e=0):n=Ui(n),function(t,e,n){return t>=Zo(e,n)&&t<Jo(e,n)}(t=Gi(t),e,n)},n.invoke=Gs,n.isArguments=As,n.isArray=Ts,n.isArrayBuffer=Ss,n.isArrayLike=Ci,n.isArrayLikeObject=ki,n.isBoolean=function(t){return!0===t||!1===t||Ri(t)&&je(t)==rt},n.isBuffer=ws,n.isDate=Cs,n.isElement=function(t){return Ri(t)&&1===t.nodeType&&!Mi(t)},n.isEmpty=function(t){if(null==t)return!0;if(Ci(t)&&(Ts(t)||"string"==typeof t||"function"==typeof t.splice||ws(t)||Ls(t)||As(t)))return!t.length;var e=Ra(t);if(e==ut||e==ft)return!t.size;if(Yr(t))return!cn(t).length;for(var n in t)if(To.call(t,n))return!1;return!0},n.isEqual=function(t,e){return Je(t,e)},n.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:K)?n(t,e):K;return r===K?Je(t,e,K,n):!!r},n.isError=Di,n.isFinite=function(t){return"number"==typeof t&&Xo(t)},n.isFunction=xi,n.isInteger=Li,n.isLength=Pi,n.isMap=ks,n.isMatch=function(t,e){return t===e||Ze(t,e,jr(e))},n.isMatchWith=function(t,e,n){return n="function"==typeof n?n:K,Ze(t,e,jr(e),n)},n.isNaN=function(t){return Oi(t)&&t!=+t},n.isNative=function(t){if(Oa(t))throw new co("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return en(t)},n.isNil=function(t){return null==t},n.isNull=function(t){return null===t},n.isNumber=Oi,n.isObject=Ii,n.isObjectLike=Ri,n.isPlainObject=Mi,n.isRegExp=Ds,n.isSafeInteger=function(t){return Li(t)&&t>=-Q&&t<=Q},n.isSet=xs,n.isString=Ni,n.isSymbol=Fi,n.isTypedArray=Ls,n.isUndefined=function(t){return t===K},n.isWeakMap=function(t){return Ri(t)&&Ra(t)==mt},n.isWeakSet=function(t){return Ri(t)&&"[object WeakSet]"==je(t)},n.join=function(t,e){return null==t?"":$o.call(t,e)},n.kebabCase=$s,n.last=ci,n.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r;return n!==K&&(i=(i=Bi(n))<0?Jo(r+i,0):Zo(i,r-1)),e==e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,i):b(t,T,i,!0)},n.lowerCase=Qs,n.lowerFirst=Js,n.lt=Ps,n.lte=Is,n.max=function(t){return t&&t.length?De(t,eo,Ue):K},n.maxBy=function(t,e){return t&&t.length?De(t,Nr(e,2),Ue):K},n.mean=function(t){return S(t,eo)},n.meanBy=function(t,e){return S(t,Nr(e,2))},n.min=function(t){return t&&t.length?De(t,eo,mn):K},n.minBy=function(t,e){return t&&t.length?De(t,Nr(e,2),mn):K},n.stubArray=ao,n.stubFalse=so,n.stubObject=function(){return{}},n.stubString=function(){return""},n.stubTrue=function(){return!0},n.multiply=yu,n.nth=function(t,e){return t&&t.length?En(t,Bi(e)):K},n.noConflict=function(){return Qe._===this&&(Qe._=Do),this},n.noop=io,n.now=ds,n.pad=function(t,e,n){t=Wi(t);var r=(e=Bi(e))?V(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return _r(Ko(i),n)+t+_r(qo(i),n)},n.padEnd=function(t,e,n){t=Wi(t);var r=(e=Bi(e))?V(t):0;return e&&r<e?t+_r(e-r,n):t},n.padStart=function(t,e,n){t=Wi(t);var r=(e=Bi(e))?V(t):0;return e&&r<e?_r(e-r,n)+t:t},n.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),ea(Wi(t).replace(Wt,""),e||0)},n.random=function(t,e,n){if(n&&"boolean"!=typeof n&&Wr(t,e,n)&&(e=n=K),n===K&&("boolean"==typeof e?(n=e,e=K):"boolean"==typeof t&&(n=t,t=K)),t===K&&e===K?(t=0,e=1):(t=Ui(t),e===K?(e=t,t=0):e=Ui(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=na();return Zo(t+i*(e-t+Ye("1e-"+((i+"").length-1))),e)}return Cn(t,e)},n.reduce=function(t,e,n){var r=Ts(t)?g:k,i=arguments.length<3;return r(t,Nr(e,4),n,i,Ea)},n.reduceRight=function(t,e,n){var r=Ts(t)?m:k,i=arguments.length<3;return r(t,Nr(e,4),n,i,Aa)},n.repeat=function(t,e,n){return e=(n?Wr(t,e,n):e===K)?1:Bi(e),kn(Wi(t),e)},n.replace=function(){var t=arguments,e=Wi(t[0]);return t.length<3?e:e.replace(t[1],t[2])},n.result=function(t,e,n){var r=-1,i=(e=Xn(e,t)).length;for(i||(i=1,t=K);++r<i;){var o=null==t?K:t[ri(e[r])];o===K&&(r=i,o=n),t=xi(o)?o.call(t):o}return t},n.round=_u,n.runInContext=t,n.sample=function(t){return(Ts(t)?he:xn)(t)},n.size=function(t){if(null==t)return 0;if(Ci(t))return Ni(t)?V(t):t.length;var e=Ra(t);return e==ut||e==ft?t.size:cn(t).length},n.snakeCase=Zs,n.some=function(t,e,n){var r=Ts(t)?v:On;return n&&Wr(t,e,n)&&(e=K),r(t,Nr(e,3))},n.sortedIndex=function(t,e){return Mn(t,e)},n.sortedIndexBy=function(t,e,n){return Nn(t,e,Nr(n,2))},n.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=Mn(t,e);if(r<n&&wi(t[r],e))return r}return-1},n.sortedLastIndex=function(t,e){return Mn(t,e,!0)},n.sortedLastIndexBy=function(t,e,n){return Nn(t,e,Nr(n,2),!0)},n.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var n=Mn(t,e,!0)-1;if(wi(t[n],e))return n}return-1},n.startCase=tu,n.startsWith=function(t,e,n){return t=Wi(t),n=null==n?0:Ae(Bi(n),0,t.length),e=Un(e),t.slice(n,n+e.length)==e},n.subtract=bu,n.sum=function(t){return t&&t.length?D(t,eo):0},n.sumBy=function(t,e){return t&&t.length?D(t,Nr(e,2)):0},n.template=function(t,e,r){var i=n.templateSettings;r&&Wr(t,e,r)&&(e=K),t=Wi(t),e=Ms({},e,i,kr);var o,a,s=Ms({},e.imports,i.imports,kr),u=Yi(s),l=P(s,u),c=0,d=e.interpolate||oe,h="__p += '",f=go((e.escape||oe).source+"|"+d.source+"|"+(d===Ft?Qt:oe).source+"|"+(e.evaluate||oe).source+"|$","g"),p="//# sourceURL="+(To.call(e,"sourceURL")?(e.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++Ve+"]")+"\n";t.replace(f,(function(e,n,r,i,s,u){return r||(r=i),h+=t.slice(c,u).replace(ae,N),n&&(o=!0,h+="' +\n__e("+n+") +\n'"),s&&(a=!0,h+="';\n"+s+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=u+e.length,e})),h+="';\n";var g=To.call(e,"variable")&&e.variable;g||(h="with (obj) {\n"+h+"\n}\n"),h=(a?h.replace(Dt,""):h).replace(xt,"$1").replace(Lt,"$1;"),h="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var m=ru((function(){return ho(u,p+"return "+h).apply(K,l)}));if(m.source=h,Di(m))throw m;return m},n.times=function(t,e){if((t=Bi(t))<1||t>Q)return[];var n=Z,r=Zo(t,Z);e=Nr(e),t-=Z;for(var i=x(r,e);++n<t;)e(n);return i},n.toFinite=Ui,n.toInteger=Bi,n.toLength=Hi,n.toLower=function(t){return Wi(t).toLowerCase()},n.toNumber=Gi,n.toSafeInteger=function(t){return t?Ae(Bi(t),-Q,Q):0===t?t:0},n.toString=Wi,n.toUpper=function(t){return Wi(t).toUpperCase()},n.trim=function(t,e,n){if((t=Wi(t))&&(n||e===K))return t.replace(Vt,"");if(!t||!(e=Un(e)))return t;var r=W(t),i=W(e);return $n(r,R(r,i),O(r,i)+1).join("")},n.trimEnd=function(t,e,n){if((t=Wi(t))&&(n||e===K))return t.replace(qt,"");if(!t||!(e=Un(e)))return t;var r=W(t);return $n(r,0,O(r,W(e))+1).join("")},n.trimStart=function(t,e,n){if((t=Wi(t))&&(n||e===K))return t.replace(Wt,"");if(!t||!(e=Un(e)))return t;var r=W(t);return $n(r,R(r,W(e))).join("")},n.truncate=function(t,e){var n=30,r="...";if(Ii(e)){var i="separator"in e?e.separator:i;n="length"in e?Bi(e.length):n,r="omission"in e?Un(e.omission):r}var o=(t=Wi(t)).length;if(F(t)){var a=W(t);o=a.length}if(n>=o)return t;var s=n-V(r);if(s<1)return r;var u=a?$n(a,0,s).join(""):t.slice(0,s);if(i===K)return u+r;if(a&&(s+=u.length-s),Ds(i)){if(t.slice(s).search(i)){var l,c=u;for(i.global||(i=go(i.source,Wi(Jt.exec(i))+"g")),i.lastIndex=0;l=i.exec(c);)var d=l.index;u=u.slice(0,d===K?s:d)}}else if(t.indexOf(Un(i),s)!=s){var h=u.lastIndexOf(i);h>-1&&(u=u.slice(0,h))}return u+r},n.unescape=function(t){return(t=Wi(t))&&Rt.test(t)?t.replace(Pt,fn):t},n.uniqueId=function(t){var e=++So;return Wi(t)+e},n.upperCase=eu,n.upperFirst=nu,n.each=vi,n.eachRight=yi,n.first=li,ro(n,function(){var t={};return Pe(n,(function(e,r){To.call(n.prototype,r)||(t[r]=e)})),t}(),{chain:!1}),n.VERSION="4.17.15",s(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){n[t].placeholder=n})),s(["drop","take"],(function(t,e){C.prototype[t]=function(n){n=n===K?1:Jo(Bi(n),0);var r=this.__filtered__&&!e?new C(this):this.clone();return r.__filtered__?r.__takeCount__=Zo(n,r.__takeCount__):r.__views__.push({size:Zo(n,Z),type:t+(r.__dir__<0?"Right":"")}),r},C.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),s(["filter","map","takeWhile"],(function(t,e){var n=e+1,r=1==n||3==n;C.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Nr(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}})),s(["head","last"],(function(t,e){var n="take"+(e?"Right":"");C.prototype[t]=function(){return this[n](1).value()[0]}})),s(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");C.prototype[t]=function(){return this.__filtered__?new C(this):this[n](1)}})),C.prototype.compact=function(){return this.filter(eo)},C.prototype.find=function(t){return this.filter(t).head()},C.prototype.findLast=function(t){return this.reverse().find(t)},C.prototype.invokeMap=Dn((function(t,e){return"function"==typeof t?new C(this):this.map((function(n){return Xe(n,t,e)}))})),C.prototype.reject=function(t){return this.filter(Si(Nr(t)))},C.prototype.slice=function(t,e){t=Bi(t);var n=this;return n.__filtered__&&(t>0||e<0)?new C(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==K&&(n=(e=Bi(e))<0?n.dropRight(-e):n.take(e-t)),n)},C.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},C.prototype.toArray=function(){return this.take(Z)},Pe(C.prototype,(function(t,e){var r=/^(?:filter|find|map|reject)|While$/.test(e),o=/^(?:head|last)$/.test(e),a=n[o?"take"+("last"==e?"Right":""):e],s=o||/^find/.test(e);a&&(n.prototype[e]=function(){var e=this.__wrapped__,u=o?[1]:arguments,l=e instanceof C,c=u[0],d=l||Ts(e),h=function(t){var e=a.apply(n,p([t],u));return o&&f?e[0]:e};d&&r&&"function"==typeof c&&1!=c.length&&(l=d=!1);var f=this.__chain__,g=!!this.__actions__.length,m=s&&!f,v=l&&!g;if(!s&&d){e=v?e:new C(this);var y=t.apply(e,u);return y.__actions__.push({func:mi,args:[h],thisArg:K}),new i(y,f)}return m&&v?t.apply(this,u):(y=this.thru(h),m?o?y.value()[0]:y.value():y)})})),s(["pop","push","shift","sort","splice","unshift"],(function(t){var e=yo[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);n.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var n=this.value();return e.apply(Ts(n)?n:[],t)}return this[r]((function(n){return e.apply(Ts(n)?n:[],t)}))}})),Pe(C.prototype,(function(t,e){var r=n[e];if(r){var i=r.name+"";To.call(da,i)||(da[i]=[]),da[i].push({name:e,func:r})}})),da[gr(K,2).name]=[{name:"wrapper",func:K}],C.prototype.clone=function(){var t=new C(this.__wrapped__);return t.__actions__=rr(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=rr(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=rr(this.__views__),t},C.prototype.reverse=function(){if(this.__filtered__){var t=new C(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},C.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Ts(t),r=e<0,i=n?t.length:0,o=function(t,e,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=Zo(e,t+a);break;case"takeRight":t=Jo(t,e-a)}}return{start:t,end:e}}(0,i,this.__views__),a=o.start,s=o.end,u=s-a,l=r?s:a-1,c=this.__iteratees__,d=c.length,h=0,f=Zo(u,this.__takeCount__);if(!n||!r&&i==u&&f==u)return Wn(t,this.__actions__);var p=[];t:for(;u--&&h<f;){for(var g=-1,m=t[l+=e];++g<d;){var v=c[g],y=v.iteratee,_=v.type,b=y(m);if(2==_)m=b;else if(!b){if(1==_)continue t;break t}}p[h++]=m}return p},n.prototype.at=ns,n.prototype.chain=function(){return gi(this)},n.prototype.commit=function(){return new i(this.value(),this.__chain__)},n.prototype.next=function(){this.__values__===K&&(this.__values__=ji(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?K:this.__values__[this.__index__++]}},n.prototype.plant=function(t){for(var e,n=this;n instanceof r;){var i=oi(n);i.__index__=0,i.__values__=K,e?o.__wrapped__=i:e=i;var o=i;n=n.__wrapped__}return o.__wrapped__=t,e},n.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof C){var e=t;return this.__actions__.length&&(e=new C(this)),(e=e.reverse()).__actions__.push({func:mi,args:[hi],thisArg:K}),new i(e,this.__chain__)}return this.thru(hi)},n.prototype.toJSON=n.prototype.valueOf=n.prototype.value=function(){return Wn(this.__wrapped__,this.__actions__)},n.prototype.first=n.prototype.head,Uo&&(n.prototype[Uo]=function(){return this}),n}();Qe._=pn,(r=function(){return pn}.call(e,n,e,i))===K||(i.exports=r)}).call(this)}).call(e,function(){return this}(),n(28)(t))},function(t,e,n){var r,i;r=[n(4)],void 0===(i=function(t){if(t("host-browser")){var e=navigator,n=e.userAgent,r=e.appVersion,i=parseFloat(r);if(t.add("ie11",n.indexOf("Trident")>=0),t.add("air",n.indexOf("AdobeAIR")>=0),t.add("msapp",parseFloat(n.split("MSAppHost/")[1])||void 0),t.add("khtml",r.indexOf("Konqueror")>=0?i:void 0),t.add("webkit",parseFloat(n.split("WebKit/")[1])||void 0),t.add("chrome",parseFloat(n.split("Chrome/")[1])||void 0),t.add("safari",r.indexOf("Safari")>=0&&!t("chrome")?parseFloat(r.split("Version/")[1]):void 0),t.add("mac",r.indexOf("Macintosh")>=0),t.add("quirks","BackCompat"==document.compatMode),n.match(/(iPhone|iPod|iPad)/)){var o=RegExp.$1.replace(/P/,"p"),a=n.match(/OS ([\d_]+)/)?RegExp.$1:"1",s=parseFloat(a.replace(/_/,".").replace(/_/g,""));t.add(o,s),t.add("ios",s)}if(t.add("android",parseFloat(n.split("Android ")[1])||void 0),t.add("bb",(n.indexOf("BlackBerry")>=0||n.indexOf("BB10")>=0)&&parseFloat(n.split("Version/")[1])||void 0),t.add("svg","undefined"!=typeof SVGAngle),!t("webkit")){if(n.indexOf("Opera")>=0&&t.add("opera",i>=9.8&&parseFloat(n.split("Version/")[1])||i),n.indexOf("Gecko")>=0&&!t("khtml")&&!t("webkit")&&t.add("mozilla",i),t("mozilla")&&t.add("ff",parseFloat(n.split("Firefox/")[1]||n.split("Minefield/")[1])||void 0),document.all&&!t("opera")){var u=parseFloat(r.split("MSIE ")[1])||void 0,l=document.documentMode;l&&5!=l&&Math.floor(u)!=l&&(u=l),t.add("ie",u)}t.add("wii","undefined"!=typeof opera&&opera.wiiremote)}}return t}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(1),n(54)],void 0===(i=function(t,e){return t([],{constructor:function(){"withCredentials"in new XMLHttpRequest?this.corsSupport="xhr":"object"==("undefined"==typeof XDomainRequest?"undefined":_typeof(XDomainRequest))||"function"==typeof XDomainRequest?this.corsSupport="xd":console.error("xhrProvider::constructor - CORS in not supported by the browser")},request:function(t,n,r,i,o){if("xd"==this.corsSupport){for(var a in r.query)t+=-1!=t.indexOf("?")?"&":"?",t+=a+"="+r.query[a];r.preventCache&&(t+=-1!=t.indexOf("?")?"&":"?",t+="_cb="+(new Date).getTime());var s=new XDomainRequest;s.open(r.method||"GET",t),s.timeout=0,s.onload=function(){var t;"json"==r.handleAs.toLowerCase()?null!=i&&null!=i&&i(n,JSON.parse(s.responseText)):(window.DOMParser?t=(new window.DOMParser).parseFromString(s.responseText,"text/xml"):((t=new ActiveXObject("Microsoft.XMLDOM")).async=!1,t.loadXML(s.responseText)),null!=i&&null!=i&&i(n,t.documentElement||t))},s.onprogress=function(){},s.ontimeout=function(){},s.onerror=function(){null!=o&&null!=o&&o(n,"An unexpected error occurred")},setTimeout((function(){s.send()}),250)}else"xhr"==this.corsSupport?e(t,r).then((function(t){null!=i&&null!=i&&i(n,t.documentElement||t)}),(function(t){null!=o&&null!=o&&o(n,"An unexpected error occurred: "+t)})):console.error("xhrProvider::request - CORS in not supported by the browser")}})}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[e,n(5),n(9),n(17),n(7),n(19)],void 0===(i=function(t,e,n,r,i,o){function a(t,e){var n=e.parentNode;n&&n.insertBefore(t,e)}function s(t){if(t.canHaveChildren)try{return void(t.innerHTML="")}catch(t){}for(var e;e=t.lastChild;)u(e,t)}function u(t,e){t.firstChild&&s(t),e&&(n("ie")&&e.canHaveChildren&&"removeNode"in t?t.removeNode(!1):e.removeChild(t))}var l,c={option:["select"],tbody:["table"],thead:["table"],tfoot:["table"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","thead","tr"],legend:["fieldset"],caption:["table"],colgroup:["table"],col:["table","colgroup"],li:["ul"]},d=/<\s*([\w\:]+)/,h={},f=0,p="__"+e._scopeName+"ToDomId";for(var g in c)if(c.hasOwnProperty(g)){var m=c[g];m.pre="option"==g?'<select multiple="multiple">':"<"+m.join("><")+">",m.post="</"+m.reverse().join("></")+">"}n("ie")<=8&&(l=function(t){t.__dojo_html5_tested="yes";var e=v("div",{innerHTML:"<nav>a</nav>",style:{visibility:"hidden"}},t.body);1!==e.childNodes.length&&"abbr article aside audio canvas details figcaption figure footer header hgroup mark meter nav output progress section summary time video".replace(/\b\w+\b/g,(function(e){t.createElement(e)})),y(e)}),t.toDom=function(t,e){var i=(e=e||r.doc)[p];i||(e[p]=i=++f+"",h[i]=e.createElement("div")),n("ie")<=8&&!e.__dojo_html5_tested&&e.body&&l(e);var o,a,s,u,g=(t+="").match(d),m=g?g[1].toLowerCase():"",v=h[i];if(g&&c[m])for(o=c[m],v.innerHTML=o.pre+t+o.post,a=o.length;a;--a)v=v.firstChild;else v.innerHTML=t;if(1==v.childNodes.length)return v.removeChild(v.firstChild);for(u=e.createDocumentFragment();s=v.firstChild;)u.appendChild(s);return u},t.place=function(e,n,r){if(n=i.byId(n),"string"==typeof e&&(e=/^\s*</.test(e)?t.toDom(e,n.ownerDocument):i.byId(e)),"number"==typeof r){var o=n.childNodes;!o.length||o.length<=r?n.appendChild(e):a(e,o[r<0?0:r])}else switch(r){case"before":a(e,n);break;case"after":!function(t,e){var n=e.parentNode;n&&(n.lastChild==e?n.appendChild(t):n.insertBefore(t,e.nextSibling))}(e,n);break;case"replace":n.parentNode.replaceChild(e,n);break;case"only":t.empty(n),n.appendChild(e);break;case"first":if(n.firstChild){a(e,n.firstChild);break}default:n.appendChild(e)}return e};var v=t.create=function(e,n,a,s){var u=r.doc;return a&&(u=(a=i.byId(a)).ownerDocument),"string"==typeof e&&(e=u.createElement(e)),n&&o.set(e,n),a&&t.place(e,a,s),e};t.empty=function(t){s(i.byId(t))};var y=t.destroy=function(t){(t=i.byId(t))&&u(t,t.parentNode)}}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(1),n(3)],void 0===(i=function(t,e){return t([],{INTERNAL_REQUEST_API_FUNCTIONS:{"get-alternate-content":"_onApiRequestGetAlternateContent","get-vast-instream":"_onApiRequestGetVastInstream"},constructor:function(t,e){this.config=t,this.target=e},emit:function(t,n,r){r&&this.config.playerId!=r.id||e.emit(this.target,t,{data:n,bubbles:!0,cancelable:!0})}})}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(33),n(3)],void 0===(i=function(t,e){"use strict";function n(){}var r=t.after;return n.prototype={on:function(t,n){return e.parse(this,t,n,(function(t,e){return r(t,"on"+e,n,!0)}))},emit:function(t,n){var r=[this];return r.push.apply(r,arguments),e.emit.apply(e,r)}},n}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(5),n(32),n(25),n(24),n(4),n(2),n(90)],void 0===(i=function(t,e,n,r,i,o,a){var s=function(){},u=Object.freeze||function(){},l=t.Deferred=function(t){function a(t){if(h)throw new Error("This deferred has already been resolved");d=t,h=!0,c()}function c(){for(var t;!t&&v;){var n=v;v=v.next,(t=n.progress==s)&&(h=!1);var r=g?n.error:n.resolved;if(i("config-useDeferredInstrumentation")&&g&&e.instrumentRejected&&e.instrumentRejected(d,!!r),r)try{var a=r(d);if(a&&"function"==typeof a.then){a.then(o.hitch(n.deferred,"resolve"),o.hitch(n.deferred,"reject"),o.hitch(n.deferred,"progress"));continue}var u=t&&void 0===a;t&&!u&&(g=a instanceof Error),n.deferred[u&&g?"reject":"resolve"](u?d:a)}catch(t){n.deferred.reject(t)}else g?n.deferred.reject(d):n.deferred.resolve(d)}}var d,h,f,p,g,m,v,y=this.promise=new n;this.isResolved=y.isResolved=function(){return 0==p},this.isRejected=y.isRejected=function(){return 1==p},this.isFulfilled=y.isFulfilled=function(){return p>=0},this.isCanceled=y.isCanceled=function(){return f},this.resolve=this.callback=function(t){this.fired=p=0,this.results=[t,null],a(t)},this.reject=this.errback=function(t){g=!0,this.fired=p=1,i("config-useDeferredInstrumentation")&&e.instrumentRejected&&e.instrumentRejected(t,!!v),a(t),this.results=[null,t]},this.progress=function(t){for(var e=v;e;){var n=e.progress;n&&n(t),e=e.next}},this.addCallbacks=function(t,e){return this.then(t,e,s),this},y.then=this.then=function(t,e,n){var r=n==s?this:new l(y.cancel),i={resolved:t,error:e,progress:n,deferred:r};return v?m=m.next=i:v=m=i,h&&c(),r.promise};var _=this;y.cancel=this.cancel=function(){if(!h){var e=t&&t(_);h||(e instanceof Error||(e=new r(e)),e.log=!1,_.reject(e))}f=!0},u(y)};return o.extend(l,{addCallback:function(e){return this.addCallbacks(o.hitch.apply(t,arguments))},addErrback:function(e){return this.addCallbacks(null,o.hitch.apply(t,arguments))},addBoth:function(e){var n=o.hitch.apply(t,arguments);return this.addCallbacks(n,n)},fired:-1}),l.when=t.when=a,l}.apply(e,r))||(t.exports=i)},function(t,e,n){var r=n(8),i=n(21),o=i.getProtocol(),a={prod01:{liveStream:"playerservices.streamtheworld.com/api/livestream",nowPlayingHistory:o+"//np.tritondigital.com/public/nowplaying",playerWebAdmin:o+"//pwav4.tritondigital.com/jsonconfig.php",coreModuleDir:o+"//sdk.listenlive.co/core/swf/",npe:o+"//npe2.listenlive.co/services/",see:o+"//see-p-elb-01.tritondigital.net/widget/{tenantId}/see.js",UA:"UA-34627310-11"}},s=window.TdPlatform=function(t){var e=function(t){var e=r.keys(a);return null!=t&&e.indexOf(t)>-1}(t)?t:"prod01";this.endpoint=a[e]};t.exports=s},function(t,e,n){var r=n(8),i=n(110),o={parse:function(t){var e;return window.DOMParser?e=(new DOMParser).parseFromString(t,"text/xml"):((e=new ActiveXObject("Microsoft.XMLDOM")).async=!1,e.loadXML(t)),e},textContent:function(t){var e="";return t&&r.forEach(t.childNodes,(function(t){switch(t.nodeType){case 3:case 2:case 4:e+=t.nodeValue}})),e},xmlToJson:function(t){return i.parseXML(t,{mergeCDATA:!0,grokAttr:!0,grokText:!0,normalize:!0,xmlns:!1,namespaceKey:"_ns",textKey:"_text",valueKey:"_value",attrKey:"_attr",cdataKey:"_cdata",attrsAsObject:!0,stripAttrPrefix:!0,stripElemPrefix:!0,childrenAsArray:!1})}};t.exports=o},function(t,e,n){var r,i;r=[n(5),n(2),n(9)],void 0===(i=function(t,e,n){var r={global:t.global,doc:this.document||null,body:function(e){return(e=e||t.doc).body||e.getElementsByTagName("body")[0]},setContext:function(e,n){t.global=r.global=e,t.doc=r.doc=n},withGlobal:function(e,n,i,o){var a=t.global;try{return t.global=r.global=e,r.withDoc.call(null,e.document,n,i,o)}finally{t.global=r.global=a}},withDoc:function(e,i,o,a){var s,u,l,c=r.doc,d=n("quirks"),h=n("ie");try{return t.doc=r.doc=e,t.isQuirks=n.add("quirks","BackCompat"==t.doc.compatMode,!0,!0),n("ie")&&(l=e.parentWindow)&&l.navigator&&(s=parseFloat(l.navigator.appVersion.split("MSIE ")[1])||void 0,(u=e.documentMode)&&5!=u&&Math.floor(s)!=u&&(s=u),t.isIE=n.add("ie",s,!0,!0)),o&&"string"==typeof i&&(i=o[i]),i.apply(o,a||[])}finally{t.doc=r.doc=c,t.isQuirks=n.add("quirks",d,!0,!0),t.isIE=n.add("ie",h,!0,!0)}}};return n("extend-dojo")&&e.mixin(t,r),r}.apply(e,r))||(t.exports=i)},function(t,e,n){var r=n(8);t.exports=new function t(){if("object"==_typeof(t.instance))return t.instance;var e="en",i=["en","fr","pt","es"],o=document.getElementsByTagName("script");if(!r.isEmpty(o)){var a=o[o.length-1].getAttribute("tdsdk-lang");r.isEmpty(a)||(e=a)}this.setLocalization=function(t){e=t},this.getLocalization=function(){return r.indexOf(i,e)>-1?n(111)("./"+e+".json"):n(57)},t.instance=this}},function(t,e,n){var r,i;r=[e,n(9),n(2),n(7),n(23),n(81)],void 0===(i=function(t,e,n,r,i,o){function a(t,e){var n=t.getAttributeNode&&t.getAttributeNode(e);return n&&n.specified}var s={innerHTML:1,className:1,htmlFor:e("ie"),value:1},u={classname:"class",htmlfor:"for",tabindex:"tabIndex",readonly:"readOnly"};t.has=function(t,e){var n=e.toLowerCase();return s[o.names[n]||e]||a(r.byId(t),u[n]||e)},t.get=function(t,e){t=r.byId(t);var i=e.toLowerCase(),l=o.names[i]||e,c=s[l],d=t[l];if(c&&void 0!==d)return d;if("href"!=l&&("boolean"==typeof d||n.isFunction(d)))return d;var h=u[i]||e;return a(t,h)?t.getAttribute(h):null},t.set=function(e,a,l){if(e=r.byId(e),2==arguments.length){for(var c in a)t.set(e,c,a[c]);return e}var d=a.toLowerCase(),h=o.names[d]||a,f=s[h];return"style"==h&&"string"!=typeof l?(i.set(e,l),e):f||"boolean"==typeof l||n.isFunction(l)?o.set(e,a,l):(e.setAttribute(u[d]||a,l),e)},t.remove=function(t,e){r.byId(t).removeAttribute(u[e.toLowerCase()]||e)},t.getNodeProp=function(t,e){t=r.byId(t);var n=e.toLowerCase(),i=o.names[n]||e;if(i in t&&"href"!=i)return t[i];var s=u[n]||e;return a(t,s)?t.getAttribute(s):null}}.apply(e,r))||(t.exports=i)},function(t,e,n){var r;(function(t,i){(function(){"use strict";function o(t){return(t=String(t)).charAt(0).toUpperCase()+t.slice(1)}function a(t){return t=d(t),/^(?:webOS|i(?:OS|P))/.test(t)?t:o(t)}function s(t,e){for(var n in t)b.call(t,n)&&e(t[n],n,t)}function u(t){return null==t?o(t):E.call(t).slice(8,-1)}function l(t){return String(t).replace(/([ -])(?!$)/g,"$1?")}function c(t,e){var n=null;return function(t,e){var n=-1,r=t?t.length:0;if("number"==typeof r&&r>-1&&r<=v)for(;++n<r;)e(t[n],n,t);else s(t,e)}(t,(function(r,i){n=e(n,r,i,t)})),n}function d(t){return String(t).replace(/^ +| +$/g,"")}var h={function:!0,object:!0},f=h["undefined"==typeof window?"undefined":_typeof(window)]&&window||this,p=h[_typeof(e)]&&e,g=h[_typeof(t)]&&t&&!t.nodeType&&t,m=p&&g&&"object"==_typeof(i)&&i;!m||m.global!==m&&m.window!==m&&m.self!==m||(f=m);var v=Math.pow(2,53)-1,y=/\bOpera/,_=Object.prototype,b=_.hasOwnProperty,E=_.toString,A=function t(e){function n(t){return c(t,(function(t,n){var r=n.pattern||l(n);return!t&&(t=RegExp("\\b"+r+" *\\d+[.\\w_]*","i").exec(e)||RegExp("\\b"+r+" *\\w+-[\\w]*","i").exec(e)||RegExp("\\b"+r+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(e))&&((t=String(n.label&&!RegExp(r,"i").test(n.label)?n.label:t).split("/"))[1]&&!/[\d.]+/.test(t[0])&&(t[0]+=" "+t[1]),n=n.label||n,t=a(t[0].replace(RegExp(r,"i"),n).replace(RegExp("; *(?:"+n+"[_-])?","i")," ").replace(RegExp("("+n+")[-_.]?(\\w)","i"),"$1 $2"))),t}))}var r=f,i=e&&"object"==_typeof(e)&&"String"!=u(e);i&&(r=e,e=null);var o=r.navigator||{},h=o.userAgent||"";e||(e=h);var p,g,m=i?!!o.likeChrome:/\bChrome\b/.test(e)&&!/internal|\n/i.test(E.toString()),v="Object",_=i?v:"ScriptBridgingProxyObject",b=i?v:"Environment",A=i&&r.java?"JavaPackage":u(r.java),T=i?v:"RuntimeObject",S=/\bJava/.test(A)&&r.java,w=S&&u(r.environment)==b,C=S?"a":"Î±",k=S?"b":"Î²",D=r.document||{},x=r.operamini||r.opera,L=y.test(L=i&&x?x["[[Class]]"]:u(x))?L:x=null,P=e,I=[],R=null,O=e==h,M=O&&x&&"function"==typeof x.version&&x.version(),N=function(t){return c(t,(function(t,n){return t||RegExp("\\b"+(n.pattern||l(n))+"\\b","i").exec(e)&&(n.label||n)}))}([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"]),F=function(t){return c(t,(function(t,n){return t||RegExp("\\b"+(n.pattern||l(n))+"\\b","i").exec(e)&&(n.label||n)}))}(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"Edge"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Waterfox","WebPositive","Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chrome",{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"]),j=n([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),U=function(t){return c(t,(function(t,n,r){return t||(n[j]||n[/^[a-z]+(?: +[a-z]+\b)*/i.exec(j)]||RegExp("\\b"+l(r)+"(?:\\b|\\w*\\d)","i").exec(e))&&r}))}({Apple:{iPad:1,iPhone:1,iPod:1},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1}}),B=function(t){return c(t,(function(t,n){var r=n.pattern||l(n);return!t&&(t=RegExp("\\b"+r+"(?:/[\\d.]+|[ \\w.]*)","i").exec(e))&&(t=function(t,e,n){var r={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return e&&n&&/^Win/i.test(t)&&!/^Windows Phone /i.test(t)&&(r=r[/[\d.]+$/.exec(t)])&&(t="Windows "+r),t=String(t),e&&n&&(t=t.replace(RegExp(e,"i"),n)),a(t.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])}(t,r,n.label||n)),t}))}(["Windows Phone","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian","Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);if(N&&(N=[N]),U&&!j&&(j=n([U])),(p=/\bGoogle TV\b/.exec(j))&&(j=p[0]),/\bSimulator\b/i.test(e)&&(j=(j?j+" ":"")+"Simulator"),"Opera Mini"==F&&/\bOPiOS\b/.test(e)&&I.push("running in Turbo/Uncompressed mode"),"IE"==F&&/\blike iPhone OS\b/.test(e)?(U=(p=t(e.replace(/like iPhone OS/,""))).manufacturer,j=p.product):/^iP/.test(j)?(F||(F="Safari"),B="iOS"+((p=/ OS ([\d_]+)/i.exec(e))?" "+p[1].replace(/_/g,"."):"")):"Konqueror"!=F||/buntu/i.test(B)?U&&"Google"!=U&&(/Chrome/.test(F)&&!/\bMobile Safari\b/i.test(e)||/\bVita\b/.test(j))||/\bAndroid\b/.test(B)&&/^Chrome/.test(F)&&/\bVersion\//i.test(e)?(F="Android Browser",B=/\bAndroid\b/.test(B)?B:"Android"):"Silk"==F?(/\bMobi/i.test(e)||(B="Android",I.unshift("desktop mode")),/Accelerated *= *true/i.test(e)&&I.unshift("accelerated")):"PaleMoon"==F&&(p=/\bFirefox\/([\d.]+)\b/.exec(e))?I.push("identifying as Firefox "+p[1]):"Firefox"==F&&(p=/\b(Mobile|Tablet|TV)\b/i.exec(e))?(B||(B="Firefox OS"),j||(j=p[1])):!F||(p=!/\bMinefield\b/i.test(e)&&/\b(?:Firefox|Safari)\b/.exec(F))?(F&&!j&&/[\/,]|^[^(]+?\)/.test(e.slice(e.indexOf(p+"/")+8))&&(F=null),(p=j||U||B)&&(j||U||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(B))&&(F=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(B)?B:p)+" Browser")):"Electron"==F&&(p=(/\bChrome\/([\d.]+)\b/.exec(e)||0)[1])&&I.push("Chromium "+p):B="Kubuntu",M||(M=function(t){return c(t,(function(t,n){return t||(RegExp(n+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(e)||0)[1]||null}))}(["(?:Cloud9|CriOS|CrMo|Edge|FxiOS|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$))","Version",l(F),"(?:Firefox|Minefield|NetFront)"])),(p=("iCab"==N&&parseFloat(M)>3?"WebKit":/\bOpera\b/.test(F)&&(/\bOPR\b/.test(e)?"Blink":"Presto"))||/\b(?:Midori|Nook|Safari)\b/i.test(e)&&!/^(?:Trident|EdgeHTML)$/.test(N)&&"WebKit"||!N&&/\bMSIE\b/i.test(e)&&("Mac OS"==B?"Tasman":"Trident")||"WebKit"==N&&/\bPlayStation\b(?! Vita\b)/i.test(F)&&"NetFront")&&(N=[p]),"IE"==F&&(p=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(e)||0)[1])?(F+=" Mobile",B="Windows Phone "+(/\+$/.test(p)?p:p+".x"),I.unshift("desktop mode")):/\bWPDesktop\b/i.test(e)?(F="IE Mobile",B="Windows Phone 8.x",I.unshift("desktop mode"),M||(M=(/\brv:([\d.]+)/.exec(e)||0)[1])):"IE"!=F&&"Trident"==N&&(p=/\brv:([\d.]+)/.exec(e))&&(F&&I.push("identifying as "+F+(M?" "+M:"")),F="IE",M=p[1]),O){if(function(t,e){var n=null!=t?_typeof(t[e]):"number";return!(/^(?:boolean|number|string|undefined)$/.test(n)||"object"==n&&!t[e])}(r,"global"))if(S&&(P=(p=S.lang.System).getProperty("os.arch"),B=B||p.getProperty("os.name")+" "+p.getProperty("os.version")),w){try{M=r.require("ringo/engine").version.join("."),F="RingoJS"}catch(e){(p=r.system)&&p.global.system==r.system&&(F="Narwhal",B||(B=p[0].os||null))}F||(F="Rhino")}else"object"==_typeof(r.process)&&!r.process.browser&&(p=r.process)&&("object"==_typeof(p.versions)&&("string"==typeof p.versions.electron?(I.push("Node "+p.versions.node),F="Electron",M=p.versions.electron):"string"==typeof p.versions.nw&&(I.push("Chromium "+M,"Node "+p.versions.node),F="NW.js",M=p.versions.nw)),F||(F="Node.js",P=p.arch,B=p.platform,M=(M=/[\d.]+/.exec(p.version))?M[0]:null));else u(p=r.runtime)==_?(F="Adobe AIR",B=p.flash.system.Capabilities.os):u(p=r.phantom)==T?(F="PhantomJS",M=(p=p.version||null)&&p.major+"."+p.minor+"."+p.patch):"number"==typeof D.documentMode&&(p=/\bTrident\/(\d+)/i.exec(e))?(M=[M,D.documentMode],(p=+p[1]+4)!=M[1]&&(I.push("IE "+M[1]+" mode"),N&&(N[1]=""),M[1]=p),M="IE"==F?String(M[1].toFixed(1)):M[0]):"number"==typeof D.documentMode&&/^(?:Chrome|Firefox)\b/.test(F)&&(I.push("masking as "+F+" "+M),F="IE",M="11.0",N=["Trident"],B="Windows");B=B&&a(B)}if(M&&(p=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(M)||/(?:alpha|beta)(?: ?\d)?/i.exec(e+";"+(O&&o.appMinorVersion))||/\bMinefield\b/i.test(e)&&"a")&&(R=/b/i.test(p)?"beta":"alpha",M=M.replace(RegExp(p+"\\+?$"),"")+("beta"==R?k:C)+(/\d+\+?/.exec(p)||"")),"Fennec"==F||"Firefox"==F&&/\b(?:Android|Firefox OS)\b/.test(B))F="Firefox Mobile";else if("Maxthon"==F&&M)M=M.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(j))"Xbox 360"==j&&(B=null),"Xbox 360"==j&&/\bIEMobile\b/.test(e)&&I.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test(F)&&(!F||j||/Browser|Mobi/.test(F))||"Windows CE"!=B&&!/Mobi/i.test(e))if("IE"==F&&O)try{null===r.external&&I.unshift("platform preview")}catch(e){I.unshift("embedded")}else(/\bBlackBerry\b/.test(j)||/\bBB10\b/.test(e))&&(p=(RegExp(j.replace(/ +/g," *")+"/([.\\d]+)","i").exec(e)||0)[1]||M)?(B=((p=[p,/BB10/.test(e)])[1]?(j=null,U="BlackBerry"):"Device Software")+" "+p[0],M=null):this!=s&&"Wii"!=j&&(O&&x||/Opera/.test(F)&&/\b(?:MSIE|Firefox)\b/i.test(e)||"Firefox"==F&&/\bOS X (?:\d+\.){2,}/.test(B)||"IE"==F&&(B&&!/^Win/.test(B)&&M>5.5||/\bWindows XP\b/.test(B)&&M>8||8==M&&!/\bTrident\b/.test(e)))&&!y.test(p=t.call(s,e.replace(y,"")+";"))&&p.name&&(p="ing as "+p.name+((p=p.version)?" "+p:""),y.test(F)?(/\bIE\b/.test(p)&&"Mac OS"==B&&(B=null),p="identify"+p):(p="mask"+p,F=L?a(L.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(p)&&(B=null),O||(M=null)),N=["Presto"],I.push(p));else F+=" Mobile";(p=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(e)||0)[1])&&(p=[parseFloat(p.replace(/\.(\d)$/,".0$1")),p],"Safari"==F&&"+"==p[1].slice(-1)?(F="WebKit Nightly",R="alpha",M=p[1].slice(0,-1)):M!=p[1]&&M!=(p[2]=(/\bSafari\/([\d.]+\+?)/i.exec(e)||0)[1])||(M=null),p[1]=(/\bChrome\/([\d.]+)/i.exec(e)||0)[1],537.36==p[0]&&537.36==p[2]&&parseFloat(p[1])>=28&&"WebKit"==N&&(N=["Blink"]),O&&(m||p[1])?(N&&(N[1]="like Chrome"),p=p[1]||((p=p[0])<530?1:p<532?2:p<532.05?3:p<533?4:p<534.03?5:p<534.07?6:p<534.1?7:p<534.13?8:p<534.16?9:p<534.24?10:p<534.3?11:p<535.01?12:p<535.02?"13+":p<535.07?15:p<535.11?16:p<535.19?17:p<536.05?18:p<536.1?19:p<537.01?20:p<537.11?"21+":p<537.13?23:p<537.18?24:p<537.24?25:p<537.36?26:"Blink"!=N?"27":"28")):(N&&(N[1]="like Safari"),p=(p=p[0])<400?1:p<500?2:p<526?3:p<533?4:p<534?"4+":p<535?5:p<537?6:p<538?7:p<601?8:"8"),N&&(N[1]+=" "+(p+="number"==typeof p?".x":/[.+]/.test(p)?"":"+")),"Safari"==F&&(!M||parseInt(M)>45)&&(M=p)),"Opera"==F&&(p=/\bzbov|zvav$/.exec(B))?(F+=" ",I.unshift("desktop mode"),"zvav"==p?(F+="Mini",M=null):F+="Mobile",B=B.replace(RegExp(" *"+p+"$"),"")):"Safari"==F&&/\bChrome\b/.exec(N&&N[1])&&(I.unshift("desktop mode"),F="Chrome Mobile",M=null,/\bOS X\b/.test(B)?(U="Apple",B="iOS 4.3+"):B=null),M&&0==M.indexOf(p=/[\d.]+$/.exec(B))&&e.indexOf("/"+p+"-")>-1&&(B=d(B.replace(p,""))),N&&!/\b(?:Avant|Nook)\b/.test(F)&&(/Browser|Lunascape|Maxthon/.test(F)||"Safari"!=F&&/^iOS/.test(B)&&/\bSafari\b/.test(N[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|Web)/.test(F)&&N[1])&&(p=N[N.length-1])&&I.push(p),I.length&&(I=["("+I.join("; ")+")"]),U&&j&&j.indexOf(U)<0&&I.push("on "+U),j&&I.push((/^on /.test(I[I.length-1])?"":"on ")+j),B&&(p=/ ([\d.+]+)$/.exec(B),g=p&&"/"==B.charAt(B.length-p[0].length-1),B={architecture:32,family:p&&!g?B.replace(p[0],""):B,version:p?p[1]:null,toString:function(){var t=this.version;return this.family+(t&&!g?" "+t:"")+(64==this.architecture?" 64-bit":"")}}),(p=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(P))&&!/\bi686\b/i.test(P)?(B&&(B.architecture=64,B.family=B.family.replace(RegExp(" *"+p),"")),F&&(/\bWOW64\b/i.test(e)||O&&/\w(?:86|32)$/.test(o.cpuClass||o.platform)&&!/\bWin64; x64\b/i.test(e))&&I.unshift("32-bit")):B&&/^OS X/.test(B.family)&&"Chrome"==F&&parseFloat(M)>=39&&(B.architecture=64),e||(e=null);var H={};return H.description=e,H.layout=N&&N[0],H.manufacturer=U,H.name=F,H.prerelease=R,H.product=j,H.ua=e,H.version=F&&M,H.os=B||{architecture:null,family:null,version:null,toString:function(){return"null"}},H.parse=t,H.toString=function(){return this.description||""},H.version&&I.unshift(M),H.name&&I.unshift(F),B&&F&&(B!=String(B).split(" ")[0]||B!=F.split(" ")[0]&&!j)&&I.push(j?"("+B+")":"on "+B),I.length&&(H.description=I.join(" ")),H}();f.platform=A,void 0===(r=function(){return A}.call(e,n,e,t))||(t.exports=r)}).call(this)}).call(e,n(28)(t),function(){return this}())},function(t,e){t.exports={currentProtocolIsHttps:function(){return"https:"===window.location.protocol},getProtocol:function(){return window.location.protocol}}},function(t,e,n){function r(){C.is(w.STOPPED)||C.is(w.PAUSED)||this.emit("html5-playback-status",{type:A.DATA_LOADING,mediaNode:this.audioNode})}function i(){C.is(w.STOPPED)||C.is(w.PAUSED)||this.emit("html5-playback-status",{type:A.LOAD_START,mediaNode:this.audioNode})}function o(){var t=this;C.is(w.STOPPED)||C.is(w.PAUSED)||null!==this.url&&("IE"===S.name&&"11.0"===S.version&&parseInt(S.os.version)>=7?this.audioNode.play():(t.emit("html5-playback-status",{type:A.CAN_PLAY,mediaNode:t.audioNode}),this.audioNode.play().then((function(){})).catch((function(e){t.handleHTMLPlayError(e)}))))}function a(){var t=this;C.is(w.STOPPED)||C.is(w.PAUSED)||null!==this.url&&("IE"===S.name&&"11.0"===S.version&&parseInt(S.os.version)>=7?this.audioNode.play():this.audioNode.play().then((function(){t.emit("html5-playback-status",{type:A.CAN_PLAY_THROUGH,mediaNode:t.audioNode})})).catch((function(e){t.handleHTMLPlayError(e)})))}function s(){C.is(w.STOPPED)||C.is(w.PAUSED)||this.emit("html5-playback-status",{type:A.WAITING,mediaNode:this.audioNode})}function u(){C.is(w.STOPPED)||C.is(w.PAUSED)||this.emit("html5-playback-status",{type:A.EMPTIED,mediaNode:this.audioNode})}function l(){C.is(w.STOPPED)||C.is(w.PAUSED)||this.emit("html5-playback-status",{type:A.ABORT,mediaNode:this.audioNode})}function c(){C.is(w.STOPPED)||this.emit("html5-playback-status",{type:A.ENDED,mediaNode:this.audioNode})}function d(){null!==this.url&&this.emit("html5-playback-status",{type:A.PLAY,mediaNode:this.audioNode})}function h(){C.is(w.STOPPED)?this.emit("html5-playback-status",{type:A.STOP,mediaNode:this.audioNode}):this.emit("html5-playback-status",{type:A.PAUSE,mediaNode:this.audioNode})}function f(){var t=this.audioNode;C.is(w.STOPPED)?this.emit("html5-playback-status",{type:A.STOP,mediaNode:t}):3!=t.readyState?(this.resetAudioNode(),this.emit("html5-playback-status",{type:A.ERROR,mediaNode:t})):this.emit("html5-playback-status",{type:A.STOP,mediaNode:t})}function p(){var t=this.audioNode;this.emit("html5-playback-status",{type:A.ERROR,mediaNode:t})}function g(){C.is(w.STOPPED)||C.is(w.PAUSED)||(this.audioNode.currentTime.toFixed(1)==this.audioNode.duration.toFixed(1)?this.emit("html5-playback-status",{type:A.ENDED,mediaNode:this.audioNode}):this.isLive||this.emit("html5-playback-status",{type:A.TIME_UPDATE,mediaNode:this.audioNode}))}function m(){this.boundOnOffline=p.bind(this),this.audioNode.addEventListener("loadeddata",r.bind(this)),this.audioNode.addEventListener("loadstart",i.bind(this)),this.audioNode.addEventListener("canplay",o.bind(this)),this.audioNode.addEventListener("canplaythrough",a.bind(this)),this.audioNode.addEventListener("waiting",s.bind(this)),this.audioNode.addEventListener("emptied",u.bind(this)),this.audioNode.addEventListener("abort",l.bind(this)),this.audioNode.addEventListener("ended",c.bind(this)),this.audioNode.addEventListener("play",d.bind(this)),this.audioNode.addEventListener("pause",h.bind(this)),this.audioNode.addEventListener("timeupdate",g.bind(this)),this.audioNode.addEventListener("error",f.bind(this)),window.addEventListener("offline",this.boundOnOffline)}function v(){this.audioNode.removeEventListener("loadeddata",r),this.audioNode.removeEventListener("loadstart",i),this.audioNode.removeEventListener("canplay",o),this.audioNode.removeEventListener("canplaythrough",a),this.audioNode.removeEventListener("waiting",s),this.audioNode.removeEventListener("emptied",u),this.audioNode.removeEventListener("abort",l),this.audioNode.removeEventListener("ended",c),this.audioNode.removeEventListener("play",d),this.audioNode.removeEventListener("pause",h),this.audioNode.removeEventListener("timeupdate",g),this.audioNode.removeEventListener("error",f),window.removeEventListener("offline",this.boundOnOffline)}function y(){return this.audioNode||(this.audioNode=new Audio,this.audioNode.autoplay=!1,this.audioNode.preload="none",m.call(this)),this.audioNode}var _=n(8),b=n(91).EventEmitter,E=n(36),A=n(39),T=n(92),S=n(20),w={IDLE:"IDLE",PLAYING:"PLAYING",STOPPED:"STOPPED",PAUSED:"PAUSED"},C=T.create({initial:w.STOPPED,error:function(t,e){console.warn("Event",t,"inappropriate in current state",e)},events:[{name:"play",from:w.STOPPED,to:w.PLAYING},{name:"play",from:w.PLAYING,to:w.PLAYING},{name:"stop",from:w.PLAYING,to:w.STOPPED},{name:"stop",from:w.PAUSED,to:w.STOPPED},{name:"pause",from:w.PLAYING,to:w.PAUSED},{name:"resume",from:w.PAUSED,to:w.PLAYING}]});t.exports=_.assign(new b,{audioNode:null,init:function(){this.audioNode=y.call(this),this.url=null,this.audioNode.src=""},playAudio:function(t,e,n){this.audioNode&&this.stop(),this.audioNode=y.call(this),this.url=t||this.url,this.isLive=n||this.isLive,this.useHlsLibrary=e||this.useHlsLibrary,this.useHlsLibrary?(this.hls=new E,this.hls.loadSource(t),this.hls.attachMedia(this.audioNode)):(this.audioNode.src=t,this.audioNode.load()),C.play()},stop:function(){var t=this;C.is(w.STOPPED)||(this.audioNode=y.call(this),C.stop(),this.audioNode.pause(),"Safari"!==S.name||this.audioNode.src.indexOf("m3u8")>-1||this.useHlsLibrary?setTimeout((function(){t.audioNode.src="",t.url=null,t.resetAudioNode()}),300):setTimeout((function(){t.url=null,t.resetAudioNode()}),300),"iOS"===S.os.family&&"Chrome Mobile"===S.name&&window.stop(),this.useHlsLibrary&&(this.hls.detachMedia(),this.hls.stopLoad(),this.hls.destroy()))},pause:function(){C.is(w.PAUSED)||(this.audioNode=y.call(this),this.audioNode.pause(),C.pause())},resume:function(){var t=this;C.is(w.PAUSED)&&(this.audioNode=y.call(this),"IE"===S.name&&"11.0"===S.version&&parseInt(S.os.version)>=7?this.audioNode.play():this.audioNode.play().catch((function(e){t.handleHTMLPlayError(e)})),C.resume())},mute:function(){C.is(w.PLAYING)&&(this.audioNode=y.call(this),this.stop())},unMute:function(){C.is(w.PLAYING)||(this.audioNode=y.call(this))},setVolume:function(t){this.audioNode=y.call(this),this.audioNode.volume=t},isStopped:function(){return C.is(w.STOPPED)},resetAudioNode:function(){v.call(this),this.audioNode=null,C.can("stop")&&C.stop()},destroyAudioElement:function(){this.emit("destroyAudioElement")},handleHTMLPlayError:function(t){"NotSupportedError"!==t.name&&"NotAllowedError"===t.name&&this.emit("html5-playback-status",{type:A.PLAY_NOT_ALLOWED,mediaNode:this.audioNode})}})},function(t,e,n){var r,i;r=[n(9),n(7)],void 0===(i=function(t,e){function n(e,n,r){if(n=n.toLowerCase(),t("ie")){if("auto"==r){if("height"==n)return e.offsetHeight;if("width"==n)return e.offsetWidth}if("fontweight"==n)switch(r){case 700:return"bold";case 400:default:return"normal"}}return n in c||(c[n]=d.test(n)),c[n]?i(e,r):r}var r,i,o={};r=t("webkit")?function(t){var e;if(1==t.nodeType){var n=t.ownerDocument.defaultView;!(e=n.getComputedStyle(t,null))&&t.style&&(t.style.display="",e=n.getComputedStyle(t,null))}return e||{}}:t("ie")&&(t("ie")<9||t("quirks"))?function(t){return 1==t.nodeType&&t.currentStyle?t.currentStyle:{}}:function(t){return 1==t.nodeType?t.ownerDocument.defaultView.getComputedStyle(t,null):{}},o.getComputedStyle=r,i=t("ie")?function(t,e){if(!e)return 0;if("medium"==e)return 4;if(e.slice&&"px"==e.slice(-2))return parseFloat(e);var n=t.style,r=t.runtimeStyle,i=t.currentStyle,o=n.left,a=r.left;r.left=i.left;try{n.left=e,e=n.pixelLeft}catch(t){e=0}return n.left=o,r.left=a,e}:function(t,e){return parseFloat(e)||0},o.toPixelValue=i;var a="DXImageTransform.Microsoft.Alpha",s=function(t,e){try{return t.filters.item(a)}catch(t){return e?{}:null}},u=t("ie")<9||t("ie")<10&&t("quirks")?function(t){try{return s(t).Opacity/100}catch(t){return 1}}:function(t){return r(t).opacity},l=t("ie")<9||t("ie")<10&&t("quirks")?function(t,e){""===e&&(e=1);var n=100*e;if(1===e?(t.style.zoom="",s(t)&&(t.style.filter=t.style.filter.replace(new RegExp("\\s*progid:"+a+"\\([^\\)]+?\\)","i"),""))):(t.style.zoom=1,s(t)?s(t,1).Opacity=n:t.style.filter+=" progid:"+a+"(Opacity="+n+")",s(t,1).Enabled=!0),"tr"==t.tagName.toLowerCase())for(var r=t.firstChild;r;r=r.nextSibling)"td"==r.tagName.toLowerCase()&&l(r,e);return e}:function(t,e){return t.style.opacity=e},c={left:!0,top:!0},d=/margin|padding|width|height|max|min|offset/,h={cssFloat:1,styleFloat:1,float:1};return o.get=function(t,r){var i=e.byId(t),a=arguments.length,s="opacity"==r;if(2==a&&s)return u(i);r=h[r]?"cssFloat"in i.style?"cssFloat":"styleFloat":r;var l=o.getComputedStyle(i);return 1==a?l:n(i,r,l[r]||i.style[r])},o.set=function(t,n,r){var i=e.byId(t),a=arguments.length,s="opacity"==n;if(n=h[n]?"cssFloat"in i.style?"cssFloat":"styleFloat":n,3==a)return s?l(i,r):i.style[n]=r;for(var u in n)o.set(t,u,n[u]);return o.getComputedStyle(i)},o}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(35)],void 0===(i=function(t){return t("CancelError",null,null,{dojoType:"cancel"})}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(2)],void 0===(i=function(t){"use strict";function e(){throw new TypeError("abstract")}return t.extend((function(){}),{then:function(t,n,r){e()},cancel:function(t,n){e()},isResolved:function(){e()},isRejected:function(){e()},isFulfilled:function(){e()},isCanceled:function(){e()},always:function(t){return this.then(t,t)},otherwise:function(t){return this.then(null,t)},trace:function(){return this},traceRejected:function(){return this},toString:function(){return"[object Promise]"}})}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(13)],void 0===(i=function(t){var e=new t;return{publish:function(t,n){return e.emit.apply(e,arguments)},subscribe:function(t,n){return e.on.apply(e,arguments)}}}.apply(e,r))||(t.exports=i)},function(t,e){function n(t,e){if(t instanceof Array){var i=t.map((function(t){return n(t)}));e&&e.apply(this,i)}else{if(r[t])return r[t];console.error('Dynamic dojo require is not supported. Trying to require "'+t+'"')}}var r={};n.async=!0,n.toUrl=function(t){return t},n.register=function(t,e){return r[t]=e,e},n.unregister=function(t){delete r[t]},t.exports=n},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e,n){var r;void 0===(r=function(){return{VAST_AD:"vastAd",MEDIA_AD:"mediaAd",ANDO_RUN_SPOT:"andoRunSpot",TRITON_AD_PLATFORM:"tap"}}.apply(e,[]))||(t.exports=r)},function(t,e,n){var r=n(8);t.exports={toSafeArray:function(t){return t?r.isArray(t)?t:[t]:[]}}},function(t,e,n){var r,i,o=n(15);r=[n(1),n(2),n(6),n(3),n(13)],void 0===(i=function(t,e,n,r,i){return t([i],{constructor:function(t,e){this.data=t,this.platformId=e,this.url=t.staticURL,this.id=t.id,this.listeners=[],this.platform=new o(e),this.alreadyFetched=!1},getStaticUrl:function(){return this.data.staticURL},getDynamicUrl:function(){return this.platform.endpoint.npe},getDynamicArtistUrl:function(t){return this.getDynamicUrl()+"artist/"+t},getDynamicAlbumUrl:function(t){return this.getDynamicUrl()+"album/"+t},getDynamicTrackUrl:function(t){return this.getDynamicUrl()+"track/"+t},getDynamicArtistPictureUrl:function(t,e){return this.getDynamicUrl()+"artist/"+t+"/picture/"+e},getDynamicAlbumPictureUrl:function(t,e){return this.getDynamicUrl()+"album/"+t+"/picture/"+e},notify:function(t,e){this.emit(t,e)},getRequestArgs:function(){return{handleAs:"json",preventCache:!1,headers:{"X-Requested-With":null,"Content-Type":"text/plain; charset=utf-8"}}},addEventListener:function(t,i){var o=-1;n.forEach(this.listeners,(function(e,n){e.eventName==t&&e.callback==i&&(o=n)}),this),-1==o&&this.listeners.push({eventName:t,callback:i,listener:r(this,t,e.hitch(this,i))})},removeEventListener:function(t,e){var r=-1;n.forEach(this.listeners,(function(n,i){n.eventName==t&&n.callback==e&&(r=i)}),this),r>-1&&(this.listeners[r].listener.remove(),this.listeners.splice(r,1))}})}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(4),n(2),n(24),n(25),n(56)],void 0===(i=function(t,e,n,r,i){"use strict";var o="This deferred has already been fulfilled.",a=Object.freeze||function(){},s=function(e,n,r,i,o){t("config-deferredInstrumentation")&&2===n&&d.instrumentRejected&&0===e.length&&d.instrumentRejected(r,!1,i,o);for(var a=0;a<e.length;a++)u(e[a],n,r,i)},u=function(e,n,r,i){var o=e[n],a=e.deferred;if(o)try{var s=o(r);if(0===n)void 0!==s&&c(a,n,s);else{if(s&&"function"==typeof s.then)return e.cancel=s.cancel,void s.then(l(a,1),l(a,2),l(a,0));c(a,1,s)}}catch(t){c(a,2,t)}else c(a,n,r);t("config-deferredInstrumentation")&&2===n&&d.instrumentRejected&&d.instrumentRejected(r,!!o,i,a.promise)},l=function(t,e){return function(n){c(t,e,n)}},c=function(t,e,n){if(!t.isCanceled())switch(e){case 0:t.progress(n);break;case 1:t.resolve(n);break;case 2:t.reject(n)}},d=function e(i){var l,c,d,h=this.promise=new r,f=this,p=!1,g=[];t("config-deferredInstrumentation")&&Error.captureStackTrace&&(Error.captureStackTrace(f,e),Error.captureStackTrace(h,e)),this.isResolved=h.isResolved=function(){return 1===l},this.isRejected=h.isRejected=function(){return 2===l},this.isFulfilled=h.isFulfilled=function(){return!!l},this.isCanceled=h.isCanceled=function(){return p},this.progress=function(t,e){if(l){if(!0===e)throw new Error(o);return h}return s(g,0,t,null,f),h},this.resolve=function(t,e){if(l){if(!0===e)throw new Error(o);return h}return s(g,l=1,c=t,null,f),g=null,h};var m=this.reject=function(e,n){if(l){if(!0===n)throw new Error(o);return h}return t("config-deferredInstrumentation")&&Error.captureStackTrace&&Error.captureStackTrace(d={},m),s(g,l=2,c=e,d,f),g=null,h};this.then=h.then=function(t,n,r){var i=[r,t,n];return i.cancel=h.cancel,i.deferred=new e((function(t){return i.cancel&&i.cancel(t)})),l&&!g?u(i,l,c,d):g.push(i),i.deferred.promise},this.cancel=h.cancel=function(t,e){if(l){if(!0===e)throw new Error(o)}else{if(i){var r=i(t);t=void 0===r?t:r}if(p=!0,!l)return void 0===t&&(t=new n),m(t),t;if(2===l&&c===t)return t}},a(h)};return d.prototype.toString=function(){return"[object Deferred]"},i&&i(d),d}.apply(e,r))||(t.exports=i)},function(t,e,n){var r;void 0===(r=function(){"use strict";function t(t){return function(r,i,o,a){var s,u=r[i];u&&u.target==r||(r[i]=s=function(){for(var t=n,r=arguments,i=s.before;i;)r=i.advice.apply(this,r)||r,i=i.next;if(s.around)var o=s.around.advice(this,r);for(var a=s.after;a&&a.id<t;){if(a.receiveArguments){var u=a.advice.apply(this,r);o=u===e?o:u}else o=a.advice.call(this,o,r);a=a.next}return o},u&&(s.around={advice:function(t,e){return u.apply(t,e)}}),s.target=r);var l=function(t,e,r,i){var o,a=t[e],s="around"==e;if(s){var u=r((function(){return a.advice(this,arguments)}));o={remove:function(){u&&(u=t=r=null)},advice:function(t,e){return u?u.apply(t,e):a.advice(t,e)}}}else o={remove:function(){if(o.advice){var n=o.previous,i=o.next;i||n?(n?n.next=i:t[e]=i,i&&(i.previous=n)):delete t[e],t=r=o.advice=null}},id:n++,advice:r,receiveArguments:i};if(a&&!s)if("after"==e){for(;a.next&&(a=a.next););a.next=o,o.previous=a}else"before"==e&&(t[e]=o,o.next=a,a.previous=o);else t[e]=o;return o}(s||u,t,o,a);return o=null,l}}var e,n=0,r=t("after");return{before:t("before"),around:t("around"),after:r}}.apply(e,[]))||(t.exports=r)},function(t,e,n){var r,i;r=[n(35)],void 0===(i=function(t){return t("RequestError",(function(t,e){this.response=e}))}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(2)],void 0===(i=function(t){return function(e,n,r,i){r=r||Error;var o=function t(e){if(r===Error){Error.captureStackTrace&&Error.captureStackTrace(this,t);var i,o=Error.call(this,e);for(i in o)o.hasOwnProperty(i)&&(this[i]=o[i]);this.message=e,this.stack=o.stack}else r.apply(this,arguments);n&&n.apply(this,arguments)};return(o.prototype=t.delegate(r.prototype,i)).name=e,o.prototype.constructor=o,o}}.apply(e,r))||(t.exports=i)},function(t,e,n){"undefined"!=typeof window&&(t.exports=function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==_typeof(t)&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)e.d(r,i,function(e){return t[e]}.bind(null,i));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/dist/",e(e.s="./src/hls.js")}({"./node_modules/eventemitter3/index.js":
/*!*********************************************!*\
	  !*** ./node_modules/eventemitter3/index.js ***!
	  \*********************************************/
/*! no static exports found */ /*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,n){"use strict";function r(){}function i(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function o(t,e,n,r,o){if("function"!=typeof n)throw new TypeError("The listener must be a function");var a=new i(n,r||t,o),s=l?l+e:e;return t._events[s]?t._events[s].fn?t._events[s]=[t._events[s],a]:t._events[s].push(a):(t._events[s]=a,t._eventsCount++),t}function a(t,e){0==--t._eventsCount?t._events=new r:delete t._events[e]}function s(){this._events=new r,this._eventsCount=0}var u=Object.prototype.hasOwnProperty,l="~";Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(l=!1)),s.prototype.eventNames=function(){var t,e,n=[];if(0===this._eventsCount)return n;for(e in t=this._events)u.call(t,e)&&n.push(l?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},s.prototype.listeners=function(t){var e=l?l+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,i=n.length,o=new Array(i);r<i;r++)o[r]=n[r].fn;return o},s.prototype.listenerCount=function(t){var e=l?l+t:t,n=this._events[e];return n?n.fn?1:n.length:0},s.prototype.emit=function(t,e,n,r,i,o){var a=l?l+t:t;if(!this._events[a])return!1;var s,u,c=this._events[a],d=arguments.length;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),d){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,n),!0;case 4:return c.fn.call(c.context,e,n,r),!0;case 5:return c.fn.call(c.context,e,n,r,i),!0;case 6:return c.fn.call(c.context,e,n,r,i,o),!0}for(u=1,s=new Array(d-1);u<d;u++)s[u-1]=arguments[u];c.fn.apply(c.context,s)}else{var h,f=c.length;for(u=0;u<f;u++)switch(c[u].once&&this.removeListener(t,c[u].fn,void 0,!0),d){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,e);break;case 3:c[u].fn.call(c[u].context,e,n);break;case 4:c[u].fn.call(c[u].context,e,n,r);break;default:if(!s)for(h=1,s=new Array(d-1);h<d;h++)s[h-1]=arguments[h];c[u].fn.apply(c[u].context,s)}}return!0},s.prototype.on=function(t,e,n){return o(this,t,e,n,!1)},s.prototype.once=function(t,e,n){return o(this,t,e,n,!0)},s.prototype.removeListener=function(t,e,n,r){var i=l?l+t:t;if(!this._events[i])return this;if(!e)return a(this,i),this;var o=this._events[i];if(o.fn)o.fn!==e||r&&!o.once||n&&o.context!==n||a(this,i);else{for(var s=0,u=[],c=o.length;s<c;s++)(o[s].fn!==e||r&&!o[s].once||n&&o[s].context!==n)&&u.push(o[s]);u.length?this._events[i]=1===u.length?u[0]:u:a(this,i)}return this},s.prototype.removeAllListeners=function(t){var e;return t?(e=l?l+t:t,this._events[e]&&a(this,e)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=l,s.EventEmitter=s,t.exports=s},"./node_modules/node-libs-browser/node_modules/events/events.js":
/*!**********************************************************************!*\
	  !*** ./node_modules/node-libs-browser/node_modules/events/events.js ***!
	  \**********************************************************************/
/*! no static exports found */ /*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(t){return"function"==typeof t}function i(t){return"object"==_typeof(t)&&null!==t}function o(t){return void 0===t}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if(!function(t){return"number"==typeof t}(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,n,a,s,u,l;if(this._events||(this._events={}),"error"===t&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var c=new Error('Uncaught, unspecified "error" event. ('+e+")");throw c.context=e,c}if(o(n=this._events[t]))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(i(n))for(s=Array.prototype.slice.call(arguments,1),a=(l=n.slice()).length,u=0;u<a;u++)l[u].apply(this,s);return!0},n.prototype.addListener=function(t,e){var a;if(!r(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,r(e.listener)?e.listener:e),this._events[t]?i(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,i(this._events[t])&&!this._events[t].warned&&(a=o(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&a>0&&this._events[t].length>a&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(t,e){function n(){this.removeListener(t,n),i||(i=!0,e.apply(this,arguments))}if(!r(e))throw TypeError("listener must be a function");var i=!1;return n.listener=e,this.on(t,n),this},n.prototype.removeListener=function(t,e){var n,o,a,s;if(!r(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(a=(n=this._events[t]).length,o=-1,n===e||r(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(i(n)){for(s=a;s-- >0;)if(n[s]===e||n[s].listener&&n[s].listener===e){o=s;break}if(o<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(o,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(r(n=this._events[t]))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){return this._events&&this._events[t]?r(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(r(e))return 1;if(e)return e.length}return 0},n.listenerCount=function(t,e){return t.listenerCount(e)}},"./node_modules/url-toolkit/src/url-toolkit.js":
/*!*****************************************************!*\
	  !*** ./node_modules/url-toolkit/src/url-toolkit.js ***!
	  \*****************************************************/
/*! no static exports found */ /*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,n){!function(e){var n=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,r=/^([^\/?#]*)(.*)$/,i=/(?:\/|^)\.(?=\/)/g,o=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,a={buildAbsoluteURL:function(t,e,n){if(n=n||{},t=t.trim(),!(e=e.trim())){if(!n.alwaysNormalize)return t;var i=a.parseURL(t);if(!i)throw new Error("Error trying to parse base URL.");return i.path=a.normalizePath(i.path),a.buildURLFromParts(i)}var o=a.parseURL(e);if(!o)throw new Error("Error trying to parse relative URL.");if(o.scheme)return n.alwaysNormalize?(o.path=a.normalizePath(o.path),a.buildURLFromParts(o)):e;var s=a.parseURL(t);if(!s)throw new Error("Error trying to parse base URL.");if(!s.netLoc&&s.path&&"/"!==s.path[0]){var u=r.exec(s.path);s.netLoc=u[1],s.path=u[2]}s.netLoc&&!s.path&&(s.path="/");var l={scheme:s.scheme,netLoc:o.netLoc,path:null,params:o.params,query:o.query,fragment:o.fragment};if(!o.netLoc&&(l.netLoc=s.netLoc,"/"!==o.path[0]))if(o.path){var c=s.path,d=c.substring(0,c.lastIndexOf("/")+1)+o.path;l.path=a.normalizePath(d)}else l.path=s.path,o.params||(l.params=s.params,o.query||(l.query=s.query));return null===l.path&&(l.path=n.alwaysNormalize?a.normalizePath(o.path):o.path),a.buildURLFromParts(l)},parseURL:function(t){var e=n.exec(t);return e?{scheme:e[1]||"",netLoc:e[2]||"",path:e[3]||"",params:e[4]||"",query:e[5]||"",fragment:e[6]||""}:null},normalizePath:function(t){for(t=t.split("").reverse().join("").replace(i,"");t.length!==(t=t.replace(o,"")).length;);return t.split("").reverse().join("")},buildURLFromParts:function(t){return t.scheme+t.netLoc+t.path+t.params+t.query+t.fragment}};t.exports=a}()},"./node_modules/webworkify-webpack/index.js":
/*!**************************************************!*\
	  !*** ./node_modules/webworkify-webpack/index.js ***!
	  \**************************************************/
/*! no static exports found */ /*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,n){function r(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e.oe=function(t){throw console.error(t),t};var r=e(e.s=ENTRY_MODULE);return r.default||r}function i(t){return(t+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function o(t){return!isNaN(1*t)}function a(t,e,r){var a={};a[r]=[];var s=e.toString(),u=s.match(/^function\s?\(\w+,\s*\w+,\s*(\w+)\)/);if(!u)return a;for(var d,h=u[1],f=new RegExp("(\\\\n|\\W)"+i(h)+c,"g");d=f.exec(s);)"dll-reference"!==d[3]&&a[r].push(d[3]);for(f=new RegExp("\\("+i(h)+'\\("(dll-reference\\s('+l+'))"\\)\\)'+c,"g");d=f.exec(s);)t[d[2]]||(a[r].push(d[1]),t[d[2]]=n(d[1]).m),a[d[2]]=a[d[2]]||[],a[d[2]].push(d[4]);for(var p=Object.keys(a),g=0;g<p.length;g++)for(var m=0;m<a[p[g]].length;m++)o(a[p[g]][m])&&(a[p[g]][m]=1*a[p[g]][m]);return a}function s(t){return Object.keys(t).reduce((function(e,n){return e||t[n].length>0}),!1)}function u(t,e){for(var n={main:[e]},r={main:[]},i={main:{}};s(n);)for(var o=Object.keys(n),u=0;u<o.length;u++){var l=o[u],c=n[l].pop();if(i[l]=i[l]||{},!i[l][c]&&t[l][c]){i[l][c]=!0,r[l]=r[l]||[],r[l].push(c);for(var d=a(t,t[l][c],l),h=Object.keys(d),f=0;f<h.length;f++)n[h[f]]=n[h[f]]||[],n[h[f]]=n[h[f]].concat(d[h[f]])}}return r}var l="[\\.|\\-|\\+|\\w|/|@]+",c="\\((/\\*.*?\\*/)?s?.*?("+l+").*?\\)";t.exports=function(t,e){e=e||{};var i={main:n.m},o=e.all?{main:Object.keys(i.main)}:u(i,t),a="";Object.keys(o).filter((function(t){return"main"!==t})).forEach((function(t){for(var e=0;o[t][e];)e++;o[t].push(e),i[t][e]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",a=a+"var "+t+" = ("+r.toString().replace("ENTRY_MODULE",JSON.stringify(e))+")({"+o[t].map((function(e){return JSON.stringify(e)+": "+i[t][e].toString()})).join(",")+"});\n"})),a=a+"new (("+r.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+o.main.map((function(t){return JSON.stringify(t)+": "+i.main[t].toString()})).join(",")+"}))(self);";var s=new window.Blob([a],{type:"text/javascript"});if(e.bare)return s;var l=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(s),c=new window.Worker(l);return c.objectURL=l,c}},"./src/config.js":
/*!***********************!*\
	  !*** ./src/config.js ***!
	  \***********************/
/*! no static exports found */ /*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(/*! ./controller/abr-controller */"./src/controller/abr-controller.js"),i=n(/*! ./controller/buffer-controller */"./src/controller/buffer-controller.js"),o=n(/*! ./controller/cap-level-controller */"./src/controller/cap-level-controller.js"),a=n(/*! ./controller/fps-controller */"./src/controller/fps-controller.js"),s=n(/*! ./utils/xhr-loader */"./src/utils/xhr-loader.js"),u=n(/*! ./controller/audio-track-controller */"./src/controller/audio-track-controller.js"),l=n(/*! ./controller/audio-stream-controller */"./src/controller/audio-stream-controller.js"),c=n(/*! ./utils/cues */"./src/utils/cues.js"),d=n(/*! ./controller/timeline-controller */"./src/controller/timeline-controller.js"),h=n(/*! ./controller/subtitle-track-controller */"./src/controller/subtitle-track-controller.js"),f=n(/*! ./controller/subtitle-stream-controller */"./src/controller/subtitle-stream-controller.js"),p=n(/*! ./controller/eme-controller */"./src/controller/eme-controller.js"),g=n(/*! ./utils/mediakeys-helper */"./src/utils/mediakeys-helper.js");e.hlsDefaultConfig={autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,maxBufferSize:6e7,maxBufferHole:.5,lowBufferWatchdogPeriod:.5,highBufferWatchdogPeriod:3,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,liveDurationInfinity:!1,liveBackBufferLength:1/0,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:s.default,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,abrController:r.default,bufferController:i.default,capLevelController:o.default,fpsController:a.default,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,requestMediaKeySystemAccessFunc:g.requestMediaKeySystemAccess},e.hlsDefaultConfig.subtitleStreamController=f.SubtitleStreamController,e.hlsDefaultConfig.subtitleTrackController=h.default,e.hlsDefaultConfig.timelineController=d.default,e.hlsDefaultConfig.cueHandler=c,e.hlsDefaultConfig.enableCEA708Captions=!0,e.hlsDefaultConfig.enableWebVTT=!0,e.hlsDefaultConfig.captionsTextTrack1Label="English",e.hlsDefaultConfig.captionsTextTrack1LanguageCode="en",e.hlsDefaultConfig.captionsTextTrack2Label="Spanish",e.hlsDefaultConfig.captionsTextTrack2LanguageCode="es",e.hlsDefaultConfig.audioStreamController=l.default,e.hlsDefaultConfig.audioTrackController=u.default,e.hlsDefaultConfig.emeController=p.default},"./src/controller/abr-controller.js":
/*!******************************************!*\
	  !*** ./src/controller/abr-controller.js ***!
	  \******************************************/
/*! no static exports found */ /*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,n){"use strict";(function(t){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(/*! ../events */"./src/events.js"),o=n(/*! ../event-handler */"./src/event-handler.js"),a=n(/*! ../utils/buffer-helper */"./src/utils/buffer-helper.js"),s=n(/*! ../errors */"./src/errors.js"),u=n(/*! ../utils/logger */"./src/utils/logger.js"),l=n(/*! ../utils/ewma-bandwidth-estimator */"./src/utils/ewma-bandwidth-estimator.js"),c=window.performance,d=function(e){function n(t){var n=e.call(this,t,i.default.FRAG_LOADING,i.default.FRAG_LOADED,i.default.FRAG_BUFFERED,i.default.ERROR)||this;return n.lastLoadedFragLevel=0,n._nextAutoLevel=-1,n.hls=t,n.timer=null,n._bwEstimator=null,n.onCheck=n._abandonRulesCheck.bind(n),n}return r(n,e),n.prototype.destroy=function(){this.clearTimer(),o.default.prototype.destroy.call(this)},n.prototype.onFragLoading=function(t){var e=t.frag;if("main"===e.type&&(this.timer||(this.fragCurrent=e,this.timer=setInterval(this.onCheck,100)),!this._bwEstimator)){var n=this.hls,r=n.config,i=e.level,o=void 0,a=void 0;n.levels[i].details.live?(o=r.abrEwmaFastLive,a=r.abrEwmaSlowLive):(o=r.abrEwmaFastVoD,a=r.abrEwmaSlowVoD),this._bwEstimator=new l.default(n,a,o,r.abrEwmaDefaultEstimate)}},n.prototype._abandonRulesCheck=function(){var t=this.hls,e=t.media,n=this.fragCurrent;if(n){var r=n.loader,o=t.minAutoLevel;if(!r||r.stats&&r.stats.aborted)return u.logger.warn("frag loader destroy or aborted, disarm abandonRules"),this.clearTimer(),void(this._nextAutoLevel=-1);var s=r.stats;if(e&&s&&(!e.paused&&0!==e.playbackRate||!e.readyState)&&n.autoLevel&&n.level){var l=c.now()-s.trequest,d=Math.abs(e.playbackRate);if(l>500*n.duration/d){var h=t.levels,f=Math.max(1,s.bw?s.bw/8:1e3*s.loaded/l),p=h[n.level],g=p.realBitrate?Math.max(p.realBitrate,p.bitrate):p.bitrate,m=s.total?s.total:Math.max(s.loaded,Math.round(n.duration*g/8)),v=e.currentTime,y=(m-s.loaded)/f,_=(a.BufferHelper.bufferInfo(e,v,t.config.maxBufferHole).end-v)/d;if(_<2*n.duration/d&&y>_){var b=void 0,E=void 0;for(E=n.level-1;E>o;E--){var A=h[E].realBitrate?Math.max(h[E].realBitrate,h[E].bitrate):h[E].bitrate;if((b=n.duration*A/(6.4*f))<_)break}b<y&&(u.logger.warn("loading too slow, abort fragment loading and switch to level "+E+":fragLoadedDelay["+E+"]<fragLoadedDelay["+(n.level-1)+"];bufferStarvationDelay:"+b.toFixed(1)+"<"+y.toFixed(1)+":"+_.toFixed(1)),t.nextLoadLevel=E,this._bwEstimator.sample(l,s.loaded),r.abort(),this.clearTimer(),t.trigger(i.default.FRAG_LOAD_EMERGENCY_ABORTED,{frag:n,stats:s}))}}}}},n.prototype.onFragLoaded=function(e){var n=e.frag;if("main"===n.type&&t.isFinite(n.sn)){if(this.clearTimer(),this.lastLoadedFragLevel=n.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var r=this.hls.levels[n.level],i=(r.loaded?r.loaded.bytes:0)+e.stats.loaded,o=(r.loaded?r.loaded.duration:0)+e.frag.duration;r.loaded={bytes:i,duration:o},r.realBitrate=Math.round(8*i/o)}if(e.frag.bitrateTest){var a=e.stats;a.tparsed=a.tbuffered=a.tload,this.onFragBuffered(e)}}},n.prototype.onFragBuffered=function(e){var n=e.stats,r=e.frag;if(!0!==n.aborted&&"main"===r.type&&t.isFinite(r.sn)&&(!r.bitrateTest||n.tload===n.tbuffered)){var i=n.tparsed-n.trequest;u.logger.log("latency/loading/parsing/append/kbps:"+Math.round(n.tfirst-n.trequest)+"/"+Math.round(n.tload-n.tfirst)+"/"+Math.round(n.tparsed-n.tload)+"/"+Math.round(n.tbuffered-n.tparsed)+"/"+Math.round(8*n.loaded/(n.tbuffered-n.trequest))),this._bwEstimator.sample(i,n.loaded),n.bwEstimate=this._bwEstimator.getEstimate(),r.bitrateTest?this.bitrateTestDelay=i/1e3:this.bitrateTestDelay=0}},n.prototype.onError=function(t){switch(t.details){case s.ErrorDetails.FRAG_LOAD_ERROR:case s.ErrorDetails.FRAG_LOAD_TIMEOUT:this.clearTimer()}},n.prototype.clearTimer=function(){clearInterval(this.timer),this.timer=null},Object.defineProperty(n.prototype,"nextAutoLevel",{get:function(){var t=this._nextAutoLevel,e=this._bwEstimator;if(!(-1===t||e&&e.canEstimate()))return t;var n=this._nextABRAutoLevel;return-1!==t&&(n=Math.min(t,n)),n},set:function(t){this._nextAutoLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_nextABRAutoLevel",{get:function(){var t=this.hls,e=t.maxAutoLevel,n=t.levels,r=t.config,i=t.minAutoLevel,o=t.media,s=this.lastLoadedFragLevel,l=this.fragCurrent?this.fragCurrent.duration:0,c=o?o.currentTime:0,d=o&&0!==o.playbackRate?Math.abs(o.playbackRate):1,h=this._bwEstimator?this._bwEstimator.getEstimate():r.abrEwmaDefaultEstimate,f=(a.BufferHelper.bufferInfo(o,c,r.maxBufferHole).end-c)/d,p=this._findBestLevel(s,l,h,i,e,f,r.abrBandWidthFactor,r.abrBandWidthUpFactor,n);if(p>=0)return p;u.logger.trace("rebuffering expected to happen, lets try to find a quality level minimizing the rebuffering");var g=l?Math.min(l,r.maxStarvationDelay):r.maxStarvationDelay,m=r.abrBandWidthFactor,v=r.abrBandWidthUpFactor;if(0===f){var y=this.bitrateTestDelay;y&&(g=(l?Math.min(l,r.maxLoadingDelay):r.maxLoadingDelay)-y,u.logger.trace("bitrate test took "+Math.round(1e3*y)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*g)+" ms"),m=v=1)}return p=this._findBestLevel(s,l,h,i,e,f+g,m,v,n),Math.max(p,0)},enumerable:!0,configurable:!0}),n.prototype._findBestLevel=function(t,e,n,r,i,o,a,s,l){for(var c=i;c>=r;c--){var d=l[c];if(d){var h,f=d.details,p=f?f.totalduration/f.fragments.length:e,g=!!f&&f.live;h=c<=t?a*n:s*n;var m=l[c].realBitrate?Math.max(l[c].realBitrate,l[c].bitrate):l[c].bitrate,v=m*p/h;if(u.logger.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+c+"/"+Math.round(h)+"/"+m+"/"+p+"/"+o+"/"+v),h>m&&(!v||g&&!this.bitrateTestDelay||v<o))return c}}return-1},n}(o.default);e.default=d}).call(this,n(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/controller/audio-stream-controller.js":
/*!***************************************************!*\
	  !*** ./src/controller/audio-stream-controller.js ***!
	  \***************************************************/
/*! no static exports found */ /*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,n){"use strict";(function(t){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(/*! ../utils/binary-search */"./src/utils/binary-search.js"),o=n(/*! ../utils/buffer-helper */"./src/utils/buffer-helper.js"),a=n(/*! ../demux/demuxer */"./src/demux/demuxer.js"),s=n(/*! ../events */"./src/events.js"),u=n(/*! ./level-helper */"./src/controller/level-helper.js"),l=n(/*! ../utils/time-ranges */"./src/utils/time-ranges.js"),c=n(/*! ../errors */"./src/errors.js"),d=n(/*! ../utils/logger */"./src/utils/logger.js"),h=n(/*! ../utils/discontinuities */"./src/utils/discontinuities.js"),f=n(/*! ./fragment-tracker */"./src/controller/fragment-tracker.js"),p=n(/*! ../loader/fragment */"./src/loader/fragment.js"),g=n(/*! ./base-stream-controller */"./src/controller/base-stream-controller.js"),m=window.performance,v=function(e){function n(t,n){var r=e.call(this,t,s.default.MEDIA_ATTACHED,s.default.MEDIA_DETACHING,s.default.AUDIO_TRACKS_UPDATED,s.default.AUDIO_TRACK_SWITCHING,s.default.AUDIO_TRACK_LOADED,s.default.KEY_LOADED,s.default.FRAG_LOADED,s.default.FRAG_PARSING_INIT_SEGMENT,s.default.FRAG_PARSING_DATA,s.default.FRAG_PARSED,s.default.ERROR,s.default.BUFFER_RESET,s.default.BUFFER_CREATED,s.default.BUFFER_APPENDED,s.default.BUFFER_FLUSHED,s.default.INIT_PTS_FOUND)||this;return r.fragmentTracker=n,r.config=t.config,r.audioCodecSwap=!1,r._state=g.State.STOPPED,r.initPTS=[],r.waitingFragment=null,r.videoTrackCC=null,r}return r(n,e),n.prototype.onInitPtsFound=function(t){var e=t.id,n=t.frag.cc,r=t.initPTS;"main"===e&&(this.initPTS[n]=r,this.videoTrackCC=n,d.logger.log("InitPTS for cc: "+n+" found from video track: "+r),this.state===g.State.WAITING_INIT_PTS&&this.tick())},n.prototype.startLoad=function(t){if(this.tracks){var e=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),this.fragLoadError=0,e>0&&-1===t?(d.logger.log("audio:override startPosition with lastCurrentTime @"+e.toFixed(3)),this.state=g.State.IDLE):(this.lastCurrentTime=this.startPosition?this.startPosition:t,this.state=g.State.STARTING),this.nextLoadPosition=this.startPosition=this.lastCurrentTime,this.tick()}else this.startPosition=t,this.state=g.State.STOPPED},Object.defineProperty(n.prototype,"state",{get:function(){return this._state},set:function(t){if(this.state!==t){var e=this.state;this._state=t,d.logger.log("audio stream:"+e+"->"+t)}},enumerable:!0,configurable:!0}),n.prototype.doTick=function(){var e,n,r,a=this.hls,u=a.config;switch(this.state){case g.State.ERROR:case g.State.PAUSED:case g.State.BUFFER_FLUSHING:break;case g.State.STARTING:this.state=g.State.WAITING_TRACK,this.loadedmetadata=!1;break;case g.State.IDLE:var l=this.tracks;if(!l)break;if(!this.media&&(this.startFragRequested||!u.startFragPrefetch))break;if(this.loadedmetadata)e=this.media.currentTime;else if(void 0===(e=this.nextLoadPosition))break;var c=this.mediaBuffer?this.mediaBuffer:this.media,p=this.videoBuffer?this.videoBuffer:this.media,v=o.BufferHelper.bufferInfo(c,e,u.maxBufferHole),y=o.BufferHelper.bufferInfo(p,e,u.maxBufferHole),_=v.len,b=v.end,E=this.fragPrevious,A=Math.min(u.maxBufferLength,u.maxMaxBufferLength),T=Math.max(A,y.len),S=this.audioSwitch,w=this.trackId;if((_<T||S)&&w<l.length){if(void 0===(r=l[w].details)){this.state=g.State.WAITING_TRACK;break}if(!S&&this._streamEnded(v,r))return this.hls.trigger(s.default.BUFFER_EOS,{type:"audio"}),void(this.state=g.State.ENDED);var C=r.fragments,k=C.length,D=C[0].start,x=C[k-1].start+C[k-1].duration,L=void 0;if(S)if(r.live&&!r.PTSKnown)d.logger.log("switching audiotrack, live stream, unknown PTS,load first fragment"),b=0;else if(b=e,r.PTSKnown&&e<D){if(!(v.end>D||v.nextStart))return;d.logger.log("alt audio track ahead of main track, seek to start of alt audio track"),this.media.currentTime=D+.05}if(r.initSegment&&!r.initSegment.data)L=r.initSegment;else if(b<=D){if(L=C[0],null!==this.videoTrackCC&&L.cc!==this.videoTrackCC&&(L=h.findFragWithCC(C,this.videoTrackCC)),r.live&&L.loadIdx&&L.loadIdx===this.fragLoadIdx){var P=v.nextStart?v.nextStart:D;return d.logger.log("no alt audio available @currentTime:"+this.media.currentTime+", seeking @"+(P+.05)),void(this.media.currentTime=P+.05)}}else{var I=void 0,R=u.maxFragLookUpTolerance,O=E?C[E.sn-C[0].sn+1]:void 0,M=function(t){var e=Math.min(R,t.duration);return t.start+t.duration-e<=b?1:t.start-e>b&&t.start?-1:0};b<x?(b>x-R&&(R=0),I=O&&!M(O)?O:i.default.search(C,M)):I=C[k-1],I&&(L=I,D=I.start,E&&L.level===E.level&&L.sn===E.sn&&(L.sn<r.endSN?(L=C[L.sn+1-r.startSN],d.logger.log("SN just loaded, load next one: "+L.sn)):L=null))}L&&(L.encrypted?(d.logger.log("Loading key for "+L.sn+" of ["+r.startSN+" ,"+r.endSN+"],track "+w),this.state=g.State.KEY_LOADING,a.trigger(s.default.KEY_LOADING,{frag:L})):(d.logger.log("Loading "+L.sn+", cc: "+L.cc+" of ["+r.startSN+" ,"+r.endSN+"],track "+w+", currentTime:"+e+",bufferEnd:"+b.toFixed(3)),this.fragCurrent=L,(S||this.fragmentTracker.getState(L)===f.FragmentState.NOT_LOADED)&&(this.startFragRequested=!0,t.isFinite(L.sn)&&(this.nextLoadPosition=L.start+L.duration),a.trigger(s.default.FRAG_LOADING,{frag:L}),this.state=g.State.FRAG_LOADING)))}break;case g.State.WAITING_TRACK:(n=this.tracks[this.trackId])&&n.details&&(this.state=g.State.IDLE);break;case g.State.FRAG_LOADING_WAITING_RETRY:var N=m.now(),F=this.retryDate,j=(c=this.media)&&c.seeking;(!F||N>=F||j)&&(d.logger.log("audioStreamController: retryDate reached, switch back to IDLE state"),this.state=g.State.IDLE);break;case g.State.WAITING_INIT_PTS:var U=this.videoTrackCC;if(void 0===this.initPTS[U])break;var B=this.waitingFragment;if(B){var H=B.frag.cc;U!==H?(n=this.tracks[this.trackId]).details&&n.details.live&&(d.logger.warn("Waiting fragment CC ("+H+") does not match video track CC ("+U+")"),this.waitingFragment=null,this.state=g.State.IDLE):(this.state=g.State.FRAG_LOADING,this.onFragLoaded(this.waitingFragment),this.waitingFragment=null)}else this.state=g.State.IDLE;break;case g.State.STOPPED:case g.State.FRAG_LOADING:case g.State.PARSING:case g.State.PARSED:case g.State.ENDED:}},n.prototype.onMediaAttached=function(t){var e=this.media=this.mediaBuffer=t.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),e.addEventListener("seeking",this.onvseeking),e.addEventListener("ended",this.onvended);var n=this.config;this.tracks&&n.autoStartLoad&&this.startLoad(n.startPosition)},n.prototype.onMediaDetaching=function(){var t=this.media;t&&t.ended&&(d.logger.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),t&&(t.removeEventListener("seeking",this.onvseeking),t.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1,this.stopLoad()},n.prototype.onAudioTracksUpdated=function(t){d.logger.log("audio tracks updated"),this.tracks=t.audioTracks},n.prototype.onAudioTrackSwitching=function(t){var e=!!t.url;this.trackId=t.id,this.fragCurrent=null,this.state=g.State.PAUSED,this.waitingFragment=null,e?this.setInterval(100):this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),e&&(this.audioSwitch=!0,this.state=g.State.IDLE),this.tick()},n.prototype.onAudioTrackLoaded=function(e){var n=e.details,r=e.id,i=this.tracks[r],o=n.totalduration,a=0;if(d.logger.log("track "+r+" loaded ["+n.startSN+","+n.endSN+"],duration:"+o),n.live){var s=i.details;s&&n.fragments.length>0?(u.mergeDetails(s,n),a=n.fragments[0].start,n.PTSKnown?d.logger.log("live audio playlist sliding:"+a.toFixed(3)):d.logger.log("live audio playlist - outdated PTS, unknown sliding")):(n.PTSKnown=!1,d.logger.log("live audio playlist - first load, unknown sliding"))}else n.PTSKnown=!1;if(i.details=n,!this.startFragRequested){if(-1===this.startPosition){var l=n.startTimeOffset;t.isFinite(l)?(d.logger.log("start time offset found in playlist, adjust startPosition to "+l),this.startPosition=l):this.startPosition=0}this.nextLoadPosition=this.startPosition}this.state===g.State.WAITING_TRACK&&(this.state=g.State.IDLE),this.tick()},n.prototype.onKeyLoaded=function(){this.state===g.State.KEY_LOADING&&(this.state=g.State.IDLE,this.tick())},n.prototype.onFragLoaded=function(t){var e=this.fragCurrent,n=t.frag;if(this.state===g.State.FRAG_LOADING&&e&&"audio"===n.type&&n.level===e.level&&n.sn===e.sn){var r=this.tracks[this.trackId],i=r.details,o=i.totalduration,u=e.level,l=e.sn,c=e.cc,h=this.config.defaultAudioCodec||r.audioCodec||"mp4a.40.2",f=this.stats=t.stats;if("initSegment"===l)this.state=g.State.IDLE,f.tparsed=f.tbuffered=m.now(),i.initSegment.data=t.payload,this.hls.trigger(s.default.FRAG_BUFFERED,{stats:f,frag:e,id:"audio"}),this.tick();else{this.state=g.State.PARSING,this.appended=!1,this.demuxer||(this.demuxer=new a.default(this.hls,"audio"));var p=this.initPTS[c],v=i.initSegment?i.initSegment.data:[];i.initSegment||void 0!==p?(this.pendingBuffering=!0,d.logger.log("Demuxing "+l+" of ["+i.startSN+" ,"+i.endSN+"],track "+u),this.demuxer.push(t.payload,v,h,null,e,o,!1,p)):(d.logger.log("unknown video PTS for continuity counter "+c+", waiting for video PTS before demuxing audio frag "+l+" of ["+i.startSN+" ,"+i.endSN+"],track "+u),this.waitingFragment=t,this.state=g.State.WAITING_INIT_PTS)}}this.fragLoadError=0},n.prototype.onFragParsingInitSegment=function(t){var e=this.fragCurrent,n=t.frag;if(e&&"audio"===t.id&&n.sn===e.sn&&n.level===e.level&&this.state===g.State.PARSING){var r=t.tracks,i=void 0;if(r.video&&delete r.video,i=r.audio){i.levelCodec=i.codec,i.id=t.id,this.hls.trigger(s.default.BUFFER_CODECS,r),d.logger.log("audio track:audio,container:"+i.container+",codecs[level/parsed]=["+i.levelCodec+"/"+i.codec+"]");var o=i.initSegment;if(o){var a={type:"audio",data:o,parent:"audio",content:"initSegment"};this.audioSwitch?this.pendingData=[a]:(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(s.default.BUFFER_APPENDING,a))}this.tick()}}},n.prototype.onFragParsingData=function(e){var n=this,r=this.fragCurrent,i=e.frag;if(r&&"audio"===e.id&&"audio"===e.type&&i.sn===r.sn&&i.level===r.level&&this.state===g.State.PARSING){var o=this.trackId,a=this.tracks[o],l=this.hls;t.isFinite(e.endPTS)||(e.endPTS=e.startPTS+r.duration,e.endDTS=e.startDTS+r.duration),r.addElementaryStream(p.default.ElementaryStreamTypes.AUDIO),d.logger.log("parsed "+e.type+",PTS:["+e.startPTS.toFixed(3)+","+e.endPTS.toFixed(3)+"],DTS:["+e.startDTS.toFixed(3)+"/"+e.endDTS.toFixed(3)+"],nb:"+e.nb),u.updateFragPTSDTS(a.details,r,e.startPTS,e.endPTS);var h=this.audioSwitch,f=this.media,m=!1;if(h&&f)if(f.readyState){var v=f.currentTime;d.logger.log("switching audio track : currentTime:"+v),v>=e.startPTS&&(d.logger.log("switching audio track : flushing all audio"),this.state=g.State.BUFFER_FLUSHING,l.trigger(s.default.BUFFER_FLUSHING,{startOffset:0,endOffset:t.POSITIVE_INFINITY,type:"audio"}),m=!0,this.audioSwitch=!1,l.trigger(s.default.AUDIO_TRACK_SWITCHED,{id:o}))}else this.audioSwitch=!1,l.trigger(s.default.AUDIO_TRACK_SWITCHED,{id:o});var y=this.pendingData;if(!y)return d.logger.warn("Apparently attempt to enqueue media payload without codec initialization data upfront"),void l.trigger(s.default.ERROR,{type:c.ErrorTypes.MEDIA_ERROR,details:null,fatal:!0});this.audioSwitch||([e.data1,e.data2].forEach((function(t){t&&t.length&&y.push({type:e.type,data:t,parent:"audio",content:"data"})})),!m&&y.length&&(y.forEach((function(t){n.state===g.State.PARSING&&(n.pendingBuffering=!0,n.hls.trigger(s.default.BUFFER_APPENDING,t))})),this.pendingData=[],this.appended=!0)),this.tick()}},n.prototype.onFragParsed=function(t){var e=this.fragCurrent,n=t.frag;e&&"audio"===t.id&&n.sn===e.sn&&n.level===e.level&&this.state===g.State.PARSING&&(this.stats.tparsed=m.now(),this.state=g.State.PARSED,this._checkAppendedParsed())},n.prototype.onBufferReset=function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1},n.prototype.onBufferCreated=function(t){var e=t.tracks.audio;e&&(this.mediaBuffer=e.buffer,this.loadedmetadata=!0),t.tracks.video&&(this.videoBuffer=t.tracks.video.buffer)},n.prototype.onBufferAppended=function(t){if("audio"===t.parent){var e=this.state;e!==g.State.PARSING&&e!==g.State.PARSED||(this.pendingBuffering=t.pending>0,this._checkAppendedParsed())}},n.prototype._checkAppendedParsed=function(){if(!(this.state!==g.State.PARSED||this.appended&&this.pendingBuffering)){var t=this.fragCurrent,e=this.stats,n=this.hls;if(t){this.fragPrevious=t,e.tbuffered=m.now(),n.trigger(s.default.FRAG_BUFFERED,{stats:e,frag:t,id:"audio"});var r=this.mediaBuffer?this.mediaBuffer:this.media;d.logger.log("audio buffered : "+l.default.toString(r.buffered)),this.audioSwitch&&this.appended&&(this.audioSwitch=!1,n.trigger(s.default.AUDIO_TRACK_SWITCHED,{id:this.trackId})),this.state=g.State.IDLE}this.tick()}},n.prototype.onError=function(e){var n=e.frag;if(!n||"audio"===n.type)switch(e.details){case c.ErrorDetails.FRAG_LOAD_ERROR:case c.ErrorDetails.FRAG_LOAD_TIMEOUT:var r=e.frag;if(r&&"audio"!==r.type)break;if(!e.fatal){var i=this.fragLoadError;if(i?i++:i=1,i<=(u=this.config).fragLoadingMaxRetry){this.fragLoadError=i;var a=Math.min(Math.pow(2,i-1)*u.fragLoadingRetryDelay,u.fragLoadingMaxRetryTimeout);d.logger.warn("AudioStreamController: frag loading failed, retry in "+a+" ms"),this.retryDate=m.now()+a,this.state=g.State.FRAG_LOADING_WAITING_RETRY}else d.logger.error("AudioStreamController: "+e.details+" reaches max retry, redispatch as fatal ..."),e.fatal=!0,this.state=g.State.ERROR}break;case c.ErrorDetails.AUDIO_TRACK_LOAD_ERROR:case c.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:case c.ErrorDetails.KEY_LOAD_ERROR:case c.ErrorDetails.KEY_LOAD_TIMEOUT:this.state!==g.State.ERROR&&(this.state=e.fatal?g.State.ERROR:g.State.IDLE,d.logger.warn("AudioStreamController: "+e.details+" while loading frag, now switching to "+this.state+" state ..."));break;case c.ErrorDetails.BUFFER_FULL_ERROR:if("audio"===e.parent&&(this.state===g.State.PARSING||this.state===g.State.PARSED)){var u,l=this.mediaBuffer,h=this.media.currentTime;l&&o.BufferHelper.isBuffered(l,h)&&o.BufferHelper.isBuffered(l,h+.5)?((u=this.config).maxMaxBufferLength>=u.maxBufferLength&&(u.maxMaxBufferLength/=2,d.logger.warn("AudioStreamController: reduce max buffer length to "+u.maxMaxBufferLength+"s")),this.state=g.State.IDLE):(d.logger.warn("AudioStreamController: buffer full error also media.currentTime is not buffered, flush audio buffer"),this.fragCurrent=null,this.state=g.State.BUFFER_FLUSHING,this.hls.trigger(s.default.BUFFER_FLUSHING,{startOffset:0,endOffset:t.POSITIVE_INFINITY,type:"audio"}))}}},n.prototype.onBufferFlushed=function(){var t=this,e=this.pendingData;e&&e.length?(d.logger.log("AudioStreamController: appending pending audio data after buffer flushed"),e.forEach((function(e){t.hls.trigger(s.default.BUFFER_APPENDING,e)})),this.appended=!0,this.pendingData=[],this.state=g.State.PARSED):(this.state=g.State.IDLE,this.fragPrevious=null,this.tick())},n}(g.default);e.default=v}).call(this,n(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/controller/audio-track-controller.js":
/*!**************************************************!*\
	  !*** ./src/controller/audio-track-controller.js ***!
	  \**************************************************/
/*! no static exports found */ /*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(/*! ../events */"./src/events.js"),o=n(/*! ../task-loop */"./src/task-loop.js"),a=n(/*! ../utils/logger */"./src/utils/logger.js"),s=n(/*! ../errors */"./src/errors.js"),u=function(t){function e(e){var n=t.call(this,e,i.default.MANIFEST_LOADING,i.default.MANIFEST_PARSED,i.default.AUDIO_TRACK_LOADED,i.default.AUDIO_TRACK_SWITCHED,i.default.LEVEL_LOADED,i.default.ERROR)||this;return n._trackId=-1,n._selectDefaultTrack=!0,n.tracks=[],n.trackIdBlacklist=Object.create(null),n.audioGroupId=null,n}return r(e,t),e.prototype.onManifestLoading=function(){this.tracks=[],this._trackId=-1,this._selectDefaultTrack=!0},e.prototype.onManifestParsed=function(t){var e=this.tracks=t.audioTracks||[];this.hls.trigger(i.default.AUDIO_TRACKS_UPDATED,{audioTracks:e})},e.prototype.onAudioTrackLoaded=function(t){if(t.id>=this.tracks.length)a.logger.warn("Invalid audio track id:",t.id);else{if(a.logger.log("audioTrack "+t.id+" loaded"),this.tracks[t.id].details=t.details,t.details.live&&!this.hasInterval()){var e=1e3*t.details.targetduration;this.setInterval(e)}!t.details.live&&this.hasInterval()&&this.clearInterval()}},e.prototype.onAudioTrackSwitched=function(t){var e=this.tracks[t.id].groupId;e&&this.audioGroupId!==e&&(this.audioGroupId=e)},e.prototype.onLevelLoaded=function(t){var e=this.hls.levels[t.level];if(e.audioGroupIds){var n=e.audioGroupIds[e.urlId];this.audioGroupId!==n&&(this.audioGroupId=n,this._selectInitialAudioTrack())}},e.prototype.onError=function(t){t.type===s.ErrorTypes.NETWORK_ERROR&&(t.fatal&&this.clearInterval(),t.details===s.ErrorDetails.AUDIO_TRACK_LOAD_ERROR&&(a.logger.warn("Network failure on audio-track id:",t.context.id),this._handleLoadError()))},Object.defineProperty(e.prototype,"audioTracks",{get:function(){return this.tracks},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"audioTrack",{get:function(){return this._trackId},set:function(t){this._setAudioTrack(t),this._selectDefaultTrack=!1},enumerable:!0,configurable:!0}),e.prototype._setAudioTrack=function(t){if(this._trackId===t&&this.tracks[this._trackId].details)a.logger.debug("Same id as current audio-track passed, and track details available -> no-op");else if(t<0||t>=this.tracks.length)a.logger.warn("Invalid id passed to audio-track controller");else{var e=this.tracks[t];a.logger.log("Now switching to audio-track index "+t),this.clearInterval(),this._trackId=t;var n=e.url,r=e.type,o=e.id;this.hls.trigger(i.default.AUDIO_TRACK_SWITCHING,{id:o,type:r,url:n}),this._loadTrackDetailsIfNeeded(e)}},e.prototype.doTick=function(){this._updateTrack(this._trackId)},e.prototype._selectInitialAudioTrack=function(){var t=this,e=this.tracks;if(e.length){var n=this.tracks[this._trackId],r=null;if(n&&(r=n.name),this._selectDefaultTrack){var o=e.filter((function(t){return t.default}));o.length?e=o:a.logger.warn("No default audio tracks defined")}var u=!1,l=function(){e.forEach((function(e){u||t.audioGroupId&&e.groupId!==t.audioGroupId||r&&r!==e.name||(t._setAudioTrack(e.id),u=!0)}))};l(),u||(r=null,l()),u||(a.logger.error("No track found for running audio group-ID: "+this.audioGroupId),this.hls.trigger(i.default.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,fatal:!0}))}},e.prototype._needsTrackLoading=function(t){var e=t.details,n=t.url;return!(e&&!e.live||!n)},e.prototype._loadTrackDetailsIfNeeded=function(t){if(this._needsTrackLoading(t)){var e=t.url,n=t.id;a.logger.log("loading audio-track playlist for id: "+n),this.hls.trigger(i.default.AUDIO_TRACK_LOADING,{url:e,id:n})}},e.prototype._updateTrack=function(t){if(!(t<0||t>=this.tracks.length)){this.clearInterval(),this._trackId=t,a.logger.log("trying to update audio-track "+t);var e=this.tracks[t];this._loadTrackDetailsIfNeeded(e)}},e.prototype._handleLoadError=function(){this.trackIdBlacklist[this._trackId]=!0;var t=this._trackId,e=this.tracks[t],n=e.name,r=e.language,i=e.groupId;a.logger.warn("Loading failed on audio track id: "+t+", group-id: "+i+', name/language: "'+n+'" / "'+r+'"');for(var o=t,s=0;s<this.tracks.length;s++)if(!this.trackIdBlacklist[s]&&this.tracks[s].name===n){o=s;break}return o===t?void a.logger.warn('No fallback audio-track found for name/language: "'+n+'" / "'+r+'"'):(a.logger.log("Attempting audio-track fallback id:",o,"group-id:",this.tracks[o].groupId),void this._setAudioTrack(o))},e}(o.default);e.default=u},"./src/controller/base-stream-controller.js":
/*!**************************************************!*\
	  !*** ./src/controller/base-stream-controller.js ***!
	  \**************************************************/
/*! no static exports found */ /*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,n){"use strict";(function(t){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(/*! ../task-loop */"./src/task-loop.js"),o=n(/*! ./fragment-tracker */"./src/controller/fragment-tracker.js"),a=n(/*! ../utils/buffer-helper */"./src/utils/buffer-helper.js"),s=n(/*! ../utils/logger */"./src/utils/logger.js");e.State={STOPPED:"STOPPED",STARTING:"STARTING",IDLE:"IDLE",PAUSED:"PAUSED",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",BUFFER_FLUSHING:"BUFFER_FLUSHING",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"};var u=function(n){function i(){return null!==n&&n.apply(this,arguments)||this}return r(i,n),i.prototype.doTick=function(){},i.prototype.startLoad=function(){},i.prototype.stopLoad=function(){var t=this.fragCurrent;t&&(t.loader&&t.loader.abort(),this.fragmentTracker.removeFragment(t)),this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=e.State.STOPPED},i.prototype._streamEnded=function(t,e){var n=this.fragCurrent,r=this.fragmentTracker;if(!e.live&&n&&!n.backtracked&&n.sn===e.endSN&&!t.nextStart){var i=r.getState(n);return i===o.FragmentState.PARTIAL||i===o.FragmentState.OK}return!1},i.prototype.onMediaSeeking=function(){var n=this,r=n.config,i=n.media,o=n.mediaBuffer,u=n.state,l=i?i.currentTime:null,c=a.BufferHelper.bufferInfo(o||i,l,this.config.maxBufferHole);if(t.isFinite(l)&&s.logger.log("media seeking to "+l.toFixed(3)),u===e.State.FRAG_LOADING){var d=this.fragCurrent;if(0===c.len&&d){var h=r.maxFragLookUpTolerance,f=d.start-h,p=d.start+d.duration+h;l<f||l>p?(d.loader&&(s.logger.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),d.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.state=e.State.IDLE):s.logger.log("seeking outside of buffer but within currently loaded fragment range")}}else u===e.State.ENDED&&(0===c.len&&(this.fragPrevious=null,this.fragCurrent=null),this.state=e.State.IDLE);i&&(this.lastCurrentTime=l),this.loadedmetadata||(this.nextLoadPosition=this.startPosition=l),this.tick()},i.prototype.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},i.prototype.onHandlerDestroying=function(){this.stopLoad(),n.prototype.onHandlerDestroying.call(this)},i.prototype.onHandlerDestroyed=function(){this.state=e.State.STOPPED,this.fragmentTracker=null},i}(i.default);e.default=u}).call(this,n(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/controller/buffer-controller.js":
/*!*********************************************!*\
	  !*** ./src/controller/buffer-controller.js ***!
	  \*********************************************/
/*! no static exports found */ /*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,n){"use strict";(function(t){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(/*! ../events */"./src/events.js"),o=n(/*! ../event-handler */"./src/event-handler.js"),a=n(/*! ../utils/logger */"./src/utils/logger.js"),s=n(/*! ../errors */"./src/errors.js"),u=n(/*! ../utils/mediasource-helper */"./src/utils/mediasource-helper.js").getMediaSource(),l=function(e){function n(t){var n=e.call(this,t,i.default.MEDIA_ATTACHING,i.default.MEDIA_DETACHING,i.default.MANIFEST_PARSED,i.default.BUFFER_RESET,i.default.BUFFER_APPENDING,i.default.BUFFER_CODECS,i.default.BUFFER_EOS,i.default.BUFFER_FLUSHING,i.default.LEVEL_PTS_UPDATED,i.default.LEVEL_UPDATED)||this;return n._msDuration=null,n._levelDuration=null,n._levelTargetDuration=10,n._live=null,n._objectUrl=null,n.bufferCodecEventsExpected=0,n.onsbue=n.onSBUpdateEnd.bind(n),n.onsbe=n.onSBUpdateError.bind(n),n.pendingTracks={},n.tracks={},n}return r(n,e),n.prototype.destroy=function(){o.default.prototype.destroy.call(this)},n.prototype.onLevelPtsUpdated=function(t){var e=t.type,n=this.tracks.audio;if("audio"===e&&n&&"audio/mpeg"===n.container){var r=this.sourceBuffer.audio;if(Math.abs(r.timestampOffset-t.start)>.1){var i=r.updating;try{r.abort()}catch(t){a.logger.warn("can not abort audio buffer: "+t)}i?this.audioTimestampOffset=t.start:(a.logger.warn("change mpeg audio timestamp offset from "+r.timestampOffset+" to "+t.start),r.timestampOffset=t.start)}}},n.prototype.onManifestParsed=function(t){this.bufferCodecEventsExpected=t.altAudio?2:1,a.logger.log(this.bufferCodecEventsExpected+" bufferCodec event(s) expected")},n.prototype.onMediaAttaching=function(t){var e=this.media=t.media;if(e){var n=this.mediaSource=new u;this.onmso=this.onMediaSourceOpen.bind(this),this.onmse=this.onMediaSourceEnded.bind(this),this.onmsc=this.onMediaSourceClose.bind(this),n.addEventListener("sourceopen",this.onmso),n.addEventListener("sourceended",this.onmse),n.addEventListener("sourceclose",this.onmsc),e.src=window.URL.createObjectURL(n),this._objectUrl=e.src}},n.prototype.onMediaDetaching=function(){a.logger.log("media source detaching");var t=this.mediaSource;if(t){if("open"===t.readyState)try{t.endOfStream()}catch(t){a.logger.warn("onMediaDetaching:"+t.message+" while calling endOfStream")}t.removeEventListener("sourceopen",this.onmso),t.removeEventListener("sourceended",this.onmse),t.removeEventListener("sourceclose",this.onmsc),this.media&&(window.URL.revokeObjectURL(this._objectUrl),this.media.src===this._objectUrl?(this.media.removeAttribute("src"),this.media.load()):a.logger.warn("media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.pendingTracks={},this.tracks={},this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0}this.onmso=this.onmse=this.onmsc=null,this.hls.trigger(i.default.MEDIA_DETACHED)},n.prototype.onMediaSourceOpen=function(){a.logger.log("media source opened"),this.hls.trigger(i.default.MEDIA_ATTACHED,{media:this.media});var t=this.mediaSource;t&&t.removeEventListener("sourceopen",this.onmso),this.checkPendingTracks()},n.prototype.checkPendingTracks=function(){var t=this.bufferCodecEventsExpected,e=this.pendingTracks,n=Object.keys(e).length;(n&&!t||2===n)&&(this.createSourceBuffers(e),this.pendingTracks={},this.doAppending())},n.prototype.onMediaSourceClose=function(){a.logger.log("media source closed")},n.prototype.onMediaSourceEnded=function(){a.logger.log("media source ended")},n.prototype.onSBUpdateEnd=function(){if(this.audioTimestampOffset){var t=this.sourceBuffer.audio;a.logger.warn("change mpeg audio timestamp offset from "+t.timestampOffset+" to "+this.audioTimestampOffset),t.timestampOffset=this.audioTimestampOffset,delete this.audioTimestampOffset}this._needsFlush&&this.doFlush(),this._needsEos&&this.checkEos(),this.appending=!1;var e=this.parent,n=this.segments.reduce((function(t,n){return n.parent===e?t+1:t}),0),r={},o=this.sourceBuffer;for(var s in o)r[s]=o[s].buffered;this.hls.trigger(i.default.BUFFER_APPENDED,{parent:e,pending:n,timeRanges:r}),this._needsFlush||this.doAppending(),this.updateMediaElementDuration(),0===n&&this.flushLiveBackBuffer()},n.prototype.onSBUpdateError=function(t){a.logger.error("sourceBuffer error:",t),this.hls.trigger(i.default.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1})},n.prototype.onBufferReset=function(){var t=this.sourceBuffer;for(var e in t){var n=t[e];try{this.mediaSource.removeSourceBuffer(n),n.removeEventListener("updateend",this.onsbue),n.removeEventListener("error",this.onsbe)}catch(t){}}this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0},n.prototype.onBufferCodecs=function(t){var e=this;if(!Object.keys(this.sourceBuffer).length){Object.keys(t).forEach((function(n){e.pendingTracks[n]=t[n]}));var n=this.mediaSource;this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),n&&"open"===n.readyState&&this.checkPendingTracks()}},n.prototype.createSourceBuffers=function(t){var e=this.sourceBuffer,n=this.mediaSource;for(var r in t)if(!e[r]){var o=t[r],u=o.levelCodec||o.codec,l=o.container+";codecs="+u;a.logger.log("creating sourceBuffer("+l+")");try{var c=e[r]=n.addSourceBuffer(l);c.addEventListener("updateend",this.onsbue),c.addEventListener("error",this.onsbe),this.tracks[r]={codec:u,container:o.container},o.buffer=c}catch(t){a.logger.error("error while trying to add sourceBuffer:"+t.message),this.hls.trigger(i.default.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.BUFFER_ADD_CODEC_ERROR,fatal:!1,err:t,mimeType:l})}}this.hls.trigger(i.default.BUFFER_CREATED,{tracks:t})},n.prototype.onBufferAppending=function(t){this._needsFlush||(this.segments?this.segments.push(t):this.segments=[t],this.doAppending())},n.prototype.onBufferAppendFail=function(t){a.logger.error("sourceBuffer error:",t.event),this.hls.trigger(i.default.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1})},n.prototype.onBufferEos=function(t){var e=this.sourceBuffer,n=t.type;for(var r in e)n&&r!==n||e[r].ended||(e[r].ended=!0,a.logger.log(r+" sourceBuffer now EOS"));this.checkEos()},n.prototype.checkEos=function(){var t=this.sourceBuffer,e=this.mediaSource;if(e&&"open"===e.readyState){for(var n in t){var r=t[n];if(!r.ended)return;if(r.updating)return void(this._needsEos=!0)}a.logger.log("all media data are available, signal endOfStream() to MediaSource and stop loading fragment");try{e.endOfStream()}catch(t){a.logger.warn("exception while calling mediaSource.endOfStream()")}this._needsEos=!1}else this._needsEos=!1},n.prototype.onBufferFlushing=function(t){this.flushRange.push({start:t.startOffset,end:t.endOffset,type:t.type}),this.flushBufferCounter=0,this.doFlush()},n.prototype.flushLiveBackBuffer=function(){if(this._live){var t=this.hls.config.liveBackBufferLength;if(isFinite(t)&&!(t<0))for(var e=this.media.currentTime,n=this.sourceBuffer,r=Object.keys(n),i=e-Math.max(t,this._levelTargetDuration),o=r.length-1;o>=0;o--){var a=r[o],s=n[a].buffered;s.length>0&&i>s.start(0)&&this.removeBufferRange(a,n[a],0,i)}}},n.prototype.onLevelUpdated=function(t){var e=t.details;e.fragments.length>0&&(this._levelDuration=e.totalduration+e.fragments[0].start,this._levelTargetDuration=e.averagetargetduration||e.targetduration||10,this._live=e.live,this.updateMediaElementDuration())},n.prototype.updateMediaElementDuration=function(){var e,n=this.hls.config;if(null!==this._levelDuration&&this.media&&this.mediaSource&&this.sourceBuffer&&0!==this.media.readyState&&"open"===this.mediaSource.readyState){for(var r in this.sourceBuffer)if(!0===this.sourceBuffer[r].updating)return;e=this.media.duration,null===this._msDuration&&(this._msDuration=this.mediaSource.duration),!0===this._live&&!0===n.liveDurationInfinity?(a.logger.log("Media Source duration is set to Infinity"),this._msDuration=this.mediaSource.duration=1/0):(this._levelDuration>this._msDuration&&this._levelDuration>e||!t.isFinite(e))&&(a.logger.log("Updating Media Source duration to "+this._levelDuration.toFixed(3)),this._msDuration=this.mediaSource.duration=this._levelDuration)}},n.prototype.doFlush=function(){for(;this.flushRange.length;){var t=this.flushRange[0];if(!this.flushBuffer(t.start,t.end,t.type))return void(this._needsFlush=!0);this.flushRange.shift(),this.flushBufferCounter=0}if(0===this.flushRange.length){this._needsFlush=!1;var e=0,n=this.sourceBuffer;try{for(var r in n)e+=n[r].buffered.length}catch(t){a.logger.error("error while accessing sourceBuffer.buffered")}this.appended=e,this.hls.trigger(i.default.BUFFER_FLUSHED)}},n.prototype.doAppending=function(){var t=this,e=t.hls,n=t.segments,r=t.sourceBuffer;if(Object.keys(r).length){if(this.media.error)return this.segments=[],void a.logger.error("trying to append although a media error occured, flush segment and abort");if(this.appending)return;if(n&&n.length){var o=n.shift();try{var u=r[o.type];u?u.updating?n.unshift(o):(u.ended=!1,this.parent=o.parent,u.appendBuffer(o.data),this.appendError=0,this.appended++,this.appending=!0):this.onSBUpdateEnd()}catch(t){a.logger.error("error while trying to append buffer:"+t.message),n.unshift(o);var l={type:s.ErrorTypes.MEDIA_ERROR,parent:o.parent};22!==t.code?(this.appendError?this.appendError++:this.appendError=1,l.details=s.ErrorDetails.BUFFER_APPEND_ERROR,this.appendError>e.config.appendErrorMaxRetry?(a.logger.log("fail "+e.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),this.segments=[],l.fatal=!0,e.trigger(i.default.ERROR,l)):(l.fatal=!1,e.trigger(i.default.ERROR,l))):(this.segments=[],l.details=s.ErrorDetails.BUFFER_FULL_ERROR,l.fatal=!1,e.trigger(i.default.ERROR,l))}}}},n.prototype.flushBuffer=function(t,e,n){var r,i=this.sourceBuffer;if(Object.keys(i).length){if(a.logger.log("flushBuffer,pos/start/end: "+this.media.currentTime.toFixed(3)+"/"+t+"/"+e),this.flushBufferCounter<this.appended){for(var o in i)if(!n||o===n){if((r=i[o]).ended=!1,r.updating)return a.logger.warn("cannot flush, sb updating in progress"),!1;if(this.removeBufferRange(o,r,t,e))return this.flushBufferCounter++,!1}}else a.logger.warn("abort flushing too many retries");a.logger.log("buffer flushed")}return!0},n.prototype.removeBufferRange=function(t,e,n,r){try{for(var i=0;i<e.buffered.length;i++){var o=e.buffered.start(i),s=e.buffered.end(i),u=Math.max(o,n),l=Math.min(s,r);if(Math.min(l,s)-u>.5)return a.logger.log("sb remove "+t+" ["+u+","+l+"], of ["+o+","+s+"], pos:"+this.media.currentTime),e.remove(u,l),!0}}catch(t){a.logger.warn("removeBufferRange failed",t)}return!1},n}(o.default);e.default=l}).call(this,n(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/controller/cap-level-controller.js":
/*!************************************************!*\
	  !*** ./src/controller/cap-level-controller.js ***!
	  \************************************************/
/*! no static exports found */ /*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,n){"use strict";(function(t){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(/*! ../events */"./src/events.js"),o=function(e){function n(n){var r=e.call(this,n,i.default.FPS_DROP_LEVEL_CAPPING,i.default.MEDIA_ATTACHING,i.default.MANIFEST_PARSED,i.default.BUFFER_CODECS,i.default.MEDIA_DETACHING)||this;return r.autoLevelCapping=t.POSITIVE_INFINITY,r.firstLevel=null,r.levels=[],r.media=null,r.restrictedLevels=[],r.timer=null,r}return r(n,e),n.prototype.destroy=function(){this.hls.config.capLevelToPlayerSize&&(this.media=null,this._stopCapping())},n.prototype.onFpsDropLevelCapping=function(t){n.isLevelAllowed(t.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(t.droppedLevel)},n.prototype.onMediaAttaching=function(t){this.media=t.media instanceof window.HTMLVideoElement?t.media:null},n.prototype.onManifestParsed=function(t){var e=this.hls;this.restrictedLevels=[],this.levels=t.levels,this.firstLevel=t.firstLevel,e.config.capLevelToPlayerSize&&t.video&&this._startCapping()},n.prototype.onBufferCodecs=function(t){this.hls.config.capLevelToPlayerSize&&t.video&&this._startCapping()},n.prototype.onLevelsUpdated=function(t){this.levels=t.levels},n.prototype.onMediaDetaching=function(){this._stopCapping()},n.prototype.detectPlayerSize=function(){if(this.media){var t=this.levels?this.levels.length:0;if(t){var e=this.hls;e.autoLevelCapping=this.getMaxLevel(t-1),e.autoLevelCapping>this.autoLevelCapping&&e.streamController.nextLevelSwitch(),this.autoLevelCapping=e.autoLevelCapping}}},n.prototype.getMaxLevel=function(t){var e=this;if(!this.levels)return-1;var r=this.levels.filter((function(r,i){return n.isLevelAllowed(i,e.restrictedLevels)&&i<=t}));return n.getMaxLevelByMediaSize(r,this.mediaWidth,this.mediaHeight)},n.prototype._startCapping=function(){this.timer||(this.autoLevelCapping=t.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),clearInterval(this.timer),this.timer=setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},n.prototype._stopCapping=function(){this.restrictedLevels=[],this.firstLevel=null,this.autoLevelCapping=t.POSITIVE_INFINITY,this.timer&&(this.timer=clearInterval(this.timer),this.timer=null)},Object.defineProperty(n.prototype,"mediaWidth",{get:function(){var t,e=this.media;return e&&(t=e.width||e.clientWidth||e.offsetWidth,t*=n.contentScaleFactor),t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"mediaHeight",{get:function(){var t,e=this.media;return e&&(t=e.height||e.clientHeight||e.offsetHeight,t*=n.contentScaleFactor),t},enumerable:!0,configurable:!0}),Object.defineProperty(n,"contentScaleFactor",{get:function(){var t=1;try{t=window.devicePixelRatio}catch(t){}return t},enumerable:!0,configurable:!0}),n.isLevelAllowed=function(t,e){return void 0===e&&(e=[]),-1===e.indexOf(t)},n.getMaxLevelByMediaSize=function(t,e,n){if(!t||t&&!t.length)return-1;for(var r=function(t,e){return!e||t.width!==e.width||t.height!==e.height},i=t.length-1,o=0;o<t.length;o+=1){var a=t[o];if((a.width>=e||a.height>=n)&&r(a,t[o+1])){i=o;break}}return i},n}(n(/*! ../event-handler */"./src/event-handler.js").default);e.default=o}).call(this,n(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/controller/eme-controller.js":
/*!******************************************!*\
	  !*** ./src/controller/eme-controller.js ***!
	  \******************************************/
/*! no static exports found */ /*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(/*! ../event-handler */"./src/event-handler.js"),o=n(/*! ../events */"./src/events.js"),a=n(/*! ../errors */"./src/errors.js"),s=n(/*! ../utils/logger */"./src/utils/logger.js"),u=window.XMLHttpRequest,l="com.widevine.alpha",c="com.microsoft.playready",d=function(t){function e(e){var n=t.call(this,e,o.default.MEDIA_ATTACHED,o.default.MANIFEST_PARSED)||this;return n._widevineLicenseUrl=e.config.widevineLicenseUrl,n._licenseXhrSetup=e.config.licenseXhrSetup,n._emeEnabled=e.config.emeEnabled,n._requestMediaKeySystemAccess=e.config.requestMediaKeySystemAccessFunc,n._mediaKeysList=[],n._media=null,n._hasSetMediaKeys=!1,n._isMediaEncrypted=!1,n._requestLicenseFailureCount=0,n}return r(e,t),e.prototype.getLicenseServerUrl=function(t){var e;switch(t){case l:e=this._widevineLicenseUrl;break;default:e=null}return e||(s.logger.error('No license server URL configured for key-system "'+t+'"'),this.hls.trigger(o.default.ERROR,{type:a.ErrorTypes.KEY_SYSTEM_ERROR,details:a.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})),e},e.prototype._attemptKeySystemAccess=function(t,e,n){var r=this,i=function(t,e,n){switch(t){case l:return function(t,e,n){var r={videoCapabilities:[]};return e.forEach((function(t){r.videoCapabilities.push({contentType:'video/mp4; codecs="'+t+'"'})})),[r]}(0,n);default:throw Error("Unknown key-system: "+t)}}(t,0,n);return i?(s.logger.log("Requesting encrypted media key-system access"),void this.requestMediaKeySystemAccess(t,i).then((function(e){r._onMediaKeySystemAccessObtained(t,e)})).catch((function(e){s.logger.error('Failed to obtain key-system "'+t+'" access:',e)}))):void s.logger.warn("Can not create config for key-system (maybe because platform is not supported):",t)},Object.defineProperty(e.prototype,"requestMediaKeySystemAccess",{get:function(){if(!this._requestMediaKeySystemAccess)throw new Error("No requestMediaKeySystemAccess function configured");return this._requestMediaKeySystemAccess},enumerable:!0,configurable:!0}),e.prototype._onMediaKeySystemAccessObtained=function(t,e){var n=this;s.logger.log('Access for key-system "'+t+'" obtained');var r={mediaKeys:null,mediaKeysSession:null,mediaKeysSessionInitialized:!1,mediaKeySystemAccess:e,mediaKeySystemDomain:t};this._mediaKeysList.push(r),e.createMediaKeys().then((function(e){r.mediaKeys=e,s.logger.log('Media-keys created for key-system "'+t+'"'),n._onMediaKeysCreated()})).catch((function(t){s.logger.error("Failed to create media-keys:",t)}))},e.prototype._onMediaKeysCreated=function(){var t=this;this._mediaKeysList.forEach((function(e){e.mediaKeysSession||(e.mediaKeysSession=e.mediaKeys.createSession(),t._onNewMediaKeySession(e.mediaKeysSession))}))},e.prototype._onNewMediaKeySession=function(t){var e=this;s.logger.log("New key-system session "+t.sessionId),t.addEventListener("message",(function(n){e._onKeySessionMessage(t,n.message)}),!1)},e.prototype._onKeySessionMessage=function(t,e){s.logger.log("Got EME message event, creating license request"),this._requestLicense(e,(function(e){s.logger.log("Received license data, updating key-session"),t.update(e)}))},e.prototype._onMediaEncrypted=function(t,e){s.logger.log('Media is encrypted using "'+t+'" init data type'),this._isMediaEncrypted=!0,this._mediaEncryptionInitDataType=t,this._mediaEncryptionInitData=e,this._attemptSetMediaKeys(),this._generateRequestWithPreferredKeySession()},e.prototype._attemptSetMediaKeys=function(){if(!this._hasSetMediaKeys){var t=this._mediaKeysList[0];if(!t||!t.mediaKeys)return s.logger.error("Fatal: Media is encrypted but no CDM access or no keys have been obtained yet"),void this.hls.trigger(o.default.ERROR,{type:a.ErrorTypes.KEY_SYSTEM_ERROR,details:a.ErrorDetails.KEY_SYSTEM_NO_KEYS,fatal:!0});s.logger.log("Setting keys for encrypted media"),this._media.setMediaKeys(t.mediaKeys),this._hasSetMediaKeys=!0}},e.prototype._generateRequestWithPreferredKeySession=function(){var t=this,e=this._mediaKeysList[0];if(!e)return s.logger.error("Fatal: Media is encrypted but not any key-system access has been obtained yet"),void this.hls.trigger(o.default.ERROR,{type:a.ErrorTypes.KEY_SYSTEM_ERROR,details:a.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});if(e.mediaKeysSessionInitialized)s.logger.warn("Key-Session already initialized but requested again");else{var n=e.mediaKeysSession;n||(s.logger.error("Fatal: Media is encrypted but no key-session existing"),this.hls.trigger(o.default.ERROR,{type:a.ErrorTypes.KEY_SYSTEM_ERROR,details:a.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!0}));var r=this._mediaEncryptionInitDataType,i=this._mediaEncryptionInitData;s.logger.log('Generating key-session request for "'+r+'" init data type'),e.mediaKeysSessionInitialized=!0,n.generateRequest(r,i).then((function(){s.logger.debug("Key-session generation succeeded")})).catch((function(e){s.logger.error("Error generating key-session request:",e),t.hls.trigger(o.default.ERROR,{type:a.ErrorTypes.KEY_SYSTEM_ERROR,details:a.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!1})}))}},e.prototype._createLicenseXhr=function(t,e,n){var r=new u,i=this._licenseXhrSetup;try{if(i)try{i(r,t)}catch(e){r.open("POST",t,!0),i(r,t)}r.readyState||r.open("POST",t,!0)}catch(t){return s.logger.error("Error setting up key-system license XHR",t),void this.hls.trigger(o.default.ERROR,{type:a.ErrorTypes.KEY_SYSTEM_ERROR,details:a.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})}return r.responseType="arraybuffer",r.onreadystatechange=this._onLicenseRequestReadyStageChange.bind(this,r,t,e,n),r},e.prototype._onLicenseRequestReadyStageChange=function(t,e,n,r){switch(t.readyState){case 4:if(200===t.status)this._requestLicenseFailureCount=0,s.logger.log("License request succeeded"),r(t.response);else{if(s.logger.error("License Request XHR failed ("+e+"). Status: "+t.status+" ("+t.statusText+")"),this._requestLicenseFailureCount++,this._requestLicenseFailureCount<=3){var i=3-this._requestLicenseFailureCount+1;return s.logger.warn("Retrying license request, "+i+" attempts left"),void this._requestLicense(n,r)}this.hls.trigger(o.default.ERROR,{type:a.ErrorTypes.KEY_SYSTEM_ERROR,details:a.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})}}},e.prototype._generateLicenseRequestChallenge=function(t,e){var n;return t.mediaKeySystemDomain===c?s.logger.error("PlayReady is not supported (yet)"):t.mediaKeySystemDomain===l?n=e:s.logger.error("Unsupported key-system:",t.mediaKeySystemDomain),n},e.prototype._requestLicense=function(t,e){s.logger.log("Requesting content license for key-system");var n=this._mediaKeysList[0];if(!n)return s.logger.error("Fatal error: Media is encrypted but no key-system access has been obtained yet"),void this.hls.trigger(o.default.ERROR,{type:a.ErrorTypes.KEY_SYSTEM_ERROR,details:a.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});var r=this.getLicenseServerUrl(n.mediaKeySystemDomain),i=this._createLicenseXhr(r,t,e);s.logger.log("Sending license request to URL: "+r),i.send(this._generateLicenseRequestChallenge(n,t))},e.prototype.onMediaAttached=function(t){var e=this;if(this._emeEnabled){var n=t.media;this._media=n,n.addEventListener("encrypted",(function(t){e._onMediaEncrypted(t.initDataType,t.initData)}))}},e.prototype.onManifestParsed=function(t){if(this._emeEnabled){var e=t.levels.map((function(t){return t.audioCodec})),n=t.levels.map((function(t){return t.videoCodec}));this._attemptKeySystemAccess(l,e,n)}},e}(i.default);e.default=d},"./src/controller/fps-controller.js":
/*!******************************************!*\
	  !*** ./src/controller/fps-controller.js ***!
	  \******************************************/
/*! no static exports found */ /*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(/*! ../events */"./src/events.js"),o=n(/*! ../event-handler */"./src/event-handler.js"),a=n(/*! ../utils/logger */"./src/utils/logger.js"),s=window.performance,u=function(t){function e(e){return t.call(this,e,i.default.MEDIA_ATTACHING)||this}return r(e,t),e.prototype.destroy=function(){this.timer&&clearInterval(this.timer),this.isVideoPlaybackQualityAvailable=!1},e.prototype.onMediaAttaching=function(t){var e=this.hls.config;e.capLevelOnFPSDrop&&("function"==typeof(this.video=t.media instanceof window.HTMLVideoElement?t.media:null).getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),clearInterval(this.timer),this.timer=setInterval(this.checkFPSInterval.bind(this),e.fpsDroppedMonitoringPeriod))},e.prototype.checkFPS=function(t,e,n){var r=s.now();if(e){if(this.lastTime){var o=r-this.lastTime,u=n-this.lastDroppedFrames,l=e-this.lastDecodedFrames,c=1e3*u/o,d=this.hls;if(d.trigger(i.default.FPS_DROP,{currentDropped:u,currentDecoded:l,totalDroppedFrames:n}),c>0&&u>d.config.fpsDroppedMonitoringThreshold*l){var h=d.currentLevel;a.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+h),h>0&&(-1===d.autoLevelCapping||d.autoLevelCapping>=h)&&(h-=1,d.trigger(i.default.FPS_DROP_LEVEL_CAPPING,{level:h,droppedLevel:d.currentLevel}),d.autoLevelCapping=h,d.streamController.nextLevelSwitch())}}this.lastTime=r,this.lastDroppedFrames=n,this.lastDecodedFrames=e}},e.prototype.checkFPSInterval=function(){var t=this.video;if(t)if(this.isVideoPlaybackQualityAvailable){var e=t.getVideoPlaybackQuality();this.checkFPS(t,e.totalVideoFrames,e.droppedVideoFrames)}else this.checkFPS(t,t.webkitDecodedFrameCount,t.webkitDroppedFrameCount)},e}(o.default);e.default=u},"./src/controller/fragment-finders.js":
/*!********************************************!*\
	  !*** ./src/controller/fragment-finders.js ***!
	  \********************************************/
/*! no static exports found */ /*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,n){"use strict";(function(t){function r(t,e,n){void 0===t&&(t=0),void 0===e&&(e=0);var r=Math.min(e,n.duration+(n.deltaPTS?n.deltaPTS:0));return n.start+n.duration-r<=t?1:n.start-r>t&&n.start?-1:0}function i(t,e,n){var r=1e3*Math.min(e,n.duration+(n.deltaPTS?n.deltaPTS:0));return n.endProgramDateTime-r>t}Object.defineProperty(e,"__esModule",{value:!0});var o=n(/*! ../utils/binary-search */"./src/utils/binary-search.js");e.findFragmentByPDT=function(e,n,r){if(!Array.isArray(e)||!e.length||!t.isFinite(n))return null;if(n<e[0].programDateTime)return null;if(n>=e[e.length-1].endProgramDateTime)return null;r=r||0;for(var o=0;o<e.length;++o){var a=e[o];if(i(n,r,a))return a}return null},e.findFragmentByPTS=function(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=0);var a=t?e[t.sn-e[0].sn+1]:null;return a&&!r(n,i,a)?a:o.default.search(e,r.bind(null,n,i))},e.fragmentWithinToleranceTest=r,e.pdtWithinToleranceTest=i}).call(this,n(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/controller/fragment-tracker.js":
/*!********************************************!*\
	  !*** ./src/controller/fragment-tracker.js ***!
	  \********************************************/
/*! no static exports found */ /*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,n){"use strict";(function(t){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(/*! ../event-handler */"./src/event-handler.js"),o=n(/*! ../events */"./src/events.js");e.FragmentState={NOT_LOADED:"NOT_LOADED",APPENDING:"APPENDING",PARTIAL:"PARTIAL",OK:"OK"};var a=function(n){function a(t){var e=n.call(this,t,o.default.BUFFER_APPENDED,o.default.FRAG_BUFFERED,o.default.FRAG_LOADED)||this;return e.bufferPadding=.2,e.fragments=Object.create(null),e.timeRanges=Object.create(null),e.config=t.config,e}return r(a,n),a.prototype.destroy=function(){this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.config=null,i.default.prototype.destroy.call(this),n.prototype.destroy.call(this)},a.prototype.getBufferedFrag=function(t,e){var n=this.fragments,r=Object.keys(n).filter((function(r){var i=n[r];if(i.body.type!==e)return!1;if(!i.buffered)return!1;var o=i.body;return o.startPTS<=t&&t<=o.endPTS}));if(0===r.length)return null;var i=r.pop();return n[i].body},a.prototype.detectEvictedFragments=function(t,e){var n,r,i=this;Object.keys(this.fragments).forEach((function(o){var a=i.fragments[o];if(!0===a.buffered){var s=a.range[t];if(s){n=s.time;for(var u=0;u<n.length;u++)if(r=n[u],!1===i.isTimeBuffered(r.startPTS,r.endPTS,e)){i.removeFragment(a.body);break}}}}))},a.prototype.detectPartialFragments=function(t){var e=this,n=this.getFragmentKey(t),r=this.fragments[n];r&&(r.buffered=!0,Object.keys(this.timeRanges).forEach((function(n){if(t.hasElementaryStream(n)){var i=e.timeRanges[n];r.range[n]=e.getBufferedTimes(t.startPTS,t.endPTS,i)}})))},a.prototype.getBufferedTimes=function(t,e,n){for(var r,i,o=[],a=!1,s=0;s<n.length;s++){if(r=n.start(s)-this.bufferPadding,i=n.end(s)+this.bufferPadding,t>=r&&e<=i){o.push({startPTS:Math.max(t,n.start(s)),endPTS:Math.min(e,n.end(s))});break}if(t<i&&e>r)o.push({startPTS:Math.max(t,n.start(s)),endPTS:Math.min(e,n.end(s))}),a=!0;else if(e<=r)break}return{time:o,partial:a}},a.prototype.getFragmentKey=function(t){return t.type+"_"+t.level+"_"+t.urlId+"_"+t.sn},a.prototype.getPartialFragment=function(t){var e,n,r,i=this,o=null,a=0;return Object.keys(this.fragments).forEach((function(s){var u=i.fragments[s];i.isPartial(u)&&(n=u.body.startPTS-i.bufferPadding,r=u.body.endPTS+i.bufferPadding,t>=n&&t<=r&&(e=Math.min(t-n,r-t),a<=e&&(o=u.body,a=e)))})),o},a.prototype.getState=function(t){var n=this.getFragmentKey(t),r=this.fragments[n],i=e.FragmentState.NOT_LOADED;return void 0!==r&&(i=r.buffered?!0===this.isPartial(r)?e.FragmentState.PARTIAL:e.FragmentState.OK:e.FragmentState.APPENDING),i},a.prototype.isPartial=function(t){return!0===t.buffered&&(void 0!==t.range.video&&!0===t.range.video.partial||void 0!==t.range.audio&&!0===t.range.audio.partial)},a.prototype.isTimeBuffered=function(t,e,n){for(var r,i,o=0;o<n.length;o++){if(r=n.start(o)-this.bufferPadding,i=n.end(o)+this.bufferPadding,t>=r&&e<=i)return!0;if(e<=r)return!1}return!1},a.prototype.onFragLoaded=function(e){var n=e.frag;t.isFinite(n.sn)&&!n.bitrateTest&&(this.fragments[this.getFragmentKey(n)]={body:n,range:Object.create(null),buffered:!1})},a.prototype.onBufferAppended=function(t){var e=this;this.timeRanges=t.timeRanges,Object.keys(this.timeRanges).forEach((function(t){var n=e.timeRanges[t];e.detectEvictedFragments(t,n)}))},a.prototype.onFragBuffered=function(t){this.detectPartialFragments(t.frag)},a.prototype.hasFragment=function(t){var e=this.getFragmentKey(t);return void 0!==this.fragments[e]},a.prototype.removeFragment=function(t){var e=this.getFragmentKey(t);delete this.fragments[e]},a.prototype.removeAllFragments=function(){this.fragments=Object.create(null)},a}(i.default);e.FragmentTracker=a}).call(this,n(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/controller/gap-controller.js":
/*!******************************************!*\
	  !*** ./src/controller/gap-controller.js ***!
	  \******************************************/
/*! no static exports found */ /*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(/*! ../utils/buffer-helper */"./src/utils/buffer-helper.js"),i=n(/*! ../errors */"./src/errors.js"),o=n(/*! ../events */"./src/events.js"),a=n(/*! ../utils/logger */"./src/utils/logger.js"),s=function(){function t(t,e,n,r){this.config=t,this.media=e,this.fragmentTracker=n,this.hls=r,this.stallReported=!1}return t.prototype.poll=function(t,e){var n=this.config,i=this.media,o=i.currentTime,s=window.performance.now();if(o!==t)return this.stallReported&&(a.logger.warn("playback not stuck anymore @"+o+", after "+Math.round(s-this.stalled)+"ms"),this.stallReported=!1),this.stalled=null,void(this.nudgeRetry=0);if(!(i.ended||!i.buffered.length||i.readyState>2||i.seeking&&r.BufferHelper.isBuffered(i,o))){var u=s-this.stalled,l=r.BufferHelper.bufferInfo(i,o,n.maxBufferHole);if(!this.stalled)return void(this.stalled=s);u>=1e3&&this._reportStall(l.len),this._tryFixBufferStall(l,u)}},t.prototype._tryFixBufferStall=function(t,e){var n=this,r=n.config,i=n.fragmentTracker,o=n.media.currentTime,a=i.getPartialFragment(o);a&&this._trySkipBufferHole(a),t.len>.5&&e>1e3*r.highBufferWatchdogPeriod&&(this.stalled=null,this._tryNudgeBuffer())},t.prototype._reportStall=function(t){var e=this,n=e.hls,r=e.media;e.stallReported||(this.stallReported=!0,a.logger.warn("Playback stalling at @"+r.currentTime+" due to low buffer"),n.trigger(o.default.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1,buffer:t}))},t.prototype._trySkipBufferHole=function(t){for(var e=this.hls,n=this.media,r=n.currentTime,s=0,u=0;u<n.buffered.length;u++){var l=n.buffered.start(u);if(r>=s&&r<l)return n.currentTime=Math.max(l,n.currentTime+.1),a.logger.warn("skipping hole, adjusting currentTime from "+r+" to "+n.currentTime),this.stalled=null,void e.trigger(o.default.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.BUFFER_SEEK_OVER_HOLE,fatal:!1,reason:"fragment loaded with buffer holes, seeking from "+r+" to "+n.currentTime,frag:t});s=n.buffered.end(u)}},t.prototype._tryNudgeBuffer=function(){var t=this,e=t.config,n=t.hls,r=t.media,s=r.currentTime,u=(this.nudgeRetry||0)+1;if(this.nudgeRetry=u,u<e.nudgeMaxRetry){var l=s+u*e.nudgeOffset;a.logger.log("adjust currentTime from "+s+" to "+l),r.currentTime=l,n.trigger(o.default.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.BUFFER_NUDGE_ON_STALL,fatal:!1})}else a.logger.error("still stuck in high buffer @"+s+" after "+e.nudgeMaxRetry+", raise fatal error"),n.trigger(o.default.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!0})},t}();e.default=s},"./src/controller/id3-track-controller.js":
/*!************************************************!*\
	  !*** ./src/controller/id3-track-controller.js ***!
	  \************************************************/
/*! no static exports found */ /*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(/*! ../events */"./src/events.js"),o=n(/*! ../event-handler */"./src/event-handler.js"),a=n(/*! ../demux/id3 */"./src/demux/id3.js"),s=n(/*! ../utils/texttrack-utils */"./src/utils/texttrack-utils.js"),u=function(t){function e(e){var n=t.call(this,e,i.default.MEDIA_ATTACHED,i.default.MEDIA_DETACHING,i.default.FRAG_PARSING_METADATA)||this;return n.id3Track=void 0,n.media=void 0,n}return r(e,t),e.prototype.destroy=function(){o.default.prototype.destroy.call(this)},e.prototype.onMediaAttached=function(t){this.media=t.media,this.media},e.prototype.onMediaDetaching=function(){s.clearCurrentCues(this.id3Track),this.id3Track=void 0,this.media=void 0},e.prototype.getID3Track=function(t){for(var e=0;e<t.length;e++){var n=t[e];if("metadata"===n.kind&&"id3"===n.label)return s.sendAddTrackEvent(n,this.media),n}return this.media.addTextTrack("metadata","id3")},e.prototype.onFragParsingMetadata=function(t){var e=t.frag,n=t.samples;this.id3Track||(this.id3Track=this.getID3Track(this.media.textTracks),this.id3Track.mode="hidden");for(var r=window.WebKitDataCue||window.VTTCue||window.TextTrackCue,i=0;i<n.length;i++){var o=a.default.getID3Frames(n[i].data);if(o){var s=n[i].pts,u=i<n.length-1?n[i+1].pts:e.endPTS;s===u&&(u+=1e-4);for(var l=0;l<o.length;l++){var c=o[l];if(!a.default.isTimeStampFrame(c)){var d=new r(s,u,"");d.value=c,this.id3Track.addCue(d)}}}}},e}(o.default);e.default=u},"./src/controller/level-controller.js":
/*!********************************************!*\
	  !*** ./src/controller/level-controller.js ***!
	  \********************************************/
/*! no static exports found */ /*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(/*! ../events */"./src/events.js"),a=n(/*! ../event-handler */"./src/event-handler.js"),s=n(/*! ../utils/logger */"./src/utils/logger.js"),u=n(/*! ../errors */"./src/errors.js"),l=n(/*! ../utils/codecs */"./src/utils/codecs.js"),c=n(/*! ./level-helper */"./src/controller/level-helper.js"),d=(window.performance,function(t){function e(e){var n=t.call(this,e,o.default.MANIFEST_LOADED,o.default.LEVEL_LOADED,o.default.AUDIO_TRACK_SWITCHED,o.default.FRAG_LOADED,o.default.ERROR)||this;return n.canload=!1,n.currentLevelIndex=null,n.manualLevelIndex=-1,n.timer=null,i=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),n}return r(e,t),e.prototype.onHandlerDestroying=function(){this.clearTimer(),this.manualLevelIndex=-1},e.prototype.clearTimer=function(){null!==this.timer&&(clearTimeout(this.timer),this.timer=null)},e.prototype.startLoad=function(){var t=this._levels;this.canload=!0,this.levelRetryCount=0,t&&t.forEach((function(t){t.loadError=0;var e=t.details;e&&e.live&&(t.details=void 0)})),null!==this.timer&&this.loadLevel()},e.prototype.stopLoad=function(){this.canload=!1},e.prototype.onManifestLoaded=function(t){var e,n=[],r=[],a={},d=null,h=!1,f=!1;if(t.levels.forEach((function(t){var e=t.attrs;t.loadError=0,t.fragmentError=!1,h=h||!!t.videoCodec,f=f||!!t.audioCodec,i&&t.audioCodec&&-1!==t.audioCodec.indexOf("mp4a.40.34")&&(t.audioCodec=void 0),(d=a[t.bitrate])?d.url.push(t.url):(t.url=[t.url],t.urlId=0,a[t.bitrate]=t,n.push(t)),e&&(e.AUDIO&&(f=!0,c.addGroupId(d||t,"audio",e.AUDIO)),e.SUBTITLES&&c.addGroupId(d||t,"text",e.SUBTITLES))})),h&&f&&(n=n.filter((function(t){return!!t.videoCodec}))),n=n.filter((function(t){var e=t.audioCodec,n=t.videoCodec;return(!e||l.isCodecSupportedInMp4(e,"audio"))&&(!n||l.isCodecSupportedInMp4(n,"video"))})),t.audioTracks&&(r=t.audioTracks.filter((function(t){return!t.audioCodec||l.isCodecSupportedInMp4(t.audioCodec,"audio")}))).forEach((function(t,e){t.id=e})),n.length>0){e=n[0].bitrate,n.sort((function(t,e){return t.bitrate-e.bitrate})),this._levels=n;for(var p=0;p<n.length;p++)if(n[p].bitrate===e){this._firstLevel=p,s.logger.log("manifest loaded,"+n.length+" level(s) found, first bitrate:"+e);break}this.hls.trigger(o.default.MANIFEST_PARSED,{levels:n,audioTracks:r,firstLevel:this._firstLevel,stats:t.stats,audio:f,video:h,altAudio:r.some((function(t){return!!t.url}))})}else this.hls.trigger(o.default.ERROR,{type:u.ErrorTypes.MEDIA_ERROR,details:u.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:this.hls.url,reason:"no level with compatible codecs found in manifest"})},Object.defineProperty(e.prototype,"levels",{get:function(){return this._levels},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"level",{get:function(){return this.currentLevelIndex},set:function(t){var e=this._levels;e&&(t=Math.min(t,e.length-1),this.currentLevelIndex===t&&e[t].details||this.setLevelInternal(t))},enumerable:!0,configurable:!0}),e.prototype.setLevelInternal=function(t){var e=this._levels,n=this.hls;if(t>=0&&t<e.length){if(this.clearTimer(),this.currentLevelIndex!==t){s.logger.log("switching to level "+t),this.currentLevelIndex=t;var r=e[t];r.level=t,n.trigger(o.default.LEVEL_SWITCHING,r)}var i=e[t],a=i.details;if(!a||a.live){var l=i.urlId;n.trigger(o.default.LEVEL_LOADING,{url:i.url[l],level:t,id:l})}}else n.trigger(o.default.ERROR,{type:u.ErrorTypes.OTHER_ERROR,details:u.ErrorDetails.LEVEL_SWITCH_ERROR,level:t,fatal:!1,reason:"invalid level idx"})},Object.defineProperty(e.prototype,"manualLevel",{get:function(){return this.manualLevelIndex},set:function(t){this.manualLevelIndex=t,void 0===this._startLevel&&(this._startLevel=t),-1!==t&&(this.level=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"firstLevel",{get:function(){return this._firstLevel},set:function(t){this._firstLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"startLevel",{get:function(){if(void 0===this._startLevel){var t=this.hls.config.startLevel;return void 0!==t?t:this._firstLevel}return this._startLevel},set:function(t){this._startLevel=t},enumerable:!0,configurable:!0}),e.prototype.onError=function(t){if(t.fatal)t.type===u.ErrorTypes.NETWORK_ERROR&&this.clearTimer();else{var e,n=!1,r=!1;switch(t.details){case u.ErrorDetails.FRAG_LOAD_ERROR:case u.ErrorDetails.FRAG_LOAD_TIMEOUT:case u.ErrorDetails.KEY_LOAD_ERROR:case u.ErrorDetails.KEY_LOAD_TIMEOUT:e=t.frag.level,r=!0;break;case u.ErrorDetails.LEVEL_LOAD_ERROR:case u.ErrorDetails.LEVEL_LOAD_TIMEOUT:e=t.context.level,n=!0;break;case u.ErrorDetails.REMUX_ALLOC_ERROR:e=t.level,n=!0}void 0!==e&&this.recoverLevel(t,e,n,r)}},e.prototype.recoverLevel=function(t,e,n,r){var i,o,a,u=this,l=this.hls.config,c=t.details,d=this._levels[e];if(d.loadError++,d.fragmentError=r,n){if(!(this.levelRetryCount+1<=l.levelLoadingMaxRetry))return s.logger.error("level controller, cannot recover from "+c+" error"),this.currentLevelIndex=null,this.clearTimer(),void(t.fatal=!0);o=Math.min(Math.pow(2,this.levelRetryCount)*l.levelLoadingRetryDelay,l.levelLoadingMaxRetryTimeout),this.timer=setTimeout((function(){return u.loadLevel()}),o),t.levelRetry=!0,this.levelRetryCount++,s.logger.warn("level controller, "+c+", retry in "+o+" ms, current retry count is "+this.levelRetryCount)}(n||r)&&((i=d.url.length)>1&&d.loadError<i?(d.urlId=(d.urlId+1)%i,d.details=void 0,s.logger.warn("level controller, "+c+" for level "+e+": switching to redundant URL-id "+d.urlId)):-1===this.manualLevelIndex?(a=0===e?this._levels.length-1:e-1,s.logger.warn("level controller, "+c+": switch to "+a),this.hls.nextAutoLevel=this.currentLevelIndex=a):r&&(s.logger.warn("level controller, "+c+": reload a fragment"),this.currentLevelIndex=null))},e.prototype.onFragLoaded=function(t){var e=t.frag;if(void 0!==e&&"main"===e.type){var n=this._levels[e.level];void 0!==n&&(n.fragmentError=!1,n.loadError=0,this.levelRetryCount=0)}},e.prototype.onLevelLoaded=function(t){var e=this,n=t.level,r=t.details;if(n===this.currentLevelIndex){var i=this._levels[n];if(i.fragmentError||(i.loadError=0,this.levelRetryCount=0),r.live){var o=c.computeReloadInterval(i.details,r,t.stats.trequest);s.logger.log("live playlist, reload in "+Math.round(o)+" ms"),this.timer=setTimeout((function(){return e.loadLevel()}),o)}else this.clearTimer()}},e.prototype.onAudioTrackSwitched=function(t){var e=this.hls.audioTracks[t.id].groupId,n=this.hls.levels[this.currentLevelIndex];if(n&&n.audioGroupIds){for(var r=-1,i=0;i<n.audioGroupIds.length;i++)if(n.audioGroupIds[i]===e){r=i;break}r!==n.urlId&&(n.urlId=r,this.startLoad())}},e.prototype.loadLevel=function(){if(s.logger.debug("call to loadLevel"),null!==this.currentLevelIndex&&this.canload){var t=this._levels[this.currentLevelIndex];if("object"==_typeof(t)&&t.url.length>0){var e=this.currentLevelIndex,n=t.urlId,r=t.url[n];s.logger.log("Attempt loading level index "+e+" with URL-id "+n),this.hls.trigger(o.default.LEVEL_LOADING,{url:r,level:e,id:n})}}},Object.defineProperty(e.prototype,"nextLoadLevel",{get:function(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(t){this.level=t,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=t)},enumerable:!0,configurable:!0}),e}(a.default));e.default=d},"./src/controller/level-helper.js":
/*!****************************************!*\
	  !*** ./src/controller/level-helper.js ***!
	  \****************************************/
/*! no static exports found */ /*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,n){"use strict";(function(t){function r(e,n,r){var i=e[n],o=e[r],a=o.startPTS;t.isFinite(a)?r>n?(i.duration=a-i.start,i.duration<0&&s.logger.warn("negative duration computed for frag "+i.sn+",level "+i.level+", there should be some duration drift between playlist and fragment!")):(o.duration=i.start-a,o.duration<0&&s.logger.warn("negative duration computed for frag "+o.sn+",level "+o.level+", there should be some duration drift between playlist and fragment!")):o.start=r>n?i.start+i.duration:Math.max(i.start-o.duration,0)}function i(e,n,i,o,a,s){var u=i;if(t.isFinite(n.startPTS)){var l=Math.abs(n.startPTS-i);t.isFinite(n.deltaPTS)?n.deltaPTS=Math.max(l,n.deltaPTS):n.deltaPTS=l,u=Math.max(i,n.startPTS),i=Math.min(i,n.startPTS),o=Math.max(o,n.endPTS),a=Math.min(a,n.startDTS),s=Math.max(s,n.endDTS)}var c=i-n.start;n.start=n.startPTS=i,n.maxStartPTS=u,n.endPTS=o,n.startDTS=a,n.endDTS=s,n.duration=o-i;var d,h,f,p=n.sn;if(!e||p<e.startSN||p>e.endSN)return 0;for(d=p-e.startSN,(h=e.fragments)[d]=n,f=d;f>0;f--)r(h,f,f-1);for(f=d;f<h.length-1;f++)r(h,f,f+1);return e.PTSKnown=!0,c}function o(t,e,n){if(t&&e)for(var r=Math.max(t.startSN,e.startSN)-e.startSN,i=Math.min(t.endSN,e.endSN)-e.startSN,o=e.startSN-t.startSN,a=r;a<=i;a++){var s=t.fragments[o+a],u=e.fragments[a];if(!s||!u)break;n(s,u,a)}}function a(t,e){var n=e.startSN-t.startSN,r=t.fragments,i=e.fragments;if(!(n<0||n>r.length))for(var o=0;o<i.length;o++)i[o].start+=r[n].start}Object.defineProperty(e,"__esModule",{value:!0});var s=n(/*! ../utils/logger */"./src/utils/logger.js");e.addGroupId=function(t,e,n){switch(e){case"audio":t.audioGroupIds||(t.audioGroupIds=[]),t.audioGroupIds.push(n);break;case"text":t.textGroupIds||(t.textGroupIds=[]),t.textGroupIds.push(n)}},e.updatePTS=r,e.updateFragPTSDTS=i,e.mergeDetails=function(e,n){n.initSegment&&e.initSegment&&(n.initSegment=e.initSegment);var r,u=0;if(o(e,n,(function(e,i){u=e.cc-i.cc,t.isFinite(e.startPTS)&&(i.start=i.startPTS=e.startPTS,i.endPTS=e.endPTS,i.duration=e.duration,i.backtracked=e.backtracked,i.dropped=e.dropped,r=i),n.PTSKnown=!0})),n.PTSKnown){if(u){s.logger.log("discontinuity sliding from playlist, take drift into account");for(var l=n.fragments,c=0;c<l.length;c++)l[c].cc+=u}r?i(n,r,r.startPTS,r.endPTS,r.startDTS,r.endDTS):a(e,n),n.PTSKnown=e.PTSKnown}},e.mergeSubtitlePlaylists=function(t,e,n){void 0===n&&(n=0);var r=-1;o(t,e,(function(t,e,n){e.start=t.start,r=n}));var i=e.fragments;if(r<0)i.forEach((function(t){t.start+=n}));else for(var a=r+1;a<i.length;a++)i[a].start=i[a-1].start+i[a-1].duration},e.mapFragmentIntersection=o,e.adjustSliding=a,e.computeReloadInterval=function(t,e,n){var r=1e3*(e.averagetargetduration?e.averagetargetduration:e.targetduration),i=r/2;return t&&e.endSN===t.endSN&&(r=i),n&&(r=Math.max(i,r-(window.performance.now()-n))),Math.round(r)}}).call(this,n(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/controller/stream-controller.js":
/*!*********************************************!*\
	  !*** ./src/controller/stream-controller.js ***!
	  \*********************************************/
/*! no static exports found */ /*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,n){"use strict";(function(t){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(/*! ../utils/binary-search */"./src/utils/binary-search.js"),o=n(/*! ../utils/buffer-helper */"./src/utils/buffer-helper.js"),a=n(/*! ../demux/demuxer */"./src/demux/demuxer.js"),s=n(/*! ../events */"./src/events.js"),u=n(/*! ./fragment-tracker */"./src/controller/fragment-tracker.js"),l=n(/*! ../loader/fragment */"./src/loader/fragment.js"),c=n(/*! ../loader/playlist-loader */"./src/loader/playlist-loader.js"),d=n(/*! ./level-helper */"./src/controller/level-helper.js"),h=n(/*! ../utils/time-ranges */"./src/utils/time-ranges.js"),f=n(/*! ../errors */"./src/errors.js"),p=n(/*! ../utils/logger */"./src/utils/logger.js"),g=n(/*! ../utils/discontinuities */"./src/utils/discontinuities.js"),m=n(/*! ./fragment-finders */"./src/controller/fragment-finders.js"),v=n(/*! ./gap-controller */"./src/controller/gap-controller.js"),y=n(/*! ./base-stream-controller */"./src/controller/base-stream-controller.js"),_=function(e){function n(t,n){var r=e.call(this,t,s.default.MEDIA_ATTACHED,s.default.MEDIA_DETACHING,s.default.MANIFEST_LOADING,s.default.MANIFEST_PARSED,s.default.LEVEL_LOADED,s.default.KEY_LOADED,s.default.FRAG_LOADED,s.default.FRAG_LOAD_EMERGENCY_ABORTED,s.default.FRAG_PARSING_INIT_SEGMENT,s.default.FRAG_PARSING_DATA,s.default.FRAG_PARSED,s.default.ERROR,s.default.AUDIO_TRACK_SWITCHING,s.default.AUDIO_TRACK_SWITCHED,s.default.BUFFER_CREATED,s.default.BUFFER_APPENDED,s.default.BUFFER_FLUSHED)||this;return r.fragmentTracker=n,r.config=t.config,r.audioCodecSwap=!1,r._state=y.State.STOPPED,r.stallReported=!1,r.gapController=null,r}return r(n,e),n.prototype.startLoad=function(t){if(this.levels){var e=this.lastCurrentTime,n=this.hls;if(this.stopLoad(),this.setInterval(100),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var r=n.startLevel;-1===r&&(r=0,this.bitrateTest=!0),this.level=n.nextLoadLevel=r,this.loadedmetadata=!1}e>0&&-1===t&&(p.logger.log("override startPosition with lastCurrentTime @"+e.toFixed(3)),t=e),this.state=y.State.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=t,this.tick()}else this.forceStartLoad=!0,this.state=y.State.STOPPED},n.prototype.stopLoad=function(){this.forceStartLoad=!1,e.prototype.stopLoad.call(this)},n.prototype.doTick=function(){switch(this.state){case y.State.BUFFER_FLUSHING:this.fragLoadError=0;break;case y.State.IDLE:this._doTickIdle();break;case y.State.WAITING_LEVEL:var t=this.levels[this.level];t&&t.details&&(this.state=y.State.IDLE);break;case y.State.FRAG_LOADING_WAITING_RETRY:var e=window.performance.now(),n=this.retryDate;(!n||e>=n||this.media&&this.media.seeking)&&(p.logger.log("mediaController: retryDate reached, switch back to IDLE state"),this.state=y.State.IDLE);break;case y.State.ERROR:case y.State.STOPPED:case y.State.FRAG_LOADING:case y.State.PARSING:case y.State.PARSED:case y.State.ENDED:}this._checkBuffer(),this._checkFragmentChanged()},n.prototype._doTickIdle=function(){var t=this.hls,e=t.config,n=this.media;if(void 0!==this.levelLastLoaded&&(n||!this.startFragRequested&&e.startFragPrefetch)){var r;r=this.loadedmetadata?n.currentTime:this.nextLoadPosition;var i=t.nextLoadLevel,a=this.levels[i];if(a){var u,l=a.bitrate;u=l?Math.max(8*e.maxBufferSize/l,e.maxBufferLength):e.maxBufferLength,u=Math.min(u,e.maxMaxBufferLength);var c=o.BufferHelper.bufferInfo(this.mediaBuffer?this.mediaBuffer:n,r,e.maxBufferHole),d=c.len;if(!(d>=u)){p.logger.trace("buffer length of "+d.toFixed(3)+" is below max of "+u.toFixed(3)+". checking for more payload ..."),this.level=t.nextLoadLevel=i;var h=a.details;if(!h||h.live&&this.levelLastLoaded!==i)return void(this.state=y.State.WAITING_LEVEL);if(this._streamEnded(c,h)){var f={};return this.altAudio&&(f.type="video"),this.hls.trigger(s.default.BUFFER_EOS,f),void(this.state=y.State.ENDED)}this._fetchPayloadOrEos(r,c,h)}}}},n.prototype._fetchPayloadOrEos=function(t,e,n){var r=this.fragPrevious,i=this.level,o=n.fragments,a=o.length;if(0!==a){var s,u=o[0].start,l=o[a-1].start+o[a-1].duration,c=e.end;if(n.initSegment&&!n.initSegment.data)s=n.initSegment;else if(n.live){var d=this.config.initialLiveManifestSize;if(a<d)return void p.logger.warn("Can not start playback of a level, reason: not enough fragments "+a+" < "+d);if(null===(s=this._ensureFragmentAtLivePoint(n,c,u,l,r,o,a)))return}else c<u&&(s=o[0]);s||(s=this._findFragment(u,r,a,o,c,l,n)),s&&(s.encrypted?(p.logger.log("Loading key for "+s.sn+" of ["+n.startSN+" ,"+n.endSN+"],level "+i),this._loadKey(s)):(p.logger.log("Loading "+s.sn+" of ["+n.startSN+" ,"+n.endSN+"],level "+i+", currentTime:"+t.toFixed(3)+",bufferEnd:"+c.toFixed(3)),this._loadFragment(s)))}},n.prototype._ensureFragmentAtLivePoint=function(t,e,n,r,o,a,s){var u,l=this.hls.config,c=this.media,d=void 0!==l.liveMaxLatencyDuration?l.liveMaxLatencyDuration:l.liveMaxLatencyDurationCount*t.targetduration;if(e<Math.max(n-l.maxFragLookUpTolerance,r-d)){var h=this.liveSyncPosition=this.computeLivePosition(n,t);p.logger.log("buffer end: "+e.toFixed(3)+" is located too far from the end of live sliding playlist, reset currentTime to : "+h.toFixed(3)),e=h,c&&c.readyState&&c.duration>h&&(c.currentTime=h),this.nextLoadPosition=h}if(t.PTSKnown&&e>r&&c&&c.readyState)return null;if(this.startFragRequested&&!t.PTSKnown){if(o)if(t.hasProgramDateTime)p.logger.log("live playlist, switching playlist, load frag with same PDT: "+o.programDateTime),u=m.findFragmentByPDT(a,o.endProgramDateTime,l.maxFragLookUpTolerance);else{var f=o.sn+1;if(f>=t.startSN&&f<=t.endSN){var g=a[f-t.startSN];o.cc===g.cc&&(u=g,p.logger.log("live playlist, switching playlist, load frag with next SN: "+u.sn))}u||(u=i.default.search(a,(function(t){return o.cc-t.cc})))&&p.logger.log("live playlist, switching playlist, load frag with same CC: "+u.sn)}u||(u=a[Math.min(s-1,Math.round(s/2))],p.logger.log("live playlist, switching playlist, unknown, load middle frag : "+u.sn))}return u},n.prototype._findFragment=function(t,e,n,r,i,o,a){var s,u=this.hls.config;if(i<o){var l=i>o-u.maxFragLookUpTolerance?0:u.maxFragLookUpTolerance;s=m.findFragmentByPTS(e,r,i,l)}else s=r[n-1];if(s){var c=s.sn-a.startSN,d=e&&s.level===e.level,h=r[c-1],f=r[c+1];if(e&&s.sn===e.sn)if(d&&!s.backtracked)if(s.sn<a.endSN){var g=e.deltaPTS;g&&g>u.maxBufferHole&&e.dropped&&c?(s=h,p.logger.warn("SN just loaded, with large PTS gap between audio and video, maybe frag is not starting with a keyframe ? load previous one to try to overcome this")):(s=f,p.logger.log("SN just loaded, load next one: "+s.sn,s))}else s=null;else s.backtracked&&(f&&f.backtracked?(p.logger.warn("Already backtracked from fragment "+f.sn+", will not backtrack to fragment "+s.sn+". Loading fragment "+f.sn),s=f):(p.logger.warn("Loaded fragment with dropped frames, backtracking 1 segment to find a keyframe"),s.dropped=0,h?(s=h).backtracked=!0:c&&(s=null)))}return s},n.prototype._loadKey=function(t){this.state=y.State.KEY_LOADING,this.hls.trigger(s.default.KEY_LOADING,{frag:t})},n.prototype._loadFragment=function(e){var n=this.fragmentTracker.getState(e);this.fragCurrent=e,this.startFragRequested=!0,t.isFinite(e.sn)&&!e.bitrateTest&&(this.nextLoadPosition=e.start+e.duration),e.backtracked||n===u.FragmentState.NOT_LOADED||n===u.FragmentState.PARTIAL?(e.autoLevel=this.hls.autoLevelEnabled,e.bitrateTest=this.bitrateTest,this.hls.trigger(s.default.FRAG_LOADING,{frag:e}),this.demuxer||(this.demuxer=new a.default(this.hls,"main")),this.state=y.State.FRAG_LOADING):n===u.FragmentState.APPENDING&&this._reduceMaxBufferLength(e.duration)&&this.fragmentTracker.removeFragment(e)},Object.defineProperty(n.prototype,"state",{get:function(){return this._state},set:function(t){if(this.state!==t){var e=this.state;this._state=t,p.logger.log("main stream:"+e+"->"+t),this.hls.trigger(s.default.STREAM_STATE_TRANSITION,{previousState:e,nextState:t})}},enumerable:!0,configurable:!0}),n.prototype.getBufferedFrag=function(t){return this.fragmentTracker.getBufferedFrag(t,c.default.LevelType.MAIN)},Object.defineProperty(n.prototype,"currentLevel",{get:function(){var t=this.media;if(t){var e=this.getBufferedFrag(t.currentTime);if(e)return e.level}return-1},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"nextBufferedFrag",{get:function(){var t=this.media;return t?this.followingBufferedFrag(this.getBufferedFrag(t.currentTime)):null},enumerable:!0,configurable:!0}),n.prototype.followingBufferedFrag=function(t){return t?this.getBufferedFrag(t.endPTS+.5):null},Object.defineProperty(n.prototype,"nextLevel",{get:function(){var t=this.nextBufferedFrag;return t?t.level:-1},enumerable:!0,configurable:!0}),n.prototype._checkFragmentChanged=function(){var t,e,n=this.media;if(n&&n.readyState&&!1===n.seeking&&((e=n.currentTime)>this.lastCurrentTime&&(this.lastCurrentTime=e),o.BufferHelper.isBuffered(n,e)?t=this.getBufferedFrag(e):o.BufferHelper.isBuffered(n,e+.1)&&(t=this.getBufferedFrag(e+.1)),t)){var r=t;if(r!==this.fragPlaying){this.hls.trigger(s.default.FRAG_CHANGED,{frag:r});var i=r.level;this.fragPlaying&&this.fragPlaying.level===i||this.hls.trigger(s.default.LEVEL_SWITCHED,{level:i}),this.fragPlaying=r}}},n.prototype.immediateLevelSwitch=function(){if(p.logger.log("immediateLevelSwitch"),!this.immediateSwitch){this.immediateSwitch=!0;var e=this.media,n=void 0;e?(n=e.paused,e.pause()):n=!0,this.previouslyPaused=n}var r=this.fragCurrent;r&&r.loader&&r.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(0,t.POSITIVE_INFINITY)},n.prototype.immediateLevelSwitchEnd=function(){var t=this.media;t&&t.buffered.length&&(this.immediateSwitch=!1,o.BufferHelper.isBuffered(t,t.currentTime)&&(t.currentTime-=1e-4),this.previouslyPaused||t.play())},n.prototype.nextLevelSwitch=function(){var e=this.media;if(e&&e.readyState){var n,r=void 0,i=void 0;if((n=this.getBufferedFrag(e.currentTime))&&n.startPTS>1&&this.flushMainBuffer(0,n.startPTS-1),e.paused)r=0;else{var o=this.hls.nextLoadLevel,a=this.levels[o],s=this.fragLastKbps;r=s&&this.fragCurrent?this.fragCurrent.duration*a.bitrate/(1e3*s)+1:0}if((i=this.getBufferedFrag(e.currentTime+r))&&(i=this.followingBufferedFrag(i))){var u=this.fragCurrent;u&&u.loader&&u.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(i.maxStartPTS,t.POSITIVE_INFINITY)}}},n.prototype.flushMainBuffer=function(t,e){this.state=y.State.BUFFER_FLUSHING;var n={startOffset:t,endOffset:e};this.altAudio&&(n.type="video"),this.hls.trigger(s.default.BUFFER_FLUSHING,n)},n.prototype.onMediaAttached=function(t){var e=this.media=this.mediaBuffer=t.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),this.onvended=this.onMediaEnded.bind(this),e.addEventListener("seeking",this.onvseeking),e.addEventListener("seeked",this.onvseeked),e.addEventListener("ended",this.onvended);var n=this.config;this.levels&&n.autoStartLoad&&this.hls.startLoad(n.startPosition),this.gapController=new v.default(n,e,this.fragmentTracker,this.hls)},n.prototype.onMediaDetaching=function(){var t=this.media;t&&t.ended&&(p.logger.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var e=this.levels;e&&e.forEach((function(t){t.details&&t.details.fragments.forEach((function(t){t.backtracked=void 0}))})),t&&(t.removeEventListener("seeking",this.onvseeking),t.removeEventListener("seeked",this.onvseeked),t.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.stopLoad()},n.prototype.onMediaSeeked=function(){var e=this.media,n=e?e.currentTime:void 0;t.isFinite(n)&&p.logger.log("media seeked to "+n.toFixed(3)),this.tick()},n.prototype.onManifestLoading=function(){p.logger.log("trigger BUFFER_RESET"),this.hls.trigger(s.default.BUFFER_RESET),this.fragmentTracker.removeAllFragments(),this.stalled=!1,this.startPosition=this.lastCurrentTime=0},n.prototype.onManifestParsed=function(t){var e,n=!1,r=!1;t.levels.forEach((function(t){(e=t.audioCodec)&&(-1!==e.indexOf("mp4a.40.2")&&(n=!0),-1!==e.indexOf("mp4a.40.5")&&(r=!0))})),this.audioCodecSwitch=n&&r,this.audioCodecSwitch&&p.logger.log("both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=t.levels,this.startFragRequested=!1;var i=this.config;(i.autoStartLoad||this.forceStartLoad)&&this.hls.startLoad(i.startPosition)},n.prototype.onLevelLoaded=function(e){var n=e.details,r=e.level,i=this.levels[this.levelLastLoaded],o=this.levels[r],a=n.totalduration,u=0;if(p.logger.log("level "+r+" loaded ["+n.startSN+","+n.endSN+"],duration:"+a),n.live){var l=o.details;l&&n.fragments.length>0?(d.mergeDetails(l,n),u=n.fragments[0].start,this.liveSyncPosition=this.computeLivePosition(u,l),n.PTSKnown&&t.isFinite(u)?p.logger.log("live playlist sliding:"+u.toFixed(3)):(p.logger.log("live playlist - outdated PTS, unknown sliding"),g.alignStream(this.fragPrevious,i,n))):(p.logger.log("live playlist - first load, unknown sliding"),n.PTSKnown=!1,g.alignStream(this.fragPrevious,i,n))}else n.PTSKnown=!1;if(o.details=n,this.levelLastLoaded=r,this.hls.trigger(s.default.LEVEL_UPDATED,{details:n,level:r}),!1===this.startFragRequested){if(-1===this.startPosition||-1===this.lastCurrentTime){var c=n.startTimeOffset;t.isFinite(c)?(c<0&&(p.logger.log("negative start time offset "+c+", count from end of last fragment"),c=u+a+c),p.logger.log("start time offset found in playlist, adjust startPosition to "+c),this.startPosition=c):n.live?(this.startPosition=this.computeLivePosition(u,n),p.logger.log("configure startPosition to "+this.startPosition)):this.startPosition=0,this.lastCurrentTime=this.startPosition}this.nextLoadPosition=this.startPosition}this.state===y.State.WAITING_LEVEL&&(this.state=y.State.IDLE),this.tick()},n.prototype.onKeyLoaded=function(){this.state===y.State.KEY_LOADING&&(this.state=y.State.IDLE,this.tick())},n.prototype.onFragLoaded=function(t){var e=this,n=e.fragCurrent,r=e.hls,i=e.levels,o=e.media,u=t.frag;if(this.state===y.State.FRAG_LOADING&&n&&"main"===u.type&&u.level===n.level&&u.sn===n.sn){var l=t.stats,c=i[n.level],d=c.details;if(this.bitrateTest=!1,this.stats=l,p.logger.log("Loaded "+n.sn+" of ["+d.startSN+" ,"+d.endSN+"],level "+n.level),u.bitrateTest&&r.nextLoadLevel)this.state=y.State.IDLE,this.startFragRequested=!1,l.tparsed=l.tbuffered=window.performance.now(),r.trigger(s.default.FRAG_BUFFERED,{stats:l,frag:n,id:"main"}),this.tick();else if("initSegment"===u.sn)this.state=y.State.IDLE,l.tparsed=l.tbuffered=window.performance.now(),d.initSegment.data=t.payload,r.trigger(s.default.FRAG_BUFFERED,{stats:l,frag:n,id:"main"}),this.tick();else{p.logger.log("Parsing "+n.sn+" of ["+d.startSN+" ,"+d.endSN+"],level "+n.level+", cc "+n.cc),this.state=y.State.PARSING,this.pendingBuffering=!0,this.appended=!1,u.bitrateTest&&(u.bitrateTest=!1,this.fragmentTracker.onFragLoaded({frag:u}));var h=!(o&&o.seeking)&&(d.PTSKnown||!d.live),f=d.initSegment?d.initSegment.data:[],g=this._getAudioCodec(c);(this.demuxer=this.demuxer||new a.default(this.hls,"main")).push(t.payload,f,g,c.videoCodec,n,d.totalduration,h)}}this.fragLoadError=0},n.prototype.onFragParsingInitSegment=function(t){var e=this.fragCurrent,n=t.frag;if(e&&"main"===t.id&&n.sn===e.sn&&n.level===e.level&&this.state===y.State.PARSING){var r=t.tracks,i=void 0,o=void 0;if(r.audio&&this.altAudio&&delete r.audio,o=r.audio){var a=this.levels[this.level].audioCodec,u=navigator.userAgent.toLowerCase();a&&this.audioCodecSwap&&(p.logger.log("swapping playlist audio codec"),a=-1!==a.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),this.audioCodecSwitch&&1!==o.metadata.channelCount&&-1===u.indexOf("firefox")&&(a="mp4a.40.5"),-1!==u.indexOf("android")&&"audio/mpeg"!==o.container&&(a="mp4a.40.2",p.logger.log("Android: force audio codec to "+a)),o.levelCodec=a,o.id=t.id}for(i in(o=r.video)&&(o.levelCodec=this.levels[this.level].videoCodec,o.id=t.id),this.hls.trigger(s.default.BUFFER_CODECS,r),r){o=r[i],p.logger.log("main track:"+i+",container:"+o.container+",codecs[level/parsed]=["+o.levelCodec+"/"+o.codec+"]");var l=o.initSegment;l&&(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(s.default.BUFFER_APPENDING,{type:i,data:l,parent:"main",content:"initSegment"}))}this.tick()}},n.prototype.onFragParsingData=function(e){var n=this,r=this.fragCurrent,i=e.frag;if(r&&"main"===e.id&&i.sn===r.sn&&i.level===r.level&&("audio"!==e.type||!this.altAudio)&&this.state===y.State.PARSING){var o=this.levels[this.level],a=r;if(t.isFinite(e.endPTS)||(e.endPTS=e.startPTS+r.duration,e.endDTS=e.startDTS+r.duration),!0===e.hasAudio&&a.addElementaryStream(l.default.ElementaryStreamTypes.AUDIO),!0===e.hasVideo&&a.addElementaryStream(l.default.ElementaryStreamTypes.VIDEO),p.logger.log("Parsed "+e.type+",PTS:["+e.startPTS.toFixed(3)+","+e.endPTS.toFixed(3)+"],DTS:["+e.startDTS.toFixed(3)+"/"+e.endDTS.toFixed(3)+"],nb:"+e.nb+",dropped:"+(e.dropped||0)),"video"===e.type)if(a.dropped=e.dropped,a.dropped)if(a.backtracked)p.logger.warn("Already backtracked on this fragment, appending with the gap",a.sn);else{var u=o.details;if(!u||a.sn!==u.startSN)return p.logger.warn("missing video frame(s), backtracking fragment",a.sn),this.fragmentTracker.removeFragment(a),a.backtracked=!0,this.nextLoadPosition=e.startPTS,this.state=y.State.IDLE,this.fragPrevious=a,void this.tick();p.logger.warn("missing video frame(s) on first frag, appending with gap",a.sn)}else a.backtracked=!1;var c=d.updateFragPTSDTS(o.details,a,e.startPTS,e.endPTS,e.startDTS,e.endDTS),h=this.hls;h.trigger(s.default.LEVEL_PTS_UPDATED,{details:o.details,level:this.level,drift:c,type:e.type,start:e.startPTS,end:e.endPTS}),[e.data1,e.data2].forEach((function(t){t&&t.length&&n.state===y.State.PARSING&&(n.appended=!0,n.pendingBuffering=!0,h.trigger(s.default.BUFFER_APPENDING,{type:e.type,data:t,parent:"main",content:"data"}))})),this.tick()}},n.prototype.onFragParsed=function(t){var e=this.fragCurrent,n=t.frag;e&&"main"===t.id&&n.sn===e.sn&&n.level===e.level&&this.state===y.State.PARSING&&(this.stats.tparsed=window.performance.now(),this.state=y.State.PARSED,this._checkAppendedParsed())},n.prototype.onAudioTrackSwitching=function(e){var n=!!e.url,r=e.id;if(!n){if(this.mediaBuffer!==this.media){p.logger.log("switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var i=this.fragCurrent;i.loader&&(p.logger.log("switching to main audio track, cancel main fragment load"),i.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=y.State.IDLE}var o=this.hls;o.trigger(s.default.BUFFER_FLUSHING,{startOffset:0,endOffset:t.POSITIVE_INFINITY,type:"audio"}),o.trigger(s.default.AUDIO_TRACK_SWITCHED,{id:r}),this.altAudio=!1}},n.prototype.onAudioTrackSwitched=function(t){var e=t.id,n=!!this.hls.audioTracks[e].url;if(n){var r=this.videoBuffer;r&&this.mediaBuffer!==r&&(p.logger.log("switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=r)}this.altAudio=n,this.tick()},n.prototype.onBufferCreated=function(t){var e,n,r=t.tracks,i=!1;for(var o in r){var a=r[o];"main"===a.id?(n=o,e=a,"video"===o&&(this.videoBuffer=r[o].buffer)):i=!0}i&&e?(p.logger.log("alternate track found, use "+n+".buffered to schedule main fragment loading"),this.mediaBuffer=e.buffer):this.mediaBuffer=this.media},n.prototype.onBufferAppended=function(t){if("main"===t.parent){var e=this.state;e!==y.State.PARSING&&e!==y.State.PARSED||(this.pendingBuffering=t.pending>0,this._checkAppendedParsed())}},n.prototype._checkAppendedParsed=function(){if(!(this.state!==y.State.PARSED||this.appended&&this.pendingBuffering)){var t=this.fragCurrent;if(t){var e=this.mediaBuffer?this.mediaBuffer:this.media;p.logger.log("main buffered : "+h.default.toString(e.buffered)),this.fragPrevious=t;var n=this.stats;n.tbuffered=window.performance.now(),this.fragLastKbps=Math.round(8*n.total/(n.tbuffered-n.tfirst)),this.hls.trigger(s.default.FRAG_BUFFERED,{stats:n,frag:t,id:"main"}),this.state=y.State.IDLE}this.tick()}},n.prototype.onError=function(e){var n=e.frag||this.fragCurrent;if(!n||"main"===n.type){var r=!!this.media&&o.BufferHelper.isBuffered(this.media,this.media.currentTime)&&o.BufferHelper.isBuffered(this.media,this.media.currentTime+.5);switch(e.details){case f.ErrorDetails.FRAG_LOAD_ERROR:case f.ErrorDetails.FRAG_LOAD_TIMEOUT:case f.ErrorDetails.KEY_LOAD_ERROR:case f.ErrorDetails.KEY_LOAD_TIMEOUT:if(!e.fatal)if(this.fragLoadError+1<=this.config.fragLoadingMaxRetry){var i=Math.min(Math.pow(2,this.fragLoadError)*this.config.fragLoadingRetryDelay,this.config.fragLoadingMaxRetryTimeout);p.logger.warn("mediaController: frag loading failed, retry in "+i+" ms"),this.retryDate=window.performance.now()+i,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.fragLoadError++,this.state=y.State.FRAG_LOADING_WAITING_RETRY}else p.logger.error("mediaController: "+e.details+" reaches max retry, redispatch as fatal ..."),e.fatal=!0,this.state=y.State.ERROR;break;case f.ErrorDetails.LEVEL_LOAD_ERROR:case f.ErrorDetails.LEVEL_LOAD_TIMEOUT:this.state!==y.State.ERROR&&(e.fatal?(this.state=y.State.ERROR,p.logger.warn("streamController: "+e.details+",switch to "+this.state+" state ...")):e.levelRetry||this.state!==y.State.WAITING_LEVEL||(this.state=y.State.IDLE));break;case f.ErrorDetails.BUFFER_FULL_ERROR:"main"!==e.parent||this.state!==y.State.PARSING&&this.state!==y.State.PARSED||(r?(this._reduceMaxBufferLength(this.config.maxBufferLength),this.state=y.State.IDLE):(p.logger.warn("buffer full error also media.currentTime is not buffered, flush everything"),this.fragCurrent=null,this.flushMainBuffer(0,t.POSITIVE_INFINITY)))}}},n.prototype._reduceMaxBufferLength=function(t){var e=this.config;return e.maxMaxBufferLength>=t&&(e.maxMaxBufferLength/=2,p.logger.warn("main:reduce max buffer length to "+e.maxMaxBufferLength+"s"),!0)},n.prototype._checkBuffer=function(){var t=this.media;if(t&&0!==t.readyState){var e=(this.mediaBuffer?this.mediaBuffer:t).buffered;!this.loadedmetadata&&e.length?(this.loadedmetadata=!0,this._seekToStartPos()):this.immediateSwitch?this.immediateLevelSwitchEnd():this.gapController.poll(this.lastCurrentTime,e)}},n.prototype.onFragLoadEmergencyAborted=function(){this.state=y.State.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tick()},n.prototype.onBufferFlushed=function(){var t=this.mediaBuffer?this.mediaBuffer:this.media;t&&this.fragmentTracker.detectEvictedFragments(l.default.ElementaryStreamTypes.VIDEO,t.buffered),this.state=y.State.IDLE,this.fragPrevious=null},n.prototype.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},n.prototype.computeLivePosition=function(t,e){var n=void 0!==this.config.liveSyncDuration?this.config.liveSyncDuration:this.config.liveSyncDurationCount*e.targetduration;return t+Math.max(0,e.totalduration-n)},n.prototype._seekToStartPos=function(){var t=this.media,e=t.currentTime,n=t.seeking?e:this.startPosition;e!==n&&(p.logger.log("target start position not buffered, seek to buffered.start(0) "+n+" from current time "+e+" "),t.currentTime=n)},n.prototype._getAudioCodec=function(t){var e=this.config.defaultAudioCodec||t.audioCodec;return this.audioCodecSwap&&(p.logger.log("swapping playlist audio codec"),e&&(e=-1!==e.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5")),e},Object.defineProperty(n.prototype,"liveSyncPosition",{get:function(){return this._liveSyncPosition},set:function(t){this._liveSyncPosition=t},enumerable:!0,configurable:!0}),n}(y.default);e.default=_}).call(this,n(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/controller/subtitle-stream-controller.js":
/*!******************************************************!*\
	  !*** ./src/controller/subtitle-stream-controller.js ***!
	  \******************************************************/
/*! no static exports found */ /*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(/*! ../events */"./src/events.js"),o=n(/*! ../utils/logger */"./src/utils/logger.js"),a=n(/*! ../crypt/decrypter */"./src/crypt/decrypter.js"),s=n(/*! ../utils/buffer-helper */"./src/utils/buffer-helper.js"),u=n(/*! ./fragment-finders */"./src/controller/fragment-finders.js"),l=n(/*! ./fragment-tracker */"./src/controller/fragment-tracker.js"),c=n(/*! ./base-stream-controller */"./src/controller/base-stream-controller.js"),d=n(/*! ./level-helper */"./src/controller/level-helper.js"),h=window.performance,f=function(t){function e(e,n){var r=t.call(this,e,i.default.MEDIA_ATTACHED,i.default.MEDIA_DETACHING,i.default.ERROR,i.default.KEY_LOADED,i.default.FRAG_LOADED,i.default.SUBTITLE_TRACKS_UPDATED,i.default.SUBTITLE_TRACK_SWITCH,i.default.SUBTITLE_TRACK_LOADED,i.default.SUBTITLE_FRAG_PROCESSED,i.default.LEVEL_UPDATED)||this;return r.fragmentTracker=n,r.config=e.config,r.state=c.State.STOPPED,r.tracks=[],r.tracksBuffered=[],r.currentTrackId=-1,r.decrypter=new a.default(e,e.config),r.lastAVStart=0,r._onMediaSeeking=r.onMediaSeeking.bind(r),r}return r(e,t),e.prototype.onSubtitleFragProcessed=function(t){var e=t.frag,n=t.success;if(this.fragPrevious=e,this.state=c.State.IDLE,n){var r=this.tracksBuffered[this.currentTrackId];if(r){for(var i,o=e.start,a=0;a<r.length;a++)if(o>=r[a].start&&o<=r[a].end){i=r[a];break}var s=e.start+e.duration;i?i.end=s:(i={start:o,end:s},r.push(i))}}},e.prototype.onMediaAttached=function(t){var e=t.media;this.media=e,e.addEventListener("seeking",this._onMediaSeeking),this.state=c.State.IDLE},e.prototype.onMediaDetaching=function(){this.media.removeEventListener("seeking",this._onMediaSeeking),this.media=null,this.state=c.State.STOPPED},e.prototype.onError=function(t){var e=t.frag;e&&"subtitle"===e.type&&(this.state=c.State.IDLE)},e.prototype.onSubtitleTracksUpdated=function(t){var e=this;o.logger.log("subtitle tracks updated"),this.tracksBuffered=[],this.tracks=t.subtitleTracks,this.tracks.forEach((function(t){e.tracksBuffered[t.id]=[]}))},e.prototype.onSubtitleTrackSwitch=function(t){if(this.currentTrackId=t.id,this.tracks&&-1!==this.currentTrackId){var e=this.tracks[this.currentTrackId];e&&e.details&&this.setInterval(500)}else this.clearInterval()},e.prototype.onSubtitleTrackLoaded=function(t){var e=t.id,n=t.details,r=this.currentTrackId,i=this.tracks,o=i[r];e>=i.length||e!==r||!o||(n.live&&d.mergeSubtitlePlaylists(o.details,n,this.lastAVStart),o.details=n,this.setInterval(500))},e.prototype.onKeyLoaded=function(){this.state===c.State.KEY_LOADING&&(this.state=c.State.IDLE)},e.prototype.onFragLoaded=function(t){var e=this.fragCurrent,n=t.frag.decryptdata,r=t.frag,o=this.hls;if(this.state===c.State.FRAG_LOADING&&e&&"subtitle"===t.frag.type&&e.sn===t.frag.sn&&t.payload.byteLength>0&&n&&n.key&&"AES-128"===n.method){var a=h.now();this.decrypter.decrypt(t.payload,n.key.buffer,n.iv.buffer,(function(t){var e=h.now();o.trigger(i.default.FRAG_DECRYPTED,{frag:r,payload:t,stats:{tstart:a,tdecrypt:e}})}))}},e.prototype.onLevelUpdated=function(t){var e=t.details.fragments;this.lastAVStart=e.length?e[0].start:0},e.prototype.doTick=function(){if(this.media)switch(this.state){case c.State.IDLE:var t=this,e=t.config,n=t.currentTrackId,r=t.fragmentTracker,a=t.media,d=t.tracks;if(!d||!d[n]||!d[n].details)break;var h=e.maxBufferHole,f=e.maxFragLookUpTolerance,p=Math.min(e.maxBufferLength,e.maxMaxBufferLength),g=s.BufferHelper.bufferedInfo(this._getBuffered(),a.currentTime,h),m=g.end,v=g.len,y=d[n].details,_=y.fragments,b=_.length,E=_[b-1].start+_[b-1].duration;if(v>p)return;var A=void 0,T=this.fragPrevious;m<E?(T&&y.hasProgramDateTime&&(A=u.findFragmentByPDT(_,T.endProgramDateTime,f)),A||(A=u.findFragmentByPTS(T,_,m,f))):A=_[b-1],A&&A.encrypted?(o.logger.log("Loading key for "+A.sn),this.state=c.State.KEY_LOADING,this.hls.trigger(i.default.KEY_LOADING,{frag:A})):A&&r.getState(A)===l.FragmentState.NOT_LOADED&&(this.fragCurrent=A,this.state=c.State.FRAG_LOADING,this.hls.trigger(i.default.FRAG_LOADING,{frag:A}))}else this.state=c.State.IDLE},e.prototype.stopLoad=function(){this.lastAVStart=0,t.prototype.stopLoad.call(this)},e.prototype._getBuffered=function(){return this.tracksBuffered[this.currentTrackId]||[]},e.prototype.onMediaSeeking=function(){this.fragPrevious=null},e}(c.default);e.SubtitleStreamController=f},"./src/controller/subtitle-track-controller.js":
/*!*****************************************************!*\
	  !*** ./src/controller/subtitle-track-controller.js ***!
	  \*****************************************************/
/*! no static exports found */ /*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,n){"use strict";(function(t){function r(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];"subtitles"===r.kind&&r.label&&e.push(t[n])}return e}var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(/*! ../events */"./src/events.js"),a=n(/*! ../event-handler */"./src/event-handler.js"),s=n(/*! ../utils/logger */"./src/utils/logger.js"),u=n(/*! ./level-helper */"./src/controller/level-helper.js"),l=function(e){function n(t){var n=e.call(this,t,o.default.MEDIA_ATTACHED,o.default.MEDIA_DETACHING,o.default.MANIFEST_LOADED,o.default.SUBTITLE_TRACK_LOADED)||this;return n.tracks=[],n.trackId=-1,n.media=null,n.stopped=!0,n.subtitleDisplay=!0,n}return i(n,e),n.prototype.destroy=function(){a.default.prototype.destroy.call(this)},n.prototype.onMediaAttached=function(t){var e=this;this.media=t.media,this.media&&(this.queuedDefaultTrack&&(this.subtitleTrack=this.queuedDefaultTrack,delete this.queuedDefaultTrack),this.trackChangeListener=this._onTextTracksChanged.bind(this),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.subtitlePollingInterval=setInterval((function(){e.trackChangeListener()}),500):this.media.textTracks.addEventListener("change",this.trackChangeListener))},n.prototype.onMediaDetaching=function(){this.media&&(this.useTextTrackPolling?clearInterval(this.subtitlePollingInterval):this.media.textTracks.removeEventListener("change",this.trackChangeListener),this.media=null)},n.prototype.onManifestLoaded=function(t){var e=this,n=t.subtitles||[];this.tracks=n,this.hls.trigger(o.default.SUBTITLE_TRACKS_UPDATED,{subtitleTracks:n}),n.forEach((function(t){t.default&&(e.media?e.subtitleTrack=t.id:e.queuedDefaultTrack=t.id)}))},n.prototype.onSubtitleTrackLoaded=function(t){var e=this,n=t.id,r=t.details,i=this.trackId,o=this.tracks,a=o[i];if(n>=o.length||n!==i||!a||this.stopped)this._clearReloadTimer();else if(s.logger.log("subtitle track "+n+" loaded"),r.live){var l=u.computeReloadInterval(a.details,r,t.stats.trequest);s.logger.log("Reloading live subtitle playlist in "+l+"ms"),this.timer=setTimeout((function(){e._loadCurrentTrack()}),l)}else this._clearReloadTimer()},n.prototype.startLoad=function(){this.stopped=!1,this._loadCurrentTrack()},n.prototype.stopLoad=function(){this.stopped=!0,this._clearReloadTimer()},Object.defineProperty(n.prototype,"subtitleTracks",{get:function(){return this.tracks},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"subtitleTrack",{get:function(){return this.trackId},set:function(t){this.trackId!==t&&(this._toggleTrackModes(t),this._setSubtitleTrackInternal(t))},enumerable:!0,configurable:!0}),n.prototype._clearReloadTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},n.prototype._loadCurrentTrack=function(){var t=this,e=t.trackId,n=t.tracks,r=t.hls,i=n[e];e<0||!i||i.details&&!i.details.live||(s.logger.log("Loading subtitle track "+e),r.trigger(o.default.SUBTITLE_TRACK_LOADING,{url:i.url,id:e}))},n.prototype._toggleTrackModes=function(t){var e=this,n=e.media,i=e.subtitleDisplay,o=e.trackId;if(n){var a=r(n.textTracks);if(-1===t)[].slice.call(a).forEach((function(t){t.mode="disabled"}));else{var s=a[o];s&&(s.mode="disabled")}var u=a[t];u&&(u.mode=i?"showing":"hidden")}},n.prototype._setSubtitleTrackInternal=function(e){var n=this.hls,r=this.tracks;!t.isFinite(e)||e<-1||e>=r.length||(this.trackId=e,s.logger.log("Switching to subtitle track "+e),n.trigger(o.default.SUBTITLE_TRACK_SWITCH,{id:e}),this._loadCurrentTrack())},n.prototype._onTextTracksChanged=function(){if(this.media){for(var t=-1,e=r(this.media.textTracks),n=0;n<e.length;n++)if("hidden"===e[n].mode)t=n;else if("showing"===e[n].mode){t=n;break}this.subtitleTrack=t}},n}(a.default);e.default=l}).call(this,n(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/controller/timeline-controller.js":
/*!***********************************************!*\
	  !*** ./src/controller/timeline-controller.js ***!
	  \***********************************************/
/*! no static exports found */ /*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,n){"use strict";(function(t){function r(t,e){return t&&t.label===e.name&&!(t.textTrack1||t.textTrack2)}function i(t,e,n,r){return Math.min(e,r)-Math.max(t,n)}var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var a=n(/*! ../events */"./src/events.js"),s=n(/*! ../event-handler */"./src/event-handler.js"),u=n(/*! ../utils/cea-608-parser */"./src/utils/cea-608-parser.js"),l=n(/*! ../utils/output-filter */"./src/utils/output-filter.js"),c=n(/*! ../utils/webvtt-parser */"./src/utils/webvtt-parser.js"),d=n(/*! ../utils/logger */"./src/utils/logger.js"),h=n(/*! ../utils/texttrack-utils */"./src/utils/texttrack-utils.js"),f=function(e){function n(t){var n=e.call(this,t,a.default.MEDIA_ATTACHING,a.default.MEDIA_DETACHING,a.default.FRAG_PARSING_USERDATA,a.default.FRAG_DECRYPTED,a.default.MANIFEST_LOADING,a.default.MANIFEST_LOADED,a.default.FRAG_LOADED,a.default.LEVEL_SWITCHING,a.default.INIT_PTS_FOUND)||this;if(n.hls=t,n.config=t.config,n.enabled=!0,n.Cues=t.config.cueHandler,n.textTracks=[],n.tracks=[],n.unparsedVttFrags=[],n.initPTS=[],n.cueRanges=[],n.captionsTracks={},n.captionsProperties={textTrack1:{label:n.config.captionsTextTrack1Label,languageCode:n.config.captionsTextTrack1LanguageCode},textTrack2:{label:n.config.captionsTextTrack2Label,languageCode:n.config.captionsTextTrack2LanguageCode}},n.config.enableCEA708Captions){var r=new l.default(n,"textTrack1"),i=new l.default(n,"textTrack2");n.cea608Parser=new u.default(0,r,i)}return n}return o(n,e),n.prototype.addCues=function(t,e,n,r){for(var o=this.cueRanges,a=!1,s=o.length;s--;){var u=o[s],l=i(u[0],u[1],e,n);if(l>=0&&(u[0]=Math.min(u[0],e),u[1]=Math.max(u[1],n),a=!0,l/(n-e)>.5))return}a||o.push([e,n]),this.Cues.newCue(this.captionsTracks[t],e,n,r)},n.prototype.onInitPtsFound=function(t){var e=this;if("main"===t.id&&(this.initPTS[t.frag.cc]=t.initPTS),this.unparsedVttFrags.length){var n=this.unparsedVttFrags;this.unparsedVttFrags=[],n.forEach((function(t){e.onFragLoaded(t)}))}},n.prototype.getExistingTrack=function(t){var e=this.media;if(e)for(var n=0;n<e.textTracks.length;n++){var r=e.textTracks[n];if(r[t])return r}return null},n.prototype.createCaptionsTrack=function(t){var e=this.captionsProperties[t],n=e.label,r=e.languageCode,i=this.captionsTracks;if(!i[t]){var o=this.getExistingTrack(t);if(o)i[t]=o,h.clearCurrentCues(i[t]),h.sendAddTrackEvent(i[t],this.media);else{var a=this.createTextTrack("captions",n,r);a&&(a[t]=!0,i[t]=a)}}},n.prototype.createTextTrack=function(t,e,n){var r=this.media;if(r)return r.addTextTrack(t,e,n)},n.prototype.destroy=function(){s.default.prototype.destroy.call(this)},n.prototype.onMediaAttaching=function(t){this.media=t.media,this._cleanTracks()},n.prototype.onMediaDetaching=function(){var t=this.captionsTracks;Object.keys(t).forEach((function(e){h.clearCurrentCues(t[e]),delete t[e]}))},n.prototype.onManifestLoading=function(){this.lastSn=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!1}},this._cleanTracks()},n.prototype._cleanTracks=function(){var t=this.media;if(t){var e=t.textTracks;if(e)for(var n=0;n<e.length;n++)h.clearCurrentCues(e[n])}},n.prototype.onManifestLoaded=function(t){var e=this;if(this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=[],this.cueRanges=[],this.config.enableWebVTT){this.tracks=t.subtitles||[];var n=this.media?this.media.textTracks:[];this.tracks.forEach((function(t,i){var o;if(i<n.length){for(var a=null,s=0;s<n.length;s++)if(r(n[s],t)){a=n[s];break}a&&(o=a)}o||(o=e.createTextTrack("subtitles",t.name,t.lang)),t.default?o.mode=e.hls.subtitleDisplay?"showing":"hidden":o.mode="disabled",e.textTracks.push(o)}))}},n.prototype.onLevelSwitching=function(){this.enabled="NONE"!==this.hls.currentLevel.closedCaptions},n.prototype.onFragLoaded=function(e){var n=e.frag,r=e.payload;if("main"===n.type){var i=n.sn;if(i!==this.lastSn+1){var o=this.cea608Parser;o&&o.reset()}this.lastSn=i}else if("subtitle"===n.type)if(r.byteLength){if(!t.isFinite(this.initPTS[n.cc]))return this.unparsedVttFrags.push(e),void(this.initPTS.length&&this.hls.trigger(a.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n}));var s=n.decryptdata;null!=s&&null!=s.key&&"AES-128"===s.method||this._parseVTTs(n,r)}else this.hls.trigger(a.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n})},n.prototype._parseVTTs=function(t,e){var n=this.vttCCs;n[t.cc]||(n[t.cc]={start:t.start,prevCC:this.prevCC,new:!0},this.prevCC=t.cc);var r=this.textTracks,i=this.hls;c.default.parse(e,this.initPTS[t.cc],n,t.cc,(function(e){var n=r[t.level];return"disabled"===n.mode?void i.trigger(a.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t}):(e.forEach((function(t){if(!n.cues.getCueById(t.id))try{n.addCue(t)}catch(r){var e=new window.TextTrackCue(t.startTime,t.endTime,t.text);e.id=t.id,n.addCue(e)}})),void i.trigger(a.default.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:t}))}),(function(e){d.logger.log("Failed to parse VTT cue: "+e),i.trigger(a.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t})}))},n.prototype.onFragDecrypted=function(e){var n=e.payload,r=e.frag;if("subtitle"===r.type){if(!t.isFinite(this.initPTS[r.cc]))return void this.unparsedVttFrags.push(e);this._parseVTTs(r,n)}},n.prototype.onFragParsingUserdata=function(t){if(this.enabled&&this.config.enableCEA708Captions)for(var e=0;e<t.samples.length;e++){var n=this.extractCea608Data(t.samples[e].bytes);this.cea608Parser.addData(t.samples[e].pts,n)}},n.prototype.extractCea608Data=function(t){for(var e,n,r,i=31&t[0],o=2,a=[],s=0;s<i;s++)e=t[o++],n=127&t[o++],r=127&t[o++],0===n&&0===r||0!=(4&e)&&0==(3&e)&&(a.push(n),a.push(r));return a},n}(s.default);e.default=f}).call(this,n(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/crypt/aes-crypto.js":
/*!*********************************!*\
	  !*** ./src/crypt/aes-crypto.js ***!
	  \*********************************/
/*! no static exports found */ /*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){this.subtle=t,this.aesIV=e}return t.prototype.decrypt=function(t,e){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},e,t)},t}();e.default=r},"./src/crypt/aes-decryptor.js":
/*!************************************!*\
	  !*** ./src/crypt/aes-decryptor.js ***!
	  \************************************/
/*! no static exports found */ /*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,n){"use strict";function r(t){var e=t.byteLength,n=e&&new DataView(t).getUint8(e-1);return n?t.slice(0,e-n):t}Object.defineProperty(e,"__esModule",{value:!0}),e.removePadding=r;var i=function(){function t(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.initTable()}return t.prototype.uint8ArrayToUint32Array_=function(t){for(var e=new DataView(t),n=new Uint32Array(4),r=0;r<4;r++)n[r]=e.getUint32(4*r);return n},t.prototype.initTable=function(){var t=this.sBox,e=this.invSBox,n=this.subMix,r=n[0],i=n[1],o=n[2],a=n[3],s=this.invSubMix,u=s[0],l=s[1],c=s[2],d=s[3],h=new Uint32Array(256),f=0,p=0,g=0;for(g=0;g<256;g++)h[g]=g<128?g<<1:g<<1^283;for(g=0;g<256;g++){var m=p^p<<1^p<<2^p<<3^p<<4;m=m>>>8^255&m^99,t[f]=m,e[m]=f;var v=h[f],y=h[v],_=h[y],b=257*h[m]^16843008*m;r[f]=b<<24|b>>>8,i[f]=b<<16|b>>>16,o[f]=b<<8|b>>>24,a[f]=b,b=16843009*_^65537*y^257*v^16843008*f,u[m]=b<<24|b>>>8,l[m]=b<<16|b>>>16,c[m]=b<<8|b>>>24,d[m]=b,f?(f=v^h[h[h[_^v]]],p^=h[h[p]]):f=p=1}},t.prototype.expandKey=function(t){for(var e=this.uint8ArrayToUint32Array_(t),n=!0,r=0;r<e.length&&n;)n=e[r]===this.key[r],r++;if(!n){this.key=e;var i=this.keySize=e.length;if(4!==i&&6!==i&&8!==i)throw new Error("Invalid aes key size="+i);var o,a,s,u,l=this.ksRows=4*(i+6+1),c=this.keySchedule=new Uint32Array(l),d=this.invKeySchedule=new Uint32Array(l),h=this.sBox,f=this.rcon,p=this.invSubMix,g=p[0],m=p[1],v=p[2],y=p[3];for(o=0;o<l;o++)o<i?s=c[o]=e[o]:(u=s,o%i==0?(u=h[(u=u<<8|u>>>24)>>>24]<<24|h[u>>>16&255]<<16|h[u>>>8&255]<<8|h[255&u],u^=f[o/i|0]<<24):i>6&&o%i==4&&(u=h[u>>>24]<<24|h[u>>>16&255]<<16|h[u>>>8&255]<<8|h[255&u]),c[o]=s=(c[o-i]^u)>>>0);for(a=0;a<l;a++)o=l-a,u=3&a?c[o]:c[o-4],d[a]=a<4||o<=4?u:g[h[u>>>24]]^m[h[u>>>16&255]]^v[h[u>>>8&255]]^y[h[255&u]],d[a]=d[a]>>>0}},t.prototype.networkToHostOrderSwap=function(t){return t<<24|(65280&t)<<8|(16711680&t)>>8|t>>>24},t.prototype.decrypt=function(t,e,n,i){for(var o,a,s,u,l,c,d,h,f,p,g,m,v,y,_=this.keySize+6,b=this.invKeySchedule,E=this.invSBox,A=this.invSubMix,T=A[0],S=A[1],w=A[2],C=A[3],k=this.uint8ArrayToUint32Array_(n),D=k[0],x=k[1],L=k[2],P=k[3],I=new Int32Array(t),R=new Int32Array(I.length),O=this.networkToHostOrderSwap;e<I.length;){for(f=O(I[e]),p=O(I[e+1]),g=O(I[e+2]),m=O(I[e+3]),l=f^b[0],c=m^b[1],d=g^b[2],h=p^b[3],v=4,y=1;y<_;y++)o=T[l>>>24]^S[c>>16&255]^w[d>>8&255]^C[255&h]^b[v],a=T[c>>>24]^S[d>>16&255]^w[h>>8&255]^C[255&l]^b[v+1],s=T[d>>>24]^S[h>>16&255]^w[l>>8&255]^C[255&c]^b[v+2],u=T[h>>>24]^S[l>>16&255]^w[c>>8&255]^C[255&d]^b[v+3],l=o,c=a,d=s,h=u,v+=4;o=E[l>>>24]<<24^E[c>>16&255]<<16^E[d>>8&255]<<8^E[255&h]^b[v],a=E[c>>>24]<<24^E[d>>16&255]<<16^E[h>>8&255]<<8^E[255&l]^b[v+1],s=E[d>>>24]<<24^E[h>>16&255]<<16^E[l>>8&255]<<8^E[255&c]^b[v+2],u=E[h>>>24]<<24^E[l>>16&255]<<16^E[c>>8&255]<<8^E[255&d]^b[v+3],v+=3,R[e]=O(o^D),R[e+1]=O(u^x),R[e+2]=O(s^L),R[e+3]=O(a^P),D=f,x=p,L=g,P=m,e+=4}return i?r(R.buffer):R.buffer},t.prototype.destroy=function(){this.key=void 0,this.keySize=void 0,this.ksRows=void 0,this.sBox=void 0,this.invSBox=void 0,this.subMix=void 0,this.invSubMix=void 0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.rcon=void 0},t}();e.default=i},"./src/crypt/decrypter.js":
/*!********************************!*\
	  !*** ./src/crypt/decrypter.js ***!
	  \********************************/
/*! no static exports found */ /*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(/*! ./aes-crypto */"./src/crypt/aes-crypto.js"),i=n(/*! ./fast-aes-key */"./src/crypt/fast-aes-key.js"),o=n(/*! ./aes-decryptor */"./src/crypt/aes-decryptor.js"),a=n(/*! ../errors */"./src/errors.js"),s=n(/*! ../utils/logger */"./src/utils/logger.js"),u=n(/*! ../events */"./src/events.js"),l=n(/*! ../utils/get-self-scope */"./src/utils/get-self-scope.js").getSelfScope(),c=function(){function t(t,e,n){var r=(void 0===n?{}:n).removePKCS7Padding,i=void 0===r||r;if(this.logEnabled=!0,this.observer=t,this.config=e,this.removePKCS7Padding=i,i)try{var o=l.crypto;o&&(this.subtle=o.subtle||o.webkitSubtle)}catch(t){}this.disableWebCrypto=!this.subtle}return t.prototype.isSync=function(){return this.disableWebCrypto&&this.config.enableSoftwareAES},t.prototype.decrypt=function(t,e,n,a){var u=this;if(this.disableWebCrypto&&this.config.enableSoftwareAES){this.logEnabled&&(s.logger.log("JS AES decrypt"),this.logEnabled=!1);var l=this.decryptor;l||(this.decryptor=l=new o.default),l.expandKey(e),a(l.decrypt(t,0,n,this.removePKCS7Padding))}else{this.logEnabled&&(s.logger.log("WebCrypto AES decrypt"),this.logEnabled=!1);var c=this.subtle;this.key!==e&&(this.key=e,this.fastAesKey=new i.default(c,e)),this.fastAesKey.expandKey().then((function(i){new r.default(c,n).decrypt(t,i).catch((function(r){u.onWebCryptoError(r,t,e,n,a)})).then((function(t){a(t)}))})).catch((function(r){u.onWebCryptoError(r,t,e,n,a)}))}},t.prototype.onWebCryptoError=function(t,e,n,r,i){this.config.enableSoftwareAES?(s.logger.log("WebCrypto Error, disable WebCrypto API"),this.disableWebCrypto=!0,this.logEnabled=!0,this.decrypt(e,n,r,i)):(s.logger.error("decrypting error : "+t.message),this.observer.trigger(u.default.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.FRAG_DECRYPT_ERROR,fatal:!0,reason:t.message}))},t.prototype.destroy=function(){var t=this.decryptor;t&&(t.destroy(),this.decryptor=void 0)},t}();e.default=c},"./src/crypt/fast-aes-key.js":
/*!***********************************!*\
	  !*** ./src/crypt/fast-aes-key.js ***!
	  \***********************************/
/*! no static exports found */ /*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){this.subtle=t,this.key=e}return t.prototype.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},t}();e.default=r},"./src/demux/aacdemuxer.js":
/*!*********************************!*\
	  !*** ./src/demux/aacdemuxer.js ***!
	  \*********************************/
/*! no static exports found */ /*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r=n(/*! ./adts */"./src/demux/adts.js"),i=n(/*! ../utils/logger */"./src/utils/logger.js"),o=n(/*! ../demux/id3 */"./src/demux/id3.js"),a=function(){function e(t,e,n){this.observer=t,this.config=n,this.remuxer=e}return e.prototype.resetInitSegment=function(t,e,n,r){this._audioTrack={container:"audio/adts",type:"audio",id:0,sequenceNumber:0,isAAC:!0,samples:[],len:0,manifestCodec:e,duration:r,inputTimeScale:9e4}},e.prototype.resetTimeStamp=function(){},e.probe=function(t){if(!t)return!1;for(var e=(o.default.getID3Data(t,0)||[]).length,n=t.length;e<n;e++)if(r.probe(t,e))return i.logger.log("ADTS sync word found !"),!0;return!1},e.prototype.append=function(e,n,a,s){for(var u=this._audioTrack,l=o.default.getID3Data(e,0)||[],c=o.default.getTimeStamp(l),d=t.isFinite(c)?90*c:9e4*n,h=0,f=d,p=e.length,g=l.length,m=[{pts:f,dts:f,data:l}];g<p-1;)if(r.isHeader(e,g)&&g+5<p){r.initTrackConfig(u,this.observer,e,g,u.manifestCodec);var v=r.appendFrame(u,e,g,d,h);if(!v){i.logger.log("Unable to parse AAC frame");break}g+=v.length,f=v.sample.pts,h++}else o.default.isHeader(e,g)?(l=o.default.getID3Data(e,g),m.push({pts:f,dts:f,data:l}),g+=l.length):g++;this.remuxer.remux(u,{samples:[]},{samples:m,inputTimeScale:9e4},{samples:[]},n,a,s)},e.prototype.destroy=function(){},e}();e.default=a}).call(this,n(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/demux/adts.js":
/*!***************************!*\
	  !*** ./src/demux/adts.js ***!
	  \***************************/
/*! no static exports found */ /*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,n){"use strict";function r(t,e,n,r){var i,o,a,s,u,h=navigator.userAgent.toLowerCase(),f=r,p=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];return i=1+((192&e[n+2])>>>6),(o=(60&e[n+2])>>>2)>p.length-1?void t.trigger(d.default.ERROR,{type:c.ErrorTypes.MEDIA_ERROR,details:c.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+o}):(s=(1&e[n+2])<<2,s|=(192&e[n+3])>>>6,l.logger.log("manifest codec:"+r+",ADTS data:type:"+i+",sampleingIndex:"+o+"["+p[o]+"Hz],channelConfig:"+s),/firefox/i.test(h)?o>=6?(i=5,u=new Array(4),a=o-3):(i=2,u=new Array(2),a=o):-1!==h.indexOf("android")?(i=2,u=new Array(2),a=o):(i=5,u=new Array(4),r&&(-1!==r.indexOf("mp4a.40.29")||-1!==r.indexOf("mp4a.40.5"))||!r&&o>=6?a=o-3:((r&&-1!==r.indexOf("mp4a.40.2")&&(o>=6&&1===s||/vivaldi/i.test(h))||!r&&1===s)&&(i=2,u=new Array(2)),a=o)),u[0]=i<<3,u[0]|=(14&o)>>1,u[1]|=(1&o)<<7,u[1]|=s<<3,5===i&&(u[1]|=(14&a)>>1,u[2]=(1&a)<<7,u[2]|=8,u[3]=0),{config:u,samplerate:p[o],channelCount:s,codec:"mp4a.40."+i,manifestCodec:f})}function i(t,e){return 255===t[e]&&240==(246&t[e+1])}function o(t,e){return 1&t[e+1]?7:9}function a(t,e){return(3&t[e+3])<<11|t[e+4]<<3|(224&t[e+5])>>>5}function s(t){return 9216e4/t}function u(t,e,n,r,i){var s,u,l=t.length;if(s=o(t,e),u=a(t,e),(u-=s)>0&&e+s+u<=l)return{headerLength:s,frameLength:u,stamp:n+r*i}}Object.defineProperty(e,"__esModule",{value:!0});var l=n(/*! ../utils/logger */"./src/utils/logger.js"),c=n(/*! ../errors */"./src/errors.js"),d=n(/*! ../events */"./src/events.js");e.getAudioConfig=r,e.isHeaderPattern=i,e.getHeaderLength=o,e.getFullFrameLength=a,e.isHeader=function(t,e){return!!(e+1<t.length&&i(t,e))},e.probe=function(t,e){if(e+1<t.length&&i(t,e)){var n=o(t,e);e+5<t.length&&(n=a(t,e));var r=e+n;if(r===t.length||r+1<t.length&&i(t,r))return!0}return!1},e.initTrackConfig=function(t,e,n,i,o){if(!t.samplerate){var a=r(e,n,i,o);t.config=a.config,t.samplerate=a.samplerate,t.channelCount=a.channelCount,t.codec=a.codec,t.manifestCodec=a.manifestCodec,l.logger.log("parsed codec:"+t.codec+",rate:"+a.samplerate+",nb channel:"+a.channelCount)}},e.getFrameDuration=s,e.parseFrameHeader=u,e.appendFrame=function(t,e,n,r,i){var o=u(e,n,r,i,s(t.samplerate));if(o){var a=o.stamp,l=o.headerLength,c=o.frameLength,d={unit:e.subarray(n+l,n+l+c),pts:a,dts:a};return t.samples.push(d),t.len+=c,{sample:d,length:c+l}}}},"./src/demux/demuxer-inline.js":
/*!*************************************!*\
	  !*** ./src/demux/demuxer-inline.js ***!
	  \*************************************/
/*! no static exports found */ /*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(/*! ../events */"./src/events.js"),o=n(/*! ../errors */"./src/errors.js"),a=n(/*! ../crypt/decrypter */"./src/crypt/decrypter.js"),s=n(/*! ../demux/aacdemuxer */"./src/demux/aacdemuxer.js"),u=n(/*! ../demux/mp4demuxer */"./src/demux/mp4demuxer.js"),l=n(/*! ../demux/tsdemuxer */"./src/demux/tsdemuxer.js"),c=n(/*! ../demux/mp3demuxer */"./src/demux/mp3demuxer.js"),d=n(/*! ../remux/mp4-remuxer */"./src/remux/mp4-remuxer.js"),h=n(/*! ../remux/passthrough-remuxer */"./src/remux/passthrough-remuxer.js"),f=n(/*! ../utils/get-self-scope */"./src/utils/get-self-scope.js"),p=n(/*! ../utils/logger */"./src/utils/logger.js"),g=f.getSelfScope();try{r=g.performance.now.bind(g.performance)}catch(t){p.logger.debug("Unable to use Performance API on this environment"),r=g.Date.now}var m=function(){function t(t,e,n,r){this.observer=t,this.typeSupported=e,this.config=n,this.vendor=r}return t.prototype.destroy=function(){var t=this.demuxer;t&&t.destroy()},t.prototype.push=function(t,e,n,o,s,u,l,c,d,h,f,p){var g=this;if(t.byteLength>0&&null!=e&&null!=e.key&&"AES-128"===e.method){var m=this.decrypter;null==m&&(m=this.decrypter=new a.default(this.observer,this.config));var v=r();m.decrypt(t,e.key.buffer,e.iv.buffer,(function(t){var a=r();g.observer.trigger(i.default.FRAG_DECRYPTED,{stats:{tstart:v,tdecrypt:a}}),g.pushDecrypted(new Uint8Array(t),e,new Uint8Array(n),o,s,u,l,c,d,h,f,p)}))}else this.pushDecrypted(new Uint8Array(t),e,new Uint8Array(n),o,s,u,l,c,d,h,f,p)},t.prototype.pushDecrypted=function(t,e,n,r,a,f,p,g,m,v,y,_){var b=this.demuxer;if(!b||(p||g)&&!this.probe(t)){for(var E=this.observer,A=this.typeSupported,T=this.config,S=[{demux:l.default,remux:d.default},{demux:u.default,remux:h.default},{demux:s.default,remux:d.default},{demux:c.default,remux:d.default}],w=0,C=S.length;w<C;w++){var k=S[w],D=k.demux.probe;if(D(t)){var x=this.remuxer=new k.remux(E,T,A,this.vendor);b=new k.demux(E,x,T,A),this.probe=D;break}}if(!b)return void E.trigger(i.default.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"});this.demuxer=b}var L=this.remuxer;(p||g)&&(b.resetInitSegment(n,r,a,v),L.resetInitSegment()),p&&(b.resetTimeStamp(_),L.resetTimeStamp(_)),"function"==typeof b.setDecryptData&&b.setDecryptData(e),b.append(t,f,m,y)},t}();e.default=m},"./src/demux/demuxer-worker.js":
/*!*************************************!*\
	  !*** ./src/demux/demuxer-worker.js ***!
	  \*************************************/
/*! no static exports found */ /*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(/*! ../demux/demuxer-inline */"./src/demux/demuxer-inline.js"),i=n(/*! ../events */"./src/events.js"),o=n(/*! ../utils/logger */"./src/utils/logger.js"),a=n(/*! events */"./node_modules/node-libs-browser/node_modules/events/events.js");e.default=function(t){var e=new a.EventEmitter;e.trigger=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];e.emit.apply(e,[t,t].concat(n))},e.off=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];e.removeListener.apply(e,[t].concat(n))};var n=function(e,n){t.postMessage({event:e,data:n})};t.addEventListener("message",(function(i){var a=i.data;switch(a.cmd){case"init":var s=JSON.parse(a.config);t.demuxer=new r.default(e,a.typeSupported,s,a.vendor),o.enableLogs(s.debug),n("init",null);break;case"demux":t.demuxer.push(a.data,a.decryptdata,a.initSegment,a.audioCodec,a.videoCodec,a.timeOffset,a.discontinuity,a.trackSwitch,a.contiguous,a.duration,a.accurateTimeOffset,a.defaultInitPTS)}})),e.on(i.default.FRAG_DECRYPTED,n),e.on(i.default.FRAG_PARSING_INIT_SEGMENT,n),e.on(i.default.FRAG_PARSED,n),e.on(i.default.ERROR,n),e.on(i.default.FRAG_PARSING_METADATA,n),e.on(i.default.FRAG_PARSING_USERDATA,n),e.on(i.default.INIT_PTS_FOUND,n),e.on(i.default.FRAG_PARSING_DATA,(function(e,n){var r=[],i={event:e,data:n};n.data1&&(i.data1=n.data1.buffer,r.push(n.data1.buffer),delete n.data1),n.data2&&(i.data2=n.data2.buffer,r.push(n.data2.buffer),delete n.data2),t.postMessage(i,r)}))}},"./src/demux/demuxer.js":
/*!******************************!*\
	  !*** ./src/demux/demuxer.js ***!
	  \******************************/
/*! no static exports found */ /*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r=n(/*! webworkify-webpack */"./node_modules/webworkify-webpack/index.js"),i=n(/*! ../events */"./src/events.js"),o=n(/*! ../demux/demuxer-inline */"./src/demux/demuxer-inline.js"),a=n(/*! ../utils/logger */"./src/utils/logger.js"),s=n(/*! ../errors */"./src/errors.js"),u=n(/*! ../utils/mediasource-helper */"./src/utils/mediasource-helper.js"),l=n(/*! ../utils/get-self-scope */"./src/utils/get-self-scope.js"),c=n(/*! ../observer */"./src/observer.js"),d=l.getSelfScope(),h=u.getMediaSource(),f=function(){function e(t,e){var n=this;this.hls=t,this.id=e;var u=this.observer=new c.Observer,l=t.config,f=function(e,r){(r=r||{}).frag=n.frag,r.id=n.id,t.trigger(e,r)};u.on(i.default.FRAG_DECRYPTED,f),u.on(i.default.FRAG_PARSING_INIT_SEGMENT,f),u.on(i.default.FRAG_PARSING_DATA,f),u.on(i.default.FRAG_PARSED,f),u.on(i.default.ERROR,f),u.on(i.default.FRAG_PARSING_METADATA,f),u.on(i.default.FRAG_PARSING_USERDATA,f),u.on(i.default.INIT_PTS_FOUND,f);var p={mp4:h.isTypeSupported("video/mp4"),mpeg:h.isTypeSupported("audio/mpeg"),mp3:h.isTypeSupported('audio/mp4; codecs="mp3"')},g=navigator.vendor;if(l.enableWorker&&"undefined"!=typeof Worker){a.logger.log("demuxing in webworker");var m=void 0;try{m=this.w=r("./src/demux/demuxer-worker.js"),this.onwmsg=this.onWorkerMessage.bind(this),m.addEventListener("message",this.onwmsg),m.onerror=function(e){t.trigger(i.default.ERROR,{type:s.ErrorTypes.OTHER_ERROR,details:s.ErrorDetails.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",err:{message:e.message+" ("+e.filename+":"+e.lineno+")"}})},m.postMessage({cmd:"init",typeSupported:p,vendor:g,id:e,config:JSON.stringify(l)})}catch(t){a.logger.warn("Error in worker:",t),a.logger.error("Error while initializing DemuxerWorker, fallback on DemuxerInline"),m&&d.URL.revokeObjectURL(m.objectURL),this.demuxer=new o.default(u,p,l,g),this.w=void 0}}else this.demuxer=new o.default(u,p,l,g)}return e.prototype.destroy=function(){var t=this.w;if(t)t.removeEventListener("message",this.onwmsg),t.terminate(),this.w=null;else{var e=this.demuxer;e&&(e.destroy(),this.demuxer=null)}var n=this.observer;n&&(n.removeAllListeners(),this.observer=null)},e.prototype.push=function(e,n,r,i,o,s,u,l){var c=this.w,d=t.isFinite(o.startPTS)?o.startPTS:o.start,h=o.decryptdata,f=this.frag,p=!(f&&o.cc===f.cc),g=!(f&&o.level===f.level),m=f&&o.sn===f.sn+1,v=!g&&m;if(p&&a.logger.log(this.id+":discontinuity detected"),g&&a.logger.log(this.id+":switch detected"),this.frag=o,c)c.postMessage({cmd:"demux",data:e,decryptdata:h,initSegment:n,audioCodec:r,videoCodec:i,timeOffset:d,discontinuity:p,trackSwitch:g,contiguous:v,duration:s,accurateTimeOffset:u,defaultInitPTS:l},e instanceof ArrayBuffer?[e]:[]);else{var y=this.demuxer;y&&y.push(e,h,n,r,i,d,p,g,v,s,u,l)}},e.prototype.onWorkerMessage=function(t){var e=t.data,n=this.hls;switch(e.event){case"init":d.URL.revokeObjectURL(this.w.objectURL);break;case i.default.FRAG_PARSING_DATA:e.data.data1=new Uint8Array(e.data1),e.data2&&(e.data.data2=new Uint8Array(e.data2));default:e.data=e.data||{},e.data.frag=this.frag,e.data.id=this.id,n.trigger(e.event,e.data)}},e}();e.default=f}).call(this,n(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/demux/exp-golomb.js":
/*!*********************************!*\
	  !*** ./src/demux/exp-golomb.js ***!
	  \*********************************/
/*! no static exports found */ /*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(/*! ../utils/logger */"./src/utils/logger.js"),i=function(){function t(t){this.data=t,this.bytesAvailable=t.byteLength,this.word=0,this.bitsAvailable=0}return t.prototype.loadWord=function(){var t=this.data,e=this.bytesAvailable,n=t.byteLength-e,r=new Uint8Array(4),i=Math.min(4,e);if(0===i)throw new Error("no bytes available");r.set(t.subarray(n,n+i)),this.word=new DataView(r.buffer).getUint32(0),this.bitsAvailable=8*i,this.bytesAvailable-=i},t.prototype.skipBits=function(t){var e;this.bitsAvailable>t?(this.word<<=t,this.bitsAvailable-=t):(t-=this.bitsAvailable,t-=(e=t>>3)>>3,this.bytesAvailable-=e,this.loadWord(),this.word<<=t,this.bitsAvailable-=t)},t.prototype.readBits=function(t){var e=Math.min(this.bitsAvailable,t),n=this.word>>>32-e;return t>32&&r.logger.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=e,this.bitsAvailable>0?this.word<<=e:this.bytesAvailable>0&&this.loadWord(),(e=t-e)>0&&this.bitsAvailable?n<<e|this.readBits(e):n},t.prototype.skipLZ=function(){var t;for(t=0;t<this.bitsAvailable;++t)if(0!=(this.word&2147483648>>>t))return this.word<<=t,this.bitsAvailable-=t,t;return this.loadWord(),t+this.skipLZ()},t.prototype.skipUEG=function(){this.skipBits(1+this.skipLZ())},t.prototype.skipEG=function(){this.skipBits(1+this.skipLZ())},t.prototype.readUEG=function(){var t=this.skipLZ();return this.readBits(t+1)-1},t.prototype.readEG=function(){var t=this.readUEG();return 1&t?1+t>>>1:-1*(t>>>1)},t.prototype.readBoolean=function(){return 1===this.readBits(1)},t.prototype.readUByte=function(){return this.readBits(8)},t.prototype.readUShort=function(){return this.readBits(16)},t.prototype.readUInt=function(){return this.readBits(32)},t.prototype.skipScalingList=function(t){var e,n=8,r=8;for(e=0;e<t;e++)0!==r&&(r=(n+this.readEG()+256)%256),n=0===r?n:r},t.prototype.readSPS=function(){var t,e,n,r,i,o,a,s=0,u=0,l=0,c=0,d=this.readUByte.bind(this),h=this.readBits.bind(this),f=this.readUEG.bind(this),p=this.readBoolean.bind(this),g=this.skipBits.bind(this),m=this.skipEG.bind(this),v=this.skipUEG.bind(this),y=this.skipScalingList.bind(this);if(d(),t=d(),h(5),g(3),d(),v(),100===t||110===t||122===t||244===t||44===t||83===t||86===t||118===t||128===t){var _=f();if(3===_&&g(1),v(),v(),g(1),p())for(o=3!==_?8:12,a=0;a<o;a++)p()&&y(a<6?16:64)}v();var b=f();if(0===b)f();else if(1===b)for(g(1),m(),m(),e=f(),a=0;a<e;a++)m();v(),g(1),n=f(),r=f(),0===(i=h(1))&&g(1),g(1),p()&&(s=f(),u=f(),l=f(),c=f());var E=[1,1];if(p()&&p())switch(d()){case 1:E=[1,1];break;case 2:E=[12,11];break;case 3:E=[10,11];break;case 4:E=[16,11];break;case 5:E=[40,33];break;case 6:E=[24,11];break;case 7:E=[20,11];break;case 8:E=[32,11];break;case 9:E=[80,33];break;case 10:E=[18,11];break;case 11:E=[15,11];break;case 12:E=[64,33];break;case 13:E=[160,99];break;case 14:E=[4,3];break;case 15:E=[3,2];break;case 16:E=[2,1];break;case 255:E=[d()<<8|d(),d()<<8|d()]}return{width:Math.ceil(16*(n+1)-2*s-2*u),height:(2-i)*(r+1)*16-(i?2:4)*(l+c),pixelRatio:E}},t.prototype.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},t}();e.default=i},"./src/demux/id3.js":
/*!**************************!*\
	  !*** ./src/demux/id3.js ***!
	  \**************************/
/*! no static exports found */ /*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.isHeader=function(t,e){return e+10<=t.length&&73===t[e]&&68===t[e+1]&&51===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128},t.isFooter=function(t,e){return e+10<=t.length&&51===t[e]&&68===t[e+1]&&73===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128},t.getID3Data=function(e,n){for(var r=n,i=0;t.isHeader(e,n);)i+=10,i+=t._readSize(e,n+6),t.isFooter(e,n+10)&&(i+=10),n+=i;if(i>0)return e.subarray(r,r+i)},t._readSize=function(t,e){var n=0;return n=(127&t[e])<<21,n|=(127&t[e+1])<<14,(n|=(127&t[e+2])<<7)|127&t[e+3]},t.getTimeStamp=function(e){for(var n=t.getID3Frames(e),r=0;r<n.length;r++){var i=n[r];if(t.isTimeStampFrame(i))return t._readTimeStamp(i)}},t.isTimeStampFrame=function(t){return t&&"PRIV"===t.key&&"com.apple.streaming.transportStreamTimestamp"===t.info},t._getFrameData=function(e){var n=String.fromCharCode(e[0],e[1],e[2],e[3]),r=t._readSize(e,4);return{type:n,size:r,data:e.subarray(10,10+r)}},t.getID3Frames=function(e){for(var n=0,r=[];t.isHeader(e,n);){for(var i=t._readSize(e,n+6),o=(n+=10)+i;n+8<o;){var a=t._getFrameData(e.subarray(n)),s=t._decodeFrame(a);s&&r.push(s),n+=a.size+10}t.isFooter(e,n)&&(n+=10)}return r},t._decodeFrame=function(e){return"PRIV"===e.type?t._decodePrivFrame(e):"T"===e.type[0]?t._decodeTextFrame(e):"W"===e.type[0]?t._decodeURLFrame(e):void 0},t._readTimeStamp=function(t){if(8===t.data.byteLength){var e=new Uint8Array(t.data),n=1&e[3],r=(e[4]<<23)+(e[5]<<15)+(e[6]<<7)+e[7];return r/=45,n&&(r+=47721858.84),Math.round(r)}},t._decodePrivFrame=function(e){if(!(e.size<2)){var n=t._utf8ArrayToStr(e.data,!0),r=new Uint8Array(e.data.subarray(n.length+1));return{key:e.type,info:n,data:r.buffer}}},t._decodeTextFrame=function(e){if(!(e.size<2)){if("TXXX"===e.type){var n=1,r=t._utf8ArrayToStr(e.data.subarray(n));n+=r.length+1;var i=t._utf8ArrayToStr(e.data.subarray(n));return{key:e.type,info:r,data:i}}var o=t._utf8ArrayToStr(e.data.subarray(1));return{key:e.type,data:o}}},t._decodeURLFrame=function(e){if("WXXX"===e.type){if(e.size<2)return;var n=1,r=t._utf8ArrayToStr(e.data.subarray(n));n+=r.length+1;var i=t._utf8ArrayToStr(e.data.subarray(n));return{key:e.type,info:r,data:i}}var o=t._utf8ArrayToStr(e.data);return{key:e.type,data:o}},t._utf8ArrayToStr=function(t,e){void 0===e&&(e=!1);for(var n,r,i,o=t.length,a="",s=0;s<o;){if(0===(n=t[s++])&&e)return a;if(0!==n&&3!==n)switch(n>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:a+=String.fromCharCode(n);break;case 12:case 13:r=t[s++],a+=String.fromCharCode((31&n)<<6|63&r);break;case 14:r=t[s++],i=t[s++],a+=String.fromCharCode((15&n)<<12|(63&r)<<6|(63&i)<<0)}}return a},t}(),i=r._utf8ArrayToStr;e.utf8ArrayToStr=i,e.default=r},"./src/demux/mp3demuxer.js":
/*!*********************************!*\
	  !*** ./src/demux/mp3demuxer.js ***!
	  \*********************************/
/*! no static exports found */ /*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(/*! ../demux/id3 */"./src/demux/id3.js"),i=n(/*! ../utils/logger */"./src/utils/logger.js"),o=n(/*! ./mpegaudio */"./src/demux/mpegaudio.js"),a=function(){function t(t,e,n){this.observer=t,this.config=n,this.remuxer=e}return t.prototype.resetInitSegment=function(t,e,n,r){this._audioTrack={container:"audio/mpeg",type:"audio",id:-1,sequenceNumber:0,isAAC:!1,samples:[],len:0,manifestCodec:e,duration:r,inputTimeScale:9e4}},t.prototype.resetTimeStamp=function(){},t.probe=function(t){var e,n,a=r.default.getID3Data(t,0);if(a&&void 0!==r.default.getTimeStamp(a))for(e=a.length,n=Math.min(t.length-1,e+100);e<n;e++)if(o.default.probe(t,e))return i.logger.log("MPEG Audio sync word found !"),!0;return!1},t.prototype.append=function(t,e,n,i){for(var a=r.default.getID3Data(t,0),s=r.default.getTimeStamp(a),u=s?90*s:9e4*e,l=a.length,c=t.length,d=0,h=0,f=this._audioTrack,p=[{pts:u,dts:u,data:a}];l<c;)if(o.default.isHeader(t,l)){var g=o.default.appendFrame(f,t,l,u,d);if(!g)break;l+=g.length,h=g.sample.pts,d++}else r.default.isHeader(t,l)?(a=r.default.getID3Data(t,l),p.push({pts:h,dts:h,data:a}),l+=a.length):l++;this.remuxer.remux(f,{samples:[]},{samples:p,inputTimeScale:9e4},{samples:[]},e,n,i)},t.prototype.destroy=function(){},t}();e.default=a},"./src/demux/mp4demuxer.js":
/*!*********************************!*\
	  !*** ./src/demux/mp4demuxer.js ***!
	  \*********************************/
/*! no static exports found */ /*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(/*! ../utils/logger */"./src/utils/logger.js"),i=n(/*! ../events */"./src/events.js"),o=Math.pow(2,32)-1,a=function(){function t(t,e){this.observer=t,this.remuxer=e}return t.prototype.resetTimeStamp=function(t){this.initPTS=t},t.prototype.resetInitSegment=function(e,n,r,o){if(e&&e.byteLength){var a=this.initData=t.parseInitSegment(e);null==n&&(n="mp4a.40.5"),null==r&&(r="avc1.42e01e");var s={};a.audio&&a.video?s.audiovideo={container:"video/mp4",codec:n+","+r,initSegment:o?e:null}:(a.audio&&(s.audio={container:"audio/mp4",codec:n,initSegment:o?e:null}),a.video&&(s.video={container:"video/mp4",codec:r,initSegment:o?e:null})),this.observer.trigger(i.default.FRAG_PARSING_INIT_SEGMENT,{tracks:s})}else n&&(this.audioCodec=n),r&&(this.videoCodec=r)},t.probe=function(e){return t.findBox({data:e,start:0,end:Math.min(e.length,16384)},["moof"]).length>0},t.bin2str=function(t){return String.fromCharCode.apply(null,t)},t.readUint16=function(t,e){t.data&&(e+=t.start,t=t.data);var n=t[e]<<8|t[e+1];return n<0?65536+n:n},t.readUint32=function(t,e){t.data&&(e+=t.start,t=t.data);var n=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3];return n<0?4294967296+n:n},t.writeUint32=function(t,e,n){t.data&&(e+=t.start,t=t.data),t[e]=n>>24,t[e+1]=n>>16&255,t[e+2]=n>>8&255,t[e+3]=255&n},t.findBox=function(e,n){var r,i,o,a,s,u,l=[];if(e.data?(s=e.start,o=e.end,e=e.data):(s=0,o=e.byteLength),!n.length)return null;for(r=s;r<o;)u=(i=t.readUint32(e,r))>1?r+i:o,t.bin2str(e.subarray(r+4,r+8))===n[0]&&(1===n.length?l.push({data:e,start:r+8,end:u}):(a=t.findBox({data:e,start:r+8,end:u},n.slice(1))).length&&(l=l.concat(a))),r=u;return l},t.parseSegmentIndex=function(e){var n,r=t.findBox(e,["moov"])[0],i=r?r.end:null,o=0,a=t.findBox(e,["sidx"]);if(!a||!a[0])return null;n=[];var s=(a=a[0]).data[0];o=0===s?8:16;var u=t.readUint32(a,o);o+=4,o+=0===s?8:16,o+=2;var l=a.end+0,c=t.readUint16(a,o);o+=2;for(var d=0;d<c;d++){var h=o,f=t.readUint32(a,h);h+=4;var p=2147483647&f;if(1==(2147483648&f)>>>31)return void console.warn("SIDX has hierarchical references (not supported)");var g=t.readUint32(a,h);h+=4,n.push({referenceSize:p,subsegmentDuration:g,info:{duration:g/u,start:l,end:l+p-1}}),l+=p,o=h+=4}return{earliestPresentationTime:0,timescale:u,version:s,referencesCount:c,references:n,moovEndOffset:i}},t.parseInitSegment=function(e){var n=[];return t.findBox(e,["moov","trak"]).forEach((function(e){var i=t.findBox(e,["tkhd"])[0];if(i){var o=i.data[i.start],a=0===o?12:20,s=t.readUint32(i,a),u=t.findBox(e,["mdia","mdhd"])[0];if(u){a=0===(o=u.data[u.start])?12:20;var l=t.readUint32(u,a),c=t.findBox(e,["mdia","hdlr"])[0];if(c){var d={soun:"audio",vide:"video"}[t.bin2str(c.data.subarray(c.start+8,c.start+12))];if(d){var h=t.findBox(e,["mdia","minf","stbl","stsd"]);if(h.length){h=h[0];var f=t.bin2str(h.data.subarray(h.start+12,h.start+16));r.logger.log("MP4Demuxer:"+d+":"+f+" found")}n[s]={timescale:l,type:d},n[d]={timescale:l,id:s}}}}}})),n},t.getStartDTS=function(e,n){var r,i,o;return r=t.findBox(n,["moof","traf"]),i=[].concat.apply([],r.map((function(n){return t.findBox(n,["tfhd"]).map((function(r){var i,o;return i=t.readUint32(r,4),o=e[i].timescale||9e4,t.findBox(n,["tfdt"]).map((function(e){var n,r;return n=e.data[e.start],r=t.readUint32(e,4),1===n&&(r*=Math.pow(2,32),r+=t.readUint32(e,8)),r}))[0]/o}))}))),o=Math.min.apply(null,i),isFinite(o)?o:0},t.offsetStartDTS=function(e,n,r){t.findBox(n,["moof","traf"]).map((function(n){return t.findBox(n,["tfhd"]).map((function(i){var a=t.readUint32(i,4),s=e[a].timescale||9e4;t.findBox(n,["tfdt"]).map((function(e){var n=e.data[e.start],i=t.readUint32(e,4);if(0===n)t.writeUint32(e,4,i-r*s);else{i*=Math.pow(2,32),i+=t.readUint32(e,8),i-=r*s,i=Math.max(i,0);var a=Math.floor(i/(o+1)),u=Math.floor(i%(o+1));t.writeUint32(e,4,a),t.writeUint32(e,8,u)}}))}))}))},t.prototype.append=function(e,n,r,o){var a=this.initData;a||(this.resetInitSegment(e,this.audioCodec,this.videoCodec,!1),a=this.initData);var s,u=this.initPTS;if(void 0===u){var l=t.getStartDTS(a,e);this.initPTS=u=l-n,this.observer.trigger(i.default.INIT_PTS_FOUND,{initPTS:u})}t.offsetStartDTS(a,e,u),s=t.getStartDTS(a,e),this.remuxer.remux(a.audio,a.video,null,null,s,r,o,e)},t.prototype.destroy=function(){},t}();e.default=a},"./src/demux/mpegaudio.js":
/*!********************************!*\
	  !*** ./src/demux/mpegaudio.js ***!
	  \********************************/
/*! no static exports found */ /*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={BitratesMap:[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],SamplingRateMap:[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],SamplesCoefficients:[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],BytesInSlot:[0,1,1,4],appendFrame:function(t,e,n,r,i){if(!(n+24>e.length)){var o=this.parseHeader(e,n);if(o&&n+o.frameLength<=e.length){var a=r+i*(9e4*o.samplesPerFrame/o.sampleRate),s={unit:e.subarray(n,n+o.frameLength),pts:a,dts:a};return t.config=[],t.channelCount=o.channelCount,t.samplerate=o.sampleRate,t.samples.push(s),t.len+=o.frameLength,{sample:s,length:o.frameLength}}}},parseHeader:function(t,e){var n=t[e+1]>>3&3,i=t[e+1]>>1&3,o=t[e+2]>>4&15,a=t[e+2]>>2&3,s=t[e+2]>>1&1;if(1!==n&&0!==o&&15!==o&&3!==a){var u=3===n?3-i:3===i?3:4,l=1e3*r.BitratesMap[14*u+o-1],c=3===n?0:2===n?1:2,d=r.SamplingRateMap[3*c+a],h=t[e+3]>>6==3?1:2,f=r.SamplesCoefficients[n][i],p=r.BytesInSlot[i],g=8*f*p;return{sampleRate:d,channelCount:h,frameLength:parseInt(f*l/d+s,10)*p,samplesPerFrame:g}}},isHeaderPattern:function(t,e){return 255===t[e]&&224==(224&t[e+1])&&0!=(6&t[e+1])},isHeader:function(t,e){return!!(e+1<t.length&&this.isHeaderPattern(t,e))},probe:function(t,e){if(e+1<t.length&&this.isHeaderPattern(t,e)){var n=this.parseHeader(t,e),r=4;n&&n.frameLength&&(r=n.frameLength);var i=e+r;if(i===t.length||i+1<t.length&&this.isHeaderPattern(t,i))return!0}return!1}};e.default=r},"./src/demux/sample-aes.js":
/*!*********************************!*\
	  !*** ./src/demux/sample-aes.js ***!
	  \*********************************/
/*! no static exports found */ /*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(/*! ../crypt/decrypter */"./src/crypt/decrypter.js"),i=function(){function t(t,e,n,i){this.decryptdata=n,this.discardEPB=i,this.decrypter=new r.default(t,e,{removePKCS7Padding:!1})}return t.prototype.decryptBuffer=function(t,e){this.decrypter.decrypt(t,this.decryptdata.key.buffer,this.decryptdata.iv.buffer,e)},t.prototype.decryptAacSample=function(t,e,n,r){var i=t[e].unit,o=i.subarray(16,i.length-i.length%16),a=o.buffer.slice(o.byteOffset,o.byteOffset+o.length),s=this;this.decryptBuffer(a,(function(o){o=new Uint8Array(o),i.set(o,16),r||s.decryptAacSamples(t,e+1,n)}))},t.prototype.decryptAacSamples=function(t,e,n){for(;;e++){if(e>=t.length)return void n();if(!(t[e].unit.length<32)){var r=this.decrypter.isSync();if(this.decryptAacSample(t,e,n,r),!r)return}}},t.prototype.getAvcEncryptedData=function(t){for(var e=16*Math.floor((t.length-48)/160)+16,n=new Int8Array(e),r=0,i=32;i<=t.length-16;i+=160,r+=16)n.set(t.subarray(i,i+16),r);return n},t.prototype.getAvcDecryptedUnit=function(t,e){e=new Uint8Array(e);for(var n=0,r=32;r<=t.length-16;r+=160,n+=16)t.set(e.subarray(n,n+16),r);return t},t.prototype.decryptAvcSample=function(t,e,n,r,i,o){var a=this.discardEPB(i.data),s=this.getAvcEncryptedData(a),u=this;this.decryptBuffer(s.buffer,(function(s){i.data=u.getAvcDecryptedUnit(a,s),o||u.decryptAvcSamples(t,e,n+1,r)}))},t.prototype.decryptAvcSamples=function(t,e,n,r){for(;;e++,n=0){if(e>=t.length)return void r();for(var i=t[e].units;!(n>=i.length);n++){var o=i[n];if(!(o.length<=48||1!==o.type&&5!==o.type)){var a=this.decrypter.isSync();if(this.decryptAvcSample(t,e,n,r,o,a),!a)return}}}},t}();e.default=i},"./src/demux/tsdemuxer.js":
/*!********************************!*\
	  !*** ./src/demux/tsdemuxer.js ***!
	  \********************************/
/*! no static exports found */ /*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(/*! ./adts */"./src/demux/adts.js"),i=n(/*! ./mpegaudio */"./src/demux/mpegaudio.js"),o=n(/*! ../events */"./src/events.js"),a=n(/*! ./exp-golomb */"./src/demux/exp-golomb.js"),s=n(/*! ./sample-aes */"./src/demux/sample-aes.js"),u=n(/*! ../utils/logger */"./src/utils/logger.js"),l=n(/*! ../errors */"./src/errors.js"),c={video:1,audio:2,id3:3,text:4},d=function(){function t(t,e,n,r){this.observer=t,this.config=n,this.typeSupported=r,this.remuxer=e,this.sampleAes=null}return t.prototype.setDecryptData=function(t){null!=t&&null!=t.key&&"SAMPLE-AES"===t.method?this.sampleAes=new s.default(this.observer,this.config,t,this.discardEPB):this.sampleAes=null},t.probe=function(e){var n=t._syncOffset(e);return!(n<0||(n&&u.logger.warn("MPEG2-TS detected but first sync word found @ offset "+n+", junk ahead ?"),0))},t._syncOffset=function(t){for(var e=Math.min(1e3,t.length-564),n=0;n<e;){if(71===t[n]&&71===t[n+188]&&71===t[n+376])return n;n++}return-1},t.createTrack=function(t,e){return{container:"video"===t||"audio"===t?"video/mp2t":void 0,type:t,id:c[t],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],len:0,dropped:"video"===t?0:void 0,isAAC:"audio"===t||void 0,duration:"audio"===t?e:void 0}},t.prototype.resetInitSegment=function(e,n,r,i){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=t.createTrack("video",i),this._audioTrack=t.createTrack("audio",i),this._id3Track=t.createTrack("id3",i),this._txtTrack=t.createTrack("text",i),this.aacOverFlow=null,this.aacLastPTS=null,this.avcSample=null,this.audioCodec=n,this.videoCodec=r,this._duration=i},t.prototype.resetTimeStamp=function(){},t.prototype.append=function(e,n,r,i){var a,s,c,d,h,f=e.length,p=!1;this.contiguous=r;var g=this.pmtParsed,m=this._avcTrack,v=this._audioTrack,y=this._id3Track,_=m.pid,b=v.pid,E=y.pid,A=this._pmtId,T=m.pesData,S=v.pesData,w=y.pesData,C=this._parsePAT,k=this._parsePMT,D=this._parsePES,x=this._parseAVCPES.bind(this),L=this._parseAACPES.bind(this),P=this._parseMPEGPES.bind(this),I=this._parseID3PES.bind(this),R=t._syncOffset(e);for(f-=(f+R)%188,a=R;a<f;a+=188)if(71===e[a]){if(s=!!(64&e[a+1]),c=((31&e[a+1])<<8)+e[a+2],(48&e[a+3])>>4>1){if((d=a+5+e[a+4])===a+188)continue}else d=a+4;switch(c){case _:s&&(T&&(h=D(T))&&void 0!==h.pts&&x(h,!1),T={data:[],size:0}),T&&(T.data.push(e.subarray(d,a+188)),T.size+=a+188-d);break;case b:s&&(S&&(h=D(S))&&void 0!==h.pts&&(v.isAAC?L(h):P(h)),S={data:[],size:0}),S&&(S.data.push(e.subarray(d,a+188)),S.size+=a+188-d);break;case E:s&&(w&&(h=D(w))&&void 0!==h.pts&&I(h),w={data:[],size:0}),w&&(w.data.push(e.subarray(d,a+188)),w.size+=a+188-d);break;case 0:s&&(d+=e[d]+1),A=this._pmtId=C(e,d);break;case A:s&&(d+=e[d]+1);var O=k(e,d,!0===this.typeSupported.mpeg||!0===this.typeSupported.mp3,null!=this.sampleAes);(_=O.avc)>0&&(m.pid=_),(b=O.audio)>0&&(v.pid=b,v.isAAC=O.isAAC),(E=O.id3)>0&&(y.pid=E),p&&!g&&(u.logger.log("reparse from beginning"),p=!1,a=R-188),g=this.pmtParsed=!0;break;case 17:case 8191:break;default:p=!0}}else this.observer.trigger(o.default.ERROR,{type:l.ErrorTypes.MEDIA_ERROR,details:l.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"TS packet did not start with 0x47"});T&&(h=D(T))&&void 0!==h.pts?(x(h,!0),m.pesData=null):m.pesData=T,S&&(h=D(S))&&void 0!==h.pts?(v.isAAC?L(h):P(h),v.pesData=null):(S&&S.size&&u.logger.log("last AAC PES packet truncated,might overlap between fragments"),v.pesData=S),w&&(h=D(w))&&void 0!==h.pts?(I(h),y.pesData=null):y.pesData=w,null==this.sampleAes?this.remuxer.remux(v,m,y,this._txtTrack,n,r,i):this.decryptAndRemux(v,m,y,this._txtTrack,n,r,i)},t.prototype.decryptAndRemux=function(t,e,n,r,i,o,a){if(t.samples&&t.isAAC){var s=this;this.sampleAes.decryptAacSamples(t.samples,0,(function(){s.decryptAndRemuxAvc(t,e,n,r,i,o,a)}))}else this.decryptAndRemuxAvc(t,e,n,r,i,o,a)},t.prototype.decryptAndRemuxAvc=function(t,e,n,r,i,o,a){if(e.samples){var s=this;this.sampleAes.decryptAvcSamples(e.samples,0,0,(function(){s.remuxer.remux(t,e,n,r,i,o,a)}))}else this.remuxer.remux(t,e,n,r,i,o,a)},t.prototype.destroy=function(){this._initPTS=this._initDTS=void 0,this._duration=0},t.prototype._parsePAT=function(t,e){return(31&t[e+10])<<8|t[e+11]},t.prototype._parsePMT=function(t,e,n,r){var i,o,a={audio:-1,avc:-1,id3:-1,isAAC:!0};for(i=e+3+((15&t[e+1])<<8|t[e+2])-4,e+=12+((15&t[e+10])<<8|t[e+11]);e<i;){switch(o=(31&t[e+1])<<8|t[e+2],t[e]){case 207:if(!r){u.logger.log("unkown stream type:"+t[e]);break}case 15:-1===a.audio&&(a.audio=o);break;case 21:-1===a.id3&&(a.id3=o);break;case 219:if(!r){u.logger.log("unkown stream type:"+t[e]);break}case 27:-1===a.avc&&(a.avc=o);break;case 3:case 4:n?-1===a.audio&&(a.audio=o,a.isAAC=!1):u.logger.log("MPEG audio found, not supported in this browser for now");break;case 36:u.logger.warn("HEVC stream type found, not supported for now");break;default:u.logger.log("unkown stream type:"+t[e])}e+=5+((15&t[e+3])<<8|t[e+4])}return a},t.prototype._parsePES=function(t){var e,n,r,i,o,a,s,l,c=0,d=t.data;if(!t||0===t.size)return null;for(;d[0].length<19&&d.length>1;){var h=new Uint8Array(d[0].length+d[1].length);h.set(d[0]),h.set(d[1],d[0].length),d[0]=h,d.splice(1,1)}if(1===((e=d[0])[0]<<16)+(e[1]<<8)+e[2]){if((r=(e[4]<<8)+e[5])&&r>t.size-6)return null;192&(n=e[7])&&((a=536870912*(14&e[9])+4194304*(255&e[10])+16384*(254&e[11])+128*(255&e[12])+(254&e[13])/2)>4294967295&&(a-=8589934592),64&n?((s=536870912*(14&e[14])+4194304*(255&e[15])+16384*(254&e[16])+128*(255&e[17])+(254&e[18])/2)>4294967295&&(s-=8589934592),a-s>54e5&&(u.logger.warn(Math.round((a-s)/9e4)+"s delta between PTS and DTS, align them"),a=s)):s=a),l=(i=e[8])+9,t.size-=l,o=new Uint8Array(t.size);for(var f=0,p=d.length;f<p;f++){var g=(e=d[f]).byteLength;if(l){if(l>g){l-=g;continue}e=e.subarray(l),g-=l,l=0}o.set(e,c),c+=g}return r&&(r-=i+3),{data:o,pts:a,dts:s,len:r}}return null},t.prototype.pushAccesUnit=function(t,e){if(t.units.length&&t.frame){var n=e.samples,r=n.length;!this.config.forceKeyFrameOnDiscontinuity||!0===t.key||e.sps&&(r||this.contiguous)?(t.id=r,n.push(t)):e.dropped++}t.debug.length&&u.logger.log(t.pts+"/"+t.dts+":"+t.debug)},t.prototype._parseAVCPES=function(t,e){var n,r,i,o=this,s=this._avcTrack,u=this._parseAVCNALu(t.data),l=this.avcSample,c=!1,d=this.pushAccesUnit.bind(this),h=function(t,e,n,r){return{key:t,pts:e,dts:n,units:[],debug:r}};t.data=null,l&&u.length&&!s.audFound&&(d(l,s),l=this.avcSample=h(!1,t.pts,t.dts,"")),u.forEach((function(e){switch(e.type){case 1:r=!0,l||(l=o.avcSample=h(!0,t.pts,t.dts,"")),l.frame=!0;var u=e.data;if(c&&u.length>4){var f=new a.default(u).readSliceType();2!==f&&4!==f&&7!==f&&9!==f||(l.key=!0)}break;case 5:r=!0,l||(l=o.avcSample=h(!0,t.pts,t.dts,"")),l.key=!0,l.frame=!0;break;case 6:r=!0,(n=new a.default(o.discardEPB(e.data))).readUByte();for(var p=0,g=0,m=!1,v=0;!m&&n.bytesAvailable>1;){p=0;do{p+=v=n.readUByte()}while(255===v);g=0;do{g+=v=n.readUByte()}while(255===v);if(4===p&&0!==n.bytesAvailable){if(m=!0,181===n.readUByte()&&49===n.readUShort()&&1195456820===n.readUInt()&&3===n.readUByte()){var y=n.readUByte(),_=31&y,b=[y,n.readUByte()];for(i=0;i<_;i++)b.push(n.readUByte()),b.push(n.readUByte()),b.push(n.readUByte());o._insertSampleInOrder(o._txtTrack.samples,{type:3,pts:t.pts,bytes:b})}}else if(g<n.bytesAvailable)for(i=0;i<g;i++)n.readUByte()}break;case 7:if(r=!0,c=!0,!s.sps){var E=(n=new a.default(e.data)).readSPS();s.width=E.width,s.height=E.height,s.pixelRatio=E.pixelRatio,s.sps=[e.data],s.duration=o._duration;var A=e.data.subarray(1,4),T="avc1.";for(i=0;i<3;i++){var S=A[i].toString(16);S.length<2&&(S="0"+S),T+=S}s.codec=T}break;case 8:r=!0,s.pps||(s.pps=[e.data]);break;case 9:r=!1,s.audFound=!0,l&&d(l,s),l=o.avcSample=h(!1,t.pts,t.dts,"");break;case 12:r=!1;break;default:r=!1,l&&(l.debug+="unknown NAL "+e.type+" ")}l&&r&&l.units.push(e)})),e&&l&&(d(l,s),this.avcSample=null)},t.prototype._insertSampleInOrder=function(t,e){var n=t.length;if(n>0){if(e.pts>=t[n-1].pts)t.push(e);else for(var r=n-1;r>=0;r--)if(e.pts<t[r].pts){t.splice(r,0,e);break}}else t.push(e)},t.prototype._getLastNalUnit=function(){var t,e=this.avcSample;if(!e||0===e.units.length){var n=this._avcTrack.samples;e=n[n.length-1]}if(e){var r=e.units;t=r[r.length-1]}return t},t.prototype._parseAVCNALu=function(t){var e,n,r,i,o=0,a=t.byteLength,s=this._avcTrack,u=s.naluState||0,l=u,c=[],d=-1;for(-1===u&&(d=0,i=31&t[0],u=0,o=1);o<a;)if(e=t[o++],u)if(1!==u)if(e)if(1===e){var h,f;d>=0?(r={data:t.subarray(d,o-u-1),type:i},c.push(r)):(h=this._getLastNalUnit())&&(l&&o<=4-l&&h.state&&(h.data=h.data.subarray(0,h.data.byteLength-l)),(n=o-u-1)>0)&&((f=new Uint8Array(h.data.byteLength+n)).set(h.data,0),f.set(t.subarray(0,n),h.data.byteLength),h.data=f),o<a?(d=o,i=31&t[o],u=0):u=-1}else u=0;else u=3;else u=e?0:2;else u=e?0:1;return d>=0&&u>=0&&(r={data:t.subarray(d,a),type:i,state:u},c.push(r)),0===c.length&&(h=this._getLastNalUnit())&&((f=new Uint8Array(h.data.byteLength+t.byteLength)).set(h.data,0),f.set(t,h.data.byteLength),h.data=f),s.naluState=u,c},t.prototype.discardEPB=function(t){for(var e,n,r=t.byteLength,i=[],o=1;o<r-2;)0===t[o]&&0===t[o+1]&&3===t[o+2]?(i.push(o+2),o+=2):o++;if(0===i.length)return t;e=r-i.length,n=new Uint8Array(e);var a=0;for(o=0;o<e;a++,o++)a===i[0]&&(a++,i.shift()),n[o]=t[a];return n},t.prototype._parseAACPES=function(t){var e,n,i,a,s,c=this._audioTrack,d=t.data,h=t.pts,f=this.aacOverFlow,p=this.aacLastPTS;if(f){var g=new Uint8Array(f.byteLength+d.byteLength);g.set(f,0),g.set(d,f.byteLength),d=g}for(i=0,s=d.length;i<s-1&&!r.isHeader(d,i);i++);if(i){var m=void 0,v=void 0;if(i<s-1?(m="AAC PES did not start with ADTS header,offset:"+i,v=!1):(m="no ADTS header found in AAC PES",v=!0),u.logger.warn("parsing error:"+m),this.observer.trigger(o.default.ERROR,{type:l.ErrorTypes.MEDIA_ERROR,details:l.ErrorDetails.FRAG_PARSING_ERROR,fatal:v,reason:m}),v)return}if(r.initTrackConfig(c,this.observer,d,i,this.audioCodec),n=0,e=r.getFrameDuration(c.samplerate),f&&p){var y=p+e;Math.abs(y-h)>1&&(u.logger.log("AAC: align PTS for overlapping frames by "+Math.round((y-h)/90)),h=y)}for(;i<s;)if(r.isHeader(d,i)&&i+5<s){var _=r.appendFrame(c,d,i,h,n);if(!_)break;i+=_.length,a=_.sample.pts,n++}else i++;f=i<s?d.subarray(i,s):null,this.aacOverFlow=f,this.aacLastPTS=a},t.prototype._parseMPEGPES=function(t){for(var e=t.data,n=e.length,r=0,o=0,a=t.pts;o<n;)if(i.default.isHeader(e,o)){var s=i.default.appendFrame(this._audioTrack,e,o,a,r);if(!s)break;o+=s.length,r++}else o++},t.prototype._parseID3PES=function(t){this._id3Track.samples.push(t)},t}();e.default=d},"./src/errors.js":
/*!***********************!*\
	  !*** ./src/errors.js ***!
	  \***********************/
/*! no static exports found */ /*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ErrorTypes={NETWORK_ERROR:"networkError",MEDIA_ERROR:"mediaError",KEY_SYSTEM_ERROR:"keySystemError",MUX_ERROR:"muxError",OTHER_ERROR:"otherError"},e.ErrorDetails={KEY_SYSTEM_NO_KEYS:"keySystemNoKeys",KEY_SYSTEM_NO_ACCESS:"keySystemNoAccess",KEY_SYSTEM_NO_SESSION:"keySystemNoSession",KEY_SYSTEM_LICENSE_REQUEST_FAILED:"keySystemLicenseRequestFailed",MANIFEST_LOAD_ERROR:"manifestLoadError",MANIFEST_LOAD_TIMEOUT:"manifestLoadTimeOut",MANIFEST_PARSING_ERROR:"manifestParsingError",MANIFEST_INCOMPATIBLE_CODECS_ERROR:"manifestIncompatibleCodecsError",LEVEL_LOAD_ERROR:"levelLoadError",LEVEL_LOAD_TIMEOUT:"levelLoadTimeOut",LEVEL_SWITCH_ERROR:"levelSwitchError",AUDIO_TRACK_LOAD_ERROR:"audioTrackLoadError",AUDIO_TRACK_LOAD_TIMEOUT:"audioTrackLoadTimeOut",FRAG_LOAD_ERROR:"fragLoadError",FRAG_LOAD_TIMEOUT:"fragLoadTimeOut",FRAG_DECRYPT_ERROR:"fragDecryptError",FRAG_PARSING_ERROR:"fragParsingError",REMUX_ALLOC_ERROR:"remuxAllocError",KEY_LOAD_ERROR:"keyLoadError",KEY_LOAD_TIMEOUT:"keyLoadTimeOut",BUFFER_ADD_CODEC_ERROR:"bufferAddCodecError",BUFFER_APPEND_ERROR:"bufferAppendError",BUFFER_APPENDING_ERROR:"bufferAppendingError",BUFFER_STALLED_ERROR:"bufferStalledError",BUFFER_FULL_ERROR:"bufferFullError",BUFFER_SEEK_OVER_HOLE:"bufferSeekOverHole",BUFFER_NUDGE_ON_STALL:"bufferNudgeOnStall",INTERNAL_EXCEPTION:"internalException"}},"./src/event-handler.js":
/*!******************************!*\
	  !*** ./src/event-handler.js ***!
	  \******************************/
/*! no static exports found */ /*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(/*! ./utils/logger */"./src/utils/logger.js"),i=n(/*! ./errors */"./src/errors.js"),o=n(/*! ./events */"./src/events.js"),a={hlsEventGeneric:!0,hlsHandlerDestroying:!0,hlsHandlerDestroyed:!0},s=function(){function t(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];this.hls=t,this.onEvent=this.onEvent.bind(this),this.handledEvents=e,this.useGenericHandler=!0,this.registerListeners()}return t.prototype.destroy=function(){this.onHandlerDestroying(),this.unregisterListeners(),this.onHandlerDestroyed()},t.prototype.onHandlerDestroying=function(){},t.prototype.onHandlerDestroyed=function(){},t.prototype.isEventHandler=function(){return"object"==_typeof(this.handledEvents)&&this.handledEvents.length&&"function"==typeof this.onEvent},t.prototype.registerListeners=function(){this.isEventHandler()&&this.handledEvents.forEach((function(t){if(a[t])throw new Error("Forbidden event-name: "+t);this.hls.on(t,this.onEvent)}),this)},t.prototype.unregisterListeners=function(){this.isEventHandler()&&this.handledEvents.forEach((function(t){this.hls.off(t,this.onEvent)}),this)},t.prototype.onEvent=function(t,e){this.onEventGeneric(t,e)},t.prototype.onEventGeneric=function(t,e){try{(function(t,e){var n="on"+t.replace("hls","");if("function"!=typeof this[n])throw new Error("Event "+t+" has no generic handler in this "+this.constructor.name+" class (tried "+n+")");return this[n].bind(this,e)}).call(this,t,e).call()}catch(e){r.logger.error("An internal error happened while handling event "+t+'. Error message: "'+e.message+'". Here is a stacktrace:',e),this.hls.trigger(o.default.ERROR,{type:i.ErrorTypes.OTHER_ERROR,details:i.ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:t,err:e})}},t}();e.default=s},"./src/events.js":
/*!***********************!*\
	  !*** ./src/events.js ***!
	  \***********************/
/*! no static exports found */ /*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={MEDIA_ATTACHING:"hlsMediaAttaching",MEDIA_ATTACHED:"hlsMediaAttached",MEDIA_DETACHING:"hlsMediaDetaching",MEDIA_DETACHED:"hlsMediaDetached",BUFFER_RESET:"hlsBufferReset",BUFFER_CODECS:"hlsBufferCodecs",BUFFER_CREATED:"hlsBufferCreated",BUFFER_APPENDING:"hlsBufferAppending",BUFFER_APPENDED:"hlsBufferAppended",BUFFER_EOS:"hlsBufferEos",BUFFER_FLUSHING:"hlsBufferFlushing",BUFFER_FLUSHED:"hlsBufferFlushed",MANIFEST_LOADING:"hlsManifestLoading",MANIFEST_LOADED:"hlsManifestLoaded",MANIFEST_PARSED:"hlsManifestParsed",LEVEL_SWITCHING:"hlsLevelSwitching",LEVEL_SWITCHED:"hlsLevelSwitched",LEVEL_LOADING:"hlsLevelLoading",LEVEL_LOADED:"hlsLevelLoaded",LEVEL_UPDATED:"hlsLevelUpdated",LEVEL_PTS_UPDATED:"hlsLevelPtsUpdated",AUDIO_TRACKS_UPDATED:"hlsAudioTracksUpdated",AUDIO_TRACK_SWITCHING:"hlsAudioTrackSwitching",AUDIO_TRACK_SWITCHED:"hlsAudioTrackSwitched",AUDIO_TRACK_LOADING:"hlsAudioTrackLoading",AUDIO_TRACK_LOADED:"hlsAudioTrackLoaded",SUBTITLE_TRACKS_UPDATED:"hlsSubtitleTracksUpdated",SUBTITLE_TRACK_SWITCH:"hlsSubtitleTrackSwitch",SUBTITLE_TRACK_LOADING:"hlsSubtitleTrackLoading",SUBTITLE_TRACK_LOADED:"hlsSubtitleTrackLoaded",SUBTITLE_FRAG_PROCESSED:"hlsSubtitleFragProcessed",INIT_PTS_FOUND:"hlsInitPtsFound",FRAG_LOADING:"hlsFragLoading",FRAG_LOAD_PROGRESS:"hlsFragLoadProgress",FRAG_LOAD_EMERGENCY_ABORTED:"hlsFragLoadEmergencyAborted",FRAG_LOADED:"hlsFragLoaded",FRAG_DECRYPTED:"hlsFragDecrypted",FRAG_PARSING_INIT_SEGMENT:"hlsFragParsingInitSegment",FRAG_PARSING_USERDATA:"hlsFragParsingUserdata",FRAG_PARSING_METADATA:"hlsFragParsingMetadata",FRAG_PARSING_DATA:"hlsFragParsingData",FRAG_PARSED:"hlsFragParsed",FRAG_BUFFERED:"hlsFragBuffered",FRAG_CHANGED:"hlsFragChanged",FPS_DROP:"hlsFpsDrop",FPS_DROP_LEVEL_CAPPING:"hlsFpsDropLevelCapping",ERROR:"hlsError",DESTROYING:"hlsDestroying",KEY_LOADING:"hlsKeyLoading",KEY_LOADED:"hlsKeyLoaded",STREAM_STATE_TRANSITION:"hlsStreamStateTransition"}},"./src/hls.js":
/*!********************!*\
	  !*** ./src/hls.js ***!
	  \********************/
/*! no static exports found */ /*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(/*! url-toolkit */"./node_modules/url-toolkit/src/url-toolkit.js"),o=n(/*! ./errors */"./src/errors.js"),a=n(/*! ./loader/playlist-loader */"./src/loader/playlist-loader.js"),s=n(/*! ./loader/fragment-loader */"./src/loader/fragment-loader.js"),u=n(/*! ./loader/key-loader */"./src/loader/key-loader.js"),l=n(/*! ./controller/fragment-tracker */"./src/controller/fragment-tracker.js"),c=n(/*! ./controller/stream-controller */"./src/controller/stream-controller.js"),d=n(/*! ./controller/level-controller */"./src/controller/level-controller.js"),h=n(/*! ./controller/id3-track-controller */"./src/controller/id3-track-controller.js"),f=n(/*! ./is-supported */"./src/is-supported.js"),p=n(/*! ./utils/logger */"./src/utils/logger.js"),g=n(/*! ./config */"./src/config.js"),m=n(/*! ./events */"./src/events.js"),v=function(t){function e(n){void 0===n&&(n={});var r=t.call(this)||this,i=e.DefaultConfig;if((n.liveSyncDurationCount||n.liveMaxLatencyDurationCount)&&(n.liveSyncDuration||n.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");for(var o in i)o in n||(n[o]=i[o]);if(void 0!==n.liveMaxLatencyDurationCount&&n.liveMaxLatencyDurationCount<=n.liveSyncDurationCount)throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be gt "liveSyncDurationCount"');if(void 0!==n.liveMaxLatencyDuration&&(n.liveMaxLatencyDuration<=n.liveSyncDuration||void 0===n.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be gt "liveSyncDuration"');p.enableLogs(n.debug),r.config=n,r._autoLevelCapping=-1;var f=r.abrController=new n.abrController(r),g=new n.bufferController(r),m=new n.capLevelController(r),v=new n.fpsController(r),y=new a.default(r),_=new s.default(r),b=new u.default(r),E=new h.default(r),A=r.levelController=new d.default(r),T=new l.FragmentTracker(r),S=[A,r.streamController=new c.default(r,T)],w=n.audioStreamController;w&&S.push(new w(r,T)),r.networkControllers=S;var C=[y,_,b,f,g,m,v,E,T];if(w=n.audioTrackController){var k=new w(r);r.audioTrackController=k,C.push(k)}if(w=n.subtitleTrackController){var D=new w(r);r.subtitleTrackController=D,S.push(D)}if(w=n.emeController){var x=new w(r);r.emeController=x,C.push(x)}return(w=n.subtitleStreamController)&&S.push(new w(r,T)),(w=n.timelineController)&&C.push(new w(r)),r.coreComponents=C,r}return r(e,t),Object.defineProperty(e,"version",{get:function(){return"0.12.4"},enumerable:!0,configurable:!0}),e.isSupported=function(){return f.isSupported()},Object.defineProperty(e,"Events",{get:function(){return m.default},enumerable:!0,configurable:!0}),Object.defineProperty(e,"ErrorTypes",{get:function(){return o.ErrorTypes},enumerable:!0,configurable:!0}),Object.defineProperty(e,"ErrorDetails",{get:function(){return o.ErrorDetails},enumerable:!0,configurable:!0}),Object.defineProperty(e,"DefaultConfig",{get:function(){return e.defaultConfig?e.defaultConfig:g.hlsDefaultConfig},set:function(t){e.defaultConfig=t},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){p.logger.log("destroy"),this.trigger(m.default.DESTROYING),this.detachMedia(),this.coreComponents.concat(this.networkControllers).forEach((function(t){t.destroy()})),this.url=null,this.removeAllListeners(),this._autoLevelCapping=-1},e.prototype.attachMedia=function(t){p.logger.log("attachMedia"),this.media=t,this.trigger(m.default.MEDIA_ATTACHING,{media:t})},e.prototype.detachMedia=function(){p.logger.log("detachMedia"),this.trigger(m.default.MEDIA_DETACHING),this.media=null},e.prototype.loadSource=function(t){t=i.buildAbsoluteURL(window.location.href,t,{alwaysNormalize:!0}),p.logger.log("loadSource:"+t),this.url=t,this.trigger(m.default.MANIFEST_LOADING,{url:t})},e.prototype.startLoad=function(t){void 0===t&&(t=-1),p.logger.log("startLoad("+t+")"),this.networkControllers.forEach((function(e){e.startLoad(t)}))},e.prototype.stopLoad=function(){p.logger.log("stopLoad"),this.networkControllers.forEach((function(t){t.stopLoad()}))},e.prototype.swapAudioCodec=function(){p.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()},e.prototype.recoverMediaError=function(){p.logger.log("recoverMediaError");var t=this.media;this.detachMedia(),this.attachMedia(t)},Object.defineProperty(e.prototype,"levels",{get:function(){return this.levelController.levels},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentLevel",{get:function(){return this.streamController.currentLevel},set:function(t){p.logger.log("set currentLevel:"+t),this.loadLevel=t,this.streamController.immediateLevelSwitch()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nextLevel",{get:function(){return this.streamController.nextLevel},set:function(t){p.logger.log("set nextLevel:"+t),this.levelController.manualLevel=t,this.streamController.nextLevelSwitch()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"loadLevel",{get:function(){return this.levelController.level},set:function(t){p.logger.log("set loadLevel:"+t),this.levelController.manualLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nextLoadLevel",{get:function(){return this.levelController.nextLoadLevel},set:function(t){this.levelController.nextLoadLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"firstLevel",{get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(t){p.logger.log("set firstLevel:"+t),this.levelController.firstLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"startLevel",{get:function(){return this.levelController.startLevel},set:function(t){p.logger.log("set startLevel:"+t),-1!==t&&(t=Math.max(t,this.minAutoLevel)),this.levelController.startLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"autoLevelCapping",{get:function(){return this._autoLevelCapping},set:function(t){p.logger.log("set autoLevelCapping:"+t),this._autoLevelCapping=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"autoLevelEnabled",{get:function(){return-1===this.levelController.manualLevel},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"manualLevel",{get:function(){return this.levelController.manualLevel},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minAutoLevel",{get:function(){for(var t=this.levels,e=this.config.minAutoBitrate,n=t?t.length:0,r=0;r<n;r++)if((t[r].realBitrate?Math.max(t[r].realBitrate,t[r].bitrate):t[r].bitrate)>e)return r;return 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxAutoLevel",{get:function(){var t=this.levels,e=this.autoLevelCapping;return-1===e&&t&&t.length?t.length-1:e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nextAutoLevel",{get:function(){var t=this;return Math.min(Math.max(t.abrController.nextAutoLevel,t.minAutoLevel),t.maxAutoLevel)},set:function(t){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"audioTracks",{get:function(){var t=this.audioTrackController;return t?t.audioTracks:[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"audioTrack",{get:function(){var t=this.audioTrackController;return t?t.audioTrack:-1},set:function(t){var e=this.audioTrackController;e&&(e.audioTrack=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"liveSyncPosition",{get:function(){return this.streamController.liveSyncPosition},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"subtitleTracks",{get:function(){var t=this.subtitleTrackController;return t?t.subtitleTracks:[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"subtitleTrack",{get:function(){var t=this.subtitleTrackController;return t?t.subtitleTrack:-1},set:function(t){var e=this.subtitleTrackController;e&&(e.subtitleTrack=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"subtitleDisplay",{get:function(){var t=this.subtitleTrackController;return!!t&&t.subtitleDisplay},set:function(t){var e=this.subtitleTrackController;e&&(e.subtitleDisplay=t)},enumerable:!0,configurable:!0}),e}(n(/*! ./observer */"./src/observer.js").Observer);e.default=v},"./src/is-supported.js":
/*!*****************************!*\
	  !*** ./src/is-supported.js ***!
	  \*****************************/
/*! no static exports found */ /*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(/*! ./utils/mediasource-helper */"./src/utils/mediasource-helper.js");e.isSupported=function(){var t=r.getMediaSource(),e=window.SourceBuffer||window.WebKitSourceBuffer,n=t&&"function"==typeof t.isTypeSupported&&t.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),i=!e||e.prototype&&"function"==typeof e.prototype.appendBuffer&&"function"==typeof e.prototype.remove;return!!n&&!!i}},"./src/loader/fragment-loader.js":
/*!***************************************!*\
	  !*** ./src/loader/fragment-loader.js ***!
	  \***************************************/
/*! no static exports found */ /*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,n){"use strict";(function(t){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(/*! ../events */"./src/events.js"),o=n(/*! ../event-handler */"./src/event-handler.js"),a=n(/*! ../errors */"./src/errors.js"),s=n(/*! ../utils/logger */"./src/utils/logger.js"),u=function(e){function n(t){var n=e.call(this,t,i.default.FRAG_LOADING)||this;return n.loaders={},n}return r(n,e),n.prototype.destroy=function(){var t=this.loaders;for(var n in t){var r=t[n];r&&r.destroy()}this.loaders={},e.prototype.destroy.call(this)},n.prototype.onFragLoading=function(e){var n=e.frag,r=n.type,i=this.loaders,o=this.hls.config,a=o.fLoader,u=o.loader;n.loaded=0;var l,c,d,h=i[r];h&&(s.logger.warn("abort previous fragment loader for type: "+r),h.abort()),h=i[r]=n.loader=o.fLoader?new a(o):new u(o),l={url:n.url,frag:n,responseType:"arraybuffer",progressData:!1};var f=n.byteRangeStartOffset,p=n.byteRangeEndOffset;t.isFinite(f)&&t.isFinite(p)&&(l.rangeStart=f,l.rangeEnd=p),c={timeout:o.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:o.fragLoadingMaxRetryTimeout},d={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this),onProgress:this.loadprogress.bind(this)},h.load(l,c,d)},n.prototype.loadsuccess=function(t,e,n,r){void 0===r&&(r=null);var o=t.data,a=n.frag;a.loader=void 0,this.loaders[a.type]=void 0,this.hls.trigger(i.default.FRAG_LOADED,{payload:o,frag:a,stats:e,networkDetails:r})},n.prototype.loaderror=function(t,e,n){void 0===n&&(n=null);var r=e.frag,o=r.loader;o&&o.abort(),this.loaders[r.type]=void 0,this.hls.trigger(i.default.ERROR,{type:a.ErrorTypes.NETWORK_ERROR,details:a.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:e.frag,response:t,networkDetails:n})},n.prototype.loadtimeout=function(t,e,n){void 0===n&&(n=null);var r=e.frag,o=r.loader;o&&o.abort(),this.loaders[r.type]=void 0,this.hls.trigger(i.default.ERROR,{type:a.ErrorTypes.NETWORK_ERROR,details:a.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e.frag,networkDetails:n})},n.prototype.loadprogress=function(t,e,n,r){void 0===r&&(r=null);var o=e.frag;o.loaded=t.loaded,this.hls.trigger(i.default.FRAG_LOAD_PROGRESS,{frag:o,stats:t,networkDetails:r})},n}(o.default);e.default=u}).call(this,n(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/loader/fragment.js":
/*!********************************!*\
	  !*** ./src/loader/fragment.js ***!
	  \********************************/
/*! no static exports found */ /*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r=n(/*! url-toolkit */"./node_modules/url-toolkit/src/url-toolkit.js"),i=n(/*! ./level-key */"./src/loader/level-key.js"),o=function(){function e(){var t;this._url=null,this._byteRange=null,this._decryptdata=null,this.tagList=[],this.programDateTime=null,this.rawProgramDateTime=null,this._elementaryStreams=((t={})[e.ElementaryStreamTypes.AUDIO]=!1,t[e.ElementaryStreamTypes.VIDEO]=!1,t)}return Object.defineProperty(e,"ElementaryStreamTypes",{get:function(){return{AUDIO:"audio",VIDEO:"video"}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"url",{get:function(){return!this._url&&this.relurl&&(this._url=r.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url},set:function(t){this._url=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"byteRange",{get:function(){if(!this._byteRange&&!this.rawByteRange)return[];if(this._byteRange)return this._byteRange;var t=[];if(this.rawByteRange){var e=this.rawByteRange.split("@",2);if(1===e.length){var n=this.lastByteRangeEndOffset;t[0]=n||0}else t[0]=parseInt(e[1]);t[1]=parseInt(e[0])+t[0],this._byteRange=t}return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"byteRangeStartOffset",{get:function(){return this.byteRange[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"byteRangeEndOffset",{get:function(){return this.byteRange[1]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"decryptdata",{get:function(){return this._decryptdata||(this._decryptdata=this.fragmentDecryptdataFromLevelkey(this.levelkey,this.sn)),this._decryptdata},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endProgramDateTime",{get:function(){if(!t.isFinite(this.programDateTime))return null;var e=t.isFinite(this.duration)?this.duration:0;return this.programDateTime+1e3*e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"encrypted",{get:function(){return!(!this.decryptdata||null===this.decryptdata.uri||null!==this.decryptdata.key)},enumerable:!0,configurable:!0}),e.prototype.addElementaryStream=function(t){this._elementaryStreams[t]=!0},e.prototype.hasElementaryStream=function(t){return!0===this._elementaryStreams[t]},e.prototype.createInitializationVector=function(t){for(var e=new Uint8Array(16),n=12;n<16;n++)e[n]=t>>8*(15-n)&255;return e},e.prototype.fragmentDecryptdataFromLevelkey=function(t,e){var n=t;return t&&t.method&&t.uri&&!t.iv&&((n=new i.default).method=t.method,n.baseuri=t.baseuri,n.reluri=t.reluri,n.iv=this.createInitializationVector(e)),n},e}();e.default=o}).call(this,n(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/loader/key-loader.js":
/*!**********************************!*\
	  !*** ./src/loader/key-loader.js ***!
	  \**********************************/
/*! no static exports found */ /*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(/*! ../events */"./src/events.js"),o=n(/*! ../event-handler */"./src/event-handler.js"),a=n(/*! ../errors */"./src/errors.js"),s=n(/*! ../utils/logger */"./src/utils/logger.js"),u=function(t){function e(e){var n=t.call(this,e,i.default.KEY_LOADING)||this;return n.loaders={},n.decryptkey=null,n.decrypturl=null,n}return r(e,t),e.prototype.destroy=function(){for(var t in this.loaders){var e=this.loaders[t];e&&e.destroy()}this.loaders={},o.default.prototype.destroy.call(this)},e.prototype.onKeyLoading=function(t){var e=t.frag,n=e.type,r=this.loaders[n],o=e.decryptdata,a=o.uri;if(a!==this.decrypturl||null===this.decryptkey){var u,l,c,d=this.hls.config;r&&(s.logger.warn("abort previous key loader for type:"+n),r.abort()),e.loader=this.loaders[n]=new d.loader(d),this.decrypturl=a,this.decryptkey=null,u={url:a,frag:e,responseType:"arraybuffer"},l={timeout:d.fragLoadingTimeOut,maxRetry:0,retryDelay:d.fragLoadingRetryDelay,maxRetryDelay:d.fragLoadingMaxRetryTimeout},c={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)},e.loader.load(u,l,c)}else this.decryptkey&&(o.key=this.decryptkey,this.hls.trigger(i.default.KEY_LOADED,{frag:e}))},e.prototype.loadsuccess=function(t,e,n){var r=n.frag;this.decryptkey=r.decryptdata.key=new Uint8Array(t.data),r.loader=void 0,this.loaders[r.type]=void 0,this.hls.trigger(i.default.KEY_LOADED,{frag:r})},e.prototype.loaderror=function(t,e){var n=e.frag,r=n.loader;r&&r.abort(),this.loaders[e.type]=void 0,this.hls.trigger(i.default.ERROR,{type:a.ErrorTypes.NETWORK_ERROR,details:a.ErrorDetails.KEY_LOAD_ERROR,fatal:!1,frag:n,response:t})},e.prototype.loadtimeout=function(t,e){var n=e.frag,r=n.loader;r&&r.abort(),this.loaders[e.type]=void 0,this.hls.trigger(i.default.ERROR,{type:a.ErrorTypes.NETWORK_ERROR,details:a.ErrorDetails.KEY_LOAD_TIMEOUT,fatal:!1,frag:n})},e}(o.default);e.default=u},"./src/loader/level-key.js":
/*!*********************************!*\
	  !*** ./src/loader/level-key.js ***!
	  \*********************************/
/*! no static exports found */ /*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(/*! url-toolkit */"./node_modules/url-toolkit/src/url-toolkit.js"),i=function(){function t(){this.method=null,this.key=null,this.iv=null,this._uri=null}return Object.defineProperty(t.prototype,"uri",{get:function(){return!this._uri&&this.reluri&&(this._uri=r.buildAbsoluteURL(this.baseuri,this.reluri,{alwaysNormalize:!0})),this._uri},enumerable:!0,configurable:!0}),t}();e.default=i},"./src/loader/level.js":
/*!*****************************!*\
	  !*** ./src/loader/level.js ***!
	  \*****************************/
/*! no static exports found */ /*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function e(t){this.endCC=0,this.endSN=0,this.fragments=[],this.initSegment=null,this.live=!0,this.needSidxRanges=!1,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=t,this.version=null}return Object.defineProperty(e.prototype,"hasProgramDateTime",{get:function(){return!(!this.fragments[0]||!t.isFinite(this.fragments[0].programDateTime))},enumerable:!0,configurable:!0}),e}();e.default=n}).call(this,n(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/loader/m3u8-parser.js":
/*!***********************************!*\
	  !*** ./src/loader/m3u8-parser.js ***!
	  \***********************************/
/*! no static exports found */ /*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,n){"use strict";(function(t){function r(e,n){e.rawProgramDateTime?e.programDateTime=Date.parse(e.rawProgramDateTime):n&&n.programDateTime&&(e.programDateTime=n.endProgramDateTime),t.isFinite(e.programDateTime)||(e.programDateTime=null,e.rawProgramDateTime=null)}Object.defineProperty(e,"__esModule",{value:!0});var i=n(/*! url-toolkit */"./node_modules/url-toolkit/src/url-toolkit.js"),o=n(/*! ./fragment */"./src/loader/fragment.js"),a=n(/*! ./level */"./src/loader/level.js"),s=n(/*! ./level-key */"./src/loader/level-key.js"),u=n(/*! ../utils/attr-list */"./src/utils/attr-list.js"),l=n(/*! ../utils/logger */"./src/utils/logger.js"),c=n(/*! ../utils/codecs */"./src/utils/codecs.js"),d=/#EXT-X-STREAM-INF:([^\n\r]*)[\r\n]+([^\r\n]+)/g,h=/#EXT-X-MEDIA:(.*)/g,f=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/|(?!#)([\S+ ?]+)/.source,/|#EXT-X-BYTERANGE:*(.+)/.source,/|#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/|#.*/.source].join(""),"g"),p=/(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\d+))|(?:#EXT-X-(TARGETDURATION): *(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(VERSION):(\d+))|(?:#EXT-X-(MAP):(.+))|(?:(#)([^:]*):(.*))|(?:(#)(.*))(?:.*)\r?\n?/,g=/\.(mp4|m4s|m4v|m4a)$/i,m=function(){function e(){}return e.findGroup=function(t,e){if(!t)return null;for(var n=null,r=0;r<t.length;r++){var i=t[r];i.id===e&&(n=i)}return n},e.convertAVC1ToAVCOTI=function(t){var e,n=t.split(".");return n.length>2?(e=n.shift()+".",e+=parseInt(n.shift()).toString(16),e+=("000"+parseInt(n.shift()).toString(16)).substr(-4)):e=t,e},e.resolve=function(t,e){return i.buildAbsoluteURL(e,t,{alwaysNormalize:!0})},e.parseMasterPlaylist=function(t,n){function r(t,e){["video","audio"].forEach((function(n){var r=t.filter((function(t){return c.isCodecType(t,n)}));if(r.length){var i=r.filter((function(t){return 0===t.lastIndexOf("avc1",0)||0===t.lastIndexOf("mp4a",0)}));e[n+"Codec"]=i.length>0?i[0]:r[0],t=t.filter((function(t){return-1===r.indexOf(t)}))}})),e.unknownCodecs=t}var i,o=[];for(d.lastIndex=0;null!=(i=d.exec(t));){var a={},s=a.attrs=new u.default(i[1]);a.url=e.resolve(i[2],n);var l=s.decimalResolution("RESOLUTION");l&&(a.width=l.width,a.height=l.height),a.bitrate=s.decimalInteger("AVERAGE-BANDWIDTH")||s.decimalInteger("BANDWIDTH"),a.name=s.NAME,r([].concat((s.CODECS||"").split(/[ ,]+/)),a),a.videoCodec&&-1!==a.videoCodec.indexOf("avc1")&&(a.videoCodec=e.convertAVC1ToAVCOTI(a.videoCodec)),o.push(a)}return o},e.parseMasterPlaylistMedia=function(t,n,r,i){void 0===i&&(i=[]);var o,a=[],s=0;for(h.lastIndex=0;null!==(o=h.exec(t));){var l={},c=new u.default(o[1]);if(c.TYPE===r){if(l.groupId=c["GROUP-ID"],l.name=c.NAME,l.type=r,l.default="YES"===c.DEFAULT,l.autoselect="YES"===c.AUTOSELECT,l.forced="YES"===c.FORCED,c.URI&&(l.url=e.resolve(c.URI,n)),l.lang=c.LANGUAGE,l.name||(l.name=l.lang),i.length){var d=e.findGroup(i,l.groupId);l.audioCodec=d?d.codec:i[0].codec}l.id=s++,a.push(l)}}return a},e.parseLevelPlaylist=function(e,n,i,c,d){var h,m,v=0,y=0,_=new a.default(n),b=new s.default,E=0,A=null,T=new o.default,S=null;for(f.lastIndex=0;null!==(h=f.exec(e));){var w=h[1];if(w){T.duration=parseFloat(w);var C=(" "+h[2]).slice(1);T.title=C||null,T.tagList.push(C?["INF",w,C]:["INF",w])}else if(h[3]){if(t.isFinite(T.duration)){var k=v++;T.type=c,T.start=y,T.levelkey=b,T.sn=k,T.level=i,T.cc=E,T.urlId=d,T.baseurl=n,T.relurl=(" "+h[3]).slice(1),r(T,A),_.fragments.push(T),A=T,y+=T.duration,T=new o.default}}else if(h[4]){if(T.rawByteRange=(" "+h[4]).slice(1),A){var D=A.byteRangeEndOffset;D&&(T.lastByteRangeEndOffset=D)}}else if(h[5])T.rawProgramDateTime=(" "+h[5]).slice(1),T.tagList.push(["PROGRAM-DATE-TIME",T.rawProgramDateTime]),null===S&&(S=_.fragments.length);else{for(h=h[0].match(p),m=1;m<h.length&&void 0===h[m];m++);var x=(" "+h[m+1]).slice(1),L=(" "+h[m+2]).slice(1);switch(h[m]){case"#":T.tagList.push(L?[x,L]:[x]);break;case"PLAYLIST-TYPE":_.type=x.toUpperCase();break;case"MEDIA-SEQUENCE":v=_.startSN=parseInt(x);break;case"TARGETDURATION":_.targetduration=parseFloat(x);break;case"VERSION":_.version=parseInt(x);break;case"EXTM3U":break;case"ENDLIST":_.live=!1;break;case"DIS":E++,T.tagList.push(["DIS"]);break;case"DISCONTINUITY-SEQ":E=parseInt(x);break;case"KEY":var P=x,I=new u.default(P),R=I.enumeratedString("METHOD"),O=I.URI,M=I.hexadecimalInteger("IV");R&&(b=new s.default,O&&["AES-128","SAMPLE-AES","SAMPLE-AES-CENC"].indexOf(R)>=0&&(b.method=R,b.baseuri=n,b.reluri=O,b.key=null,b.iv=M));break;case"START":var N=x,F=new u.default(N).decimalFloatingPoint("TIME-OFFSET");t.isFinite(F)&&(_.startTimeOffset=F);break;case"MAP":var j=new u.default(x);T.relurl=j.URI,T.rawByteRange=j.BYTERANGE,T.baseurl=n,T.level=i,T.type=c,T.sn="initSegment",_.initSegment=T,(T=new o.default).rawProgramDateTime=_.initSegment.rawProgramDateTime;break;default:l.logger.warn("line parsed but not handled: "+h)}}}return(T=A)&&!T.relurl&&(_.fragments.pop(),y-=T.duration),_.totalduration=y,_.averagetargetduration=y/_.fragments.length,_.endSN=v-1,_.startCC=_.fragments[0]?_.fragments[0].cc:0,_.endCC=E,!_.initSegment&&_.fragments.length&&_.fragments.every((function(t){return g.test(t.relurl)}))&&(l.logger.warn("MP4 fragments found but no init segment (probably no MAP, incomplete M3U8), trying to fetch SIDX"),(T=new o.default).relurl=_.fragments[0].relurl,T.baseurl=n,T.level=i,T.type=c,T.sn="initSegment",_.initSegment=T,_.needSidxRanges=!0),S&&function(t,e){for(var n=t[e],r=e-1;r>=0;r--){var i=t[r];i.programDateTime=n.programDateTime-1e3*i.duration,n=i}}(_.fragments,S),_},e}();e.default=m}).call(this,n(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/loader/playlist-loader.js":
/*!***************************************!*\
	  !*** ./src/loader/playlist-loader.js ***!
	  \***************************************/
/*! no static exports found */ /*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,n){"use strict";(function(t){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(/*! ../events */"./src/events.js"),o=n(/*! ../event-handler */"./src/event-handler.js"),a=n(/*! ../errors */"./src/errors.js"),s=n(/*! ../utils/logger */"./src/utils/logger.js"),u=n(/*! ../demux/mp4demuxer */"./src/demux/mp4demuxer.js"),l=n(/*! ./m3u8-parser */"./src/loader/m3u8-parser.js"),c=window.performance,d={MANIFEST:"manifest",LEVEL:"level",AUDIO_TRACK:"audioTrack",SUBTITLE_TRACK:"subtitleTrack"},h={MAIN:"main",AUDIO:"audio",SUBTITLE:"subtitle"},f=function(e){function n(t){var n=e.call(this,t,i.default.MANIFEST_LOADING,i.default.LEVEL_LOADING,i.default.AUDIO_TRACK_LOADING,i.default.SUBTITLE_TRACK_LOADING)||this;return n.loaders={},n}return r(n,e),Object.defineProperty(n,"ContextType",{get:function(){return d},enumerable:!0,configurable:!0}),Object.defineProperty(n,"LevelType",{get:function(){return h},enumerable:!0,configurable:!0}),n.canHaveQualityLevels=function(t){return t!==d.AUDIO_TRACK&&t!==d.SUBTITLE_TRACK},n.mapContextToLevelType=function(t){switch(t.type){case d.AUDIO_TRACK:return h.AUDIO;case d.SUBTITLE_TRACK:return h.SUBTITLE;default:return h.MAIN}},n.getResponseUrl=function(t,e){var n=t.url;return void 0!==n&&0!==n.indexOf("data:")||(n=e.url),n},n.prototype.createInternalLoader=function(t){var e=this.hls.config,n=e.pLoader,r=e.loader,i=new(n||r)(e);return t.loader=i,this.loaders[t.type]=i,i},n.prototype.getInternalLoader=function(t){return this.loaders[t.type]},n.prototype.resetInternalLoader=function(t){this.loaders[t]&&delete this.loaders[t]},n.prototype.destroyInternalLoaders=function(){for(var t in this.loaders){var e=this.loaders[t];e&&e.destroy(),this.resetInternalLoader(t)}},n.prototype.destroy=function(){this.destroyInternalLoaders(),e.prototype.destroy.call(this)},n.prototype.onManifestLoading=function(t){this.load(t.url,{type:d.MANIFEST,level:0,id:null})},n.prototype.onLevelLoading=function(t){this.load(t.url,{type:d.LEVEL,level:t.level,id:t.id})},n.prototype.onAudioTrackLoading=function(t){this.load(t.url,{type:d.AUDIO_TRACK,level:null,id:t.id})},n.prototype.onSubtitleTrackLoading=function(t){this.load(t.url,{type:d.SUBTITLE_TRACK,level:null,id:t.id})},n.prototype.load=function(t,e){var n=this.hls.config;s.logger.debug("Loading playlist of type "+e.type+", level: "+e.level+", id: "+e.id);var r,i,o,a,u=this.getInternalLoader(e);if(u){var l=u.context;if(l&&l.url===t)return s.logger.trace("playlist request ongoing"),!1;s.logger.warn("aborting previous loader for type: "+e.type),u.abort()}switch(e.type){case d.MANIFEST:r=n.manifestLoadingMaxRetry,i=n.manifestLoadingTimeOut,o=n.manifestLoadingRetryDelay,a=n.manifestLoadingMaxRetryTimeout;break;case d.LEVEL:r=0,i=n.levelLoadingTimeOut;break;default:r=n.levelLoadingMaxRetry,i=n.levelLoadingTimeOut,o=n.levelLoadingRetryDelay,a=n.levelLoadingMaxRetryTimeout}u=this.createInternalLoader(e),e.url=t,e.responseType=e.responseType||"";var c={timeout:i,maxRetry:r,retryDelay:o,maxRetryDelay:a},h={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};return s.logger.debug("Calling internal loader delegate for URL: "+t),u.load(e,c,h),!0},n.prototype.loadsuccess=function(t,e,n,r){if(void 0===r&&(r=null),n.isSidxRequest)return this._handleSidxRequest(t,n),void this._handlePlaylistLoaded(t,e,n,r);this.resetInternalLoader(n.type);var i=t.data;return e.tload=c.now(),0!==i.indexOf("#EXTM3U")?void this._handleManifestParsingError(t,n,"no EXTM3U delimiter",r):void(i.indexOf("#EXTINF:")>0||i.indexOf("#EXT-X-TARGETDURATION:")>0?this._handleTrackOrLevelPlaylist(t,e,n,r):this._handleMasterPlaylist(t,e,n,r))},n.prototype.loaderror=function(t,e,n){void 0===n&&(n=null),this._handleNetworkError(e,n,!1,t)},n.prototype.loadtimeout=function(t,e,n){void 0===n&&(n=null),this._handleNetworkError(e,n,!0)},n.prototype._handleMasterPlaylist=function(t,e,r,o){var a=this.hls,u=t.data,c=n.getResponseUrl(t,r),d=l.default.parseMasterPlaylist(u,c);if(d.length){var h=d.map((function(t){return{id:t.attrs.AUDIO,codec:t.audioCodec}})),f=l.default.parseMasterPlaylistMedia(u,c,"AUDIO",h),p=l.default.parseMasterPlaylistMedia(u,c,"SUBTITLES");if(f.length){var g=!1;f.forEach((function(t){t.url||(g=!0)})),!1===g&&d[0].audioCodec&&!d[0].attrs.AUDIO&&(s.logger.log("audio codec signaled in quality level, but no embedded audio track signaled, create one"),f.unshift({type:"main",name:"main"}))}a.trigger(i.default.MANIFEST_LOADED,{levels:d,audioTracks:f,subtitles:p,url:c,stats:e,networkDetails:o})}else this._handleManifestParsingError(t,r,"no level found in manifest",o)},n.prototype._handleTrackOrLevelPlaylist=function(e,r,o,a){var s=this.hls,u=o.id,h=o.level,f=o.type,p=n.getResponseUrl(e,o),g=t.isFinite(u)?u:0,m=t.isFinite(h)?h:g,v=n.mapContextToLevelType(o),y=l.default.parseLevelPlaylist(e.data,p,m,v,g);if(y.tload=r.tload,f===d.MANIFEST){var _={url:p,details:y};s.trigger(i.default.MANIFEST_LOADED,{levels:[_],audioTracks:[],url:p,stats:r,networkDetails:a})}if(r.tparsed=c.now(),y.needSidxRanges){var b=y.initSegment.url;this.load(b,{isSidxRequest:!0,type:f,level:h,levelDetails:y,id:u,rangeStart:0,rangeEnd:2048,responseType:"arraybuffer"})}else o.levelDetails=y,this._handlePlaylistLoaded(e,r,o,a)},n.prototype._handleSidxRequest=function(t,e){var n=u.default.parseSegmentIndex(new Uint8Array(t.data));if(n){var r=n.references,i=e.levelDetails;r.forEach((function(t,e){var n=t.info,r=i.fragments[e];0===r.byteRange.length&&(r.rawByteRange=String(1+n.end-n.start)+"@"+String(n.start))})),i.initSegment.rawByteRange=String(n.moovEndOffset)+"@0"}},n.prototype._handleManifestParsingError=function(t,e,n,r){this.hls.trigger(i.default.ERROR,{type:a.ErrorTypes.NETWORK_ERROR,details:a.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:!0,url:t.url,reason:n,networkDetails:r})},n.prototype._handleNetworkError=function(t,e,n,r){void 0===n&&(n=!1),void 0===r&&(r=null),s.logger.info("A network error occured while loading a "+t.type+"-type playlist");var o,u,l=this.getInternalLoader(t);switch(t.type){case d.MANIFEST:o=n?a.ErrorDetails.MANIFEST_LOAD_TIMEOUT:a.ErrorDetails.MANIFEST_LOAD_ERROR,u=!0;break;case d.LEVEL:o=n?a.ErrorDetails.LEVEL_LOAD_TIMEOUT:a.ErrorDetails.LEVEL_LOAD_ERROR,u=!1;break;case d.AUDIO_TRACK:o=n?a.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:a.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,u=!1;break;default:u=!1}l&&(l.abort(),this.resetInternalLoader(t.type));var c={type:a.ErrorTypes.NETWORK_ERROR,details:o,fatal:u,url:l.url,loader:l,context:t,networkDetails:e};r&&(c.response=r),this.hls.trigger(i.default.ERROR,c)},n.prototype._handlePlaylistLoaded=function(t,e,r,o){var a=r.type,s=r.level,u=r.id,l=r.levelDetails;if(l.targetduration)if(n.canHaveQualityLevels(r.type))this.hls.trigger(i.default.LEVEL_LOADED,{details:l,level:s||0,id:u||0,stats:e,networkDetails:o});else switch(a){case d.AUDIO_TRACK:this.hls.trigger(i.default.AUDIO_TRACK_LOADED,{details:l,id:u,stats:e,networkDetails:o});break;case d.SUBTITLE_TRACK:this.hls.trigger(i.default.SUBTITLE_TRACK_LOADED,{details:l,id:u,stats:e,networkDetails:o})}else this._handleManifestParsingError(t,r,"invalid target duration",o)},n}(o.default);e.default=f}).call(this,n(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/observer.js":
/*!*************************!*\
	  !*** ./src/observer.js ***!
	  \*************************/
/*! no static exports found */ /*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];this.emit.apply(this,[t,t].concat(e))},e}(n(/*! eventemitter3 */"./node_modules/eventemitter3/index.js").EventEmitter);e.Observer=i},"./src/polyfills/number.js":
/*!*********************************!*\
	  !*** ./src/polyfills/number.js ***!
	  \*********************************/
/*! no static exports found */ /*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(/*! ../utils/get-self-scope */"./src/utils/get-self-scope.js").getSelfScope().Number;e.Number=r,r.isFinite=r.isFinite||function(t){return"number"==typeof t&&isFinite(t)}},"./src/remux/aac-helper.js":
/*!*********************************!*\
	  !*** ./src/remux/aac-helper.js ***!
	  \*********************************/
/*! no static exports found */ /*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.getSilentFrame=function(t,e){switch(t){case"mp4a.40.2":if(1===e)return new Uint8Array([0,200,0,128,35,128]);if(2===e)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(1===e)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null},t}();e.default=r},"./src/remux/mp4-generator.js":
/*!************************************!*\
	  !*** ./src/remux/mp4-generator.js ***!
	  \************************************/
/*! no static exports found */ /*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Math.pow(2,32)-1,i=function(){function t(){}return t.init=function(){var e;for(e in t.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},t.types)t.types.hasOwnProperty(e)&&(t.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);var n=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),r=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);t.HDLR_TYPES={video:n,audio:r};var i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),o=new Uint8Array([0,0,0,0,0,0,0,0]);t.STTS=t.STSC=t.STCO=o,t.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),t.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),t.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),t.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var a=new Uint8Array([105,115,111,109]),s=new Uint8Array([97,118,99,49]),u=new Uint8Array([0,0,0,1]);t.FTYP=t.box(t.types.ftyp,a,u,a,s),t.DINF=t.box(t.types.dinf,t.box(t.types.dref,i))},t.box=function(t){for(var e,n=Array.prototype.slice.call(arguments,1),r=8,i=n.length,o=i;i--;)r+=n[i].byteLength;for((e=new Uint8Array(r))[0]=r>>24&255,e[1]=r>>16&255,e[2]=r>>8&255,e[3]=255&r,e.set(t,4),i=0,r=8;i<o;i++)e.set(n[i],r),r+=n[i].byteLength;return e},t.hdlr=function(e){return t.box(t.types.hdlr,t.HDLR_TYPES[e])},t.mdat=function(e){return t.box(t.types.mdat,e)},t.mdhd=function(e,n){n*=e;var i=Math.floor(n/(r+1)),o=Math.floor(n%(r+1));return t.box(t.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,i>>24,i>>16&255,i>>8&255,255&i,o>>24,o>>16&255,o>>8&255,255&o,85,196,0,0]))},t.mdia=function(e){return t.box(t.types.mdia,t.mdhd(e.timescale,e.duration),t.hdlr(e.type),t.minf(e))},t.mfhd=function(e){return t.box(t.types.mfhd,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,255&e]))},t.minf=function(e){return"audio"===e.type?t.box(t.types.minf,t.box(t.types.smhd,t.SMHD),t.DINF,t.stbl(e)):t.box(t.types.minf,t.box(t.types.vmhd,t.VMHD),t.DINF,t.stbl(e))},t.moof=function(e,n,r){return t.box(t.types.moof,t.mfhd(e),t.traf(r,n))},t.moov=function(e){for(var n=e.length,r=[];n--;)r[n]=t.trak(e[n]);return t.box.apply(null,[t.types.moov,t.mvhd(e[0].timescale,e[0].duration)].concat(r).concat(t.mvex(e)))},t.mvex=function(e){for(var n=e.length,r=[];n--;)r[n]=t.trex(e[n]);return t.box.apply(null,[t.types.mvex].concat(r))},t.mvhd=function(e,n){n*=e;var i=Math.floor(n/(r+1)),o=Math.floor(n%(r+1)),a=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,i>>24,i>>16&255,i>>8&255,255&i,o>>24,o>>16&255,o>>8&255,255&o,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return t.box(t.types.mvhd,a)},t.sdtp=function(e){var n,r,i=e.samples||[],o=new Uint8Array(4+i.length);for(r=0;r<i.length;r++)n=i[r].flags,o[r+4]=n.dependsOn<<4|n.isDependedOn<<2|n.hasRedundancy;return t.box(t.types.sdtp,o)},t.stbl=function(e){return t.box(t.types.stbl,t.stsd(e),t.box(t.types.stts,t.STTS),t.box(t.types.stsc,t.STSC),t.box(t.types.stsz,t.STSZ),t.box(t.types.stco,t.STCO))},t.avc1=function(e){var n,r,i,o=[],a=[];for(n=0;n<e.sps.length;n++)i=(r=e.sps[n]).byteLength,o.push(i>>>8&255),o.push(255&i),o=o.concat(Array.prototype.slice.call(r));for(n=0;n<e.pps.length;n++)i=(r=e.pps[n]).byteLength,a.push(i>>>8&255),a.push(255&i),a=a.concat(Array.prototype.slice.call(r));var s=t.box(t.types.avcC,new Uint8Array([1,o[3],o[4],o[5],255,224|e.sps.length].concat(o).concat([e.pps.length]).concat(a))),u=e.width,l=e.height,c=e.pixelRatio[0],d=e.pixelRatio[1];return t.box(t.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,u>>8&255,255&u,l>>8&255,255&l,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s,t.box(t.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),t.box(t.types.pasp,new Uint8Array([c>>24,c>>16&255,c>>8&255,255&c,d>>24,d>>16&255,d>>8&255,255&d])))},t.esds=function(t){var e=t.config.length;return new Uint8Array([0,0,0,0,3,23+e,0,1,0,4,15+e,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([e]).concat(t.config).concat([6,1,2]))},t.mp4a=function(e){var n=e.samplerate;return t.box(t.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,n>>8&255,255&n,0,0]),t.box(t.types.esds,t.esds(e)))},t.mp3=function(e){var n=e.samplerate;return t.box(t.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,n>>8&255,255&n,0,0]))},t.stsd=function(e){return"audio"===e.type?e.isAAC||"mp3"!==e.codec?t.box(t.types.stsd,t.STSD,t.mp4a(e)):t.box(t.types.stsd,t.STSD,t.mp3(e)):t.box(t.types.stsd,t.STSD,t.avc1(e))},t.tkhd=function(e){var n=e.id,i=e.duration*e.timescale,o=e.width,a=e.height,s=Math.floor(i/(r+1)),u=Math.floor(i%(r+1));return t.box(t.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,n>>24&255,n>>16&255,n>>8&255,255&n,0,0,0,0,s>>24,s>>16&255,s>>8&255,255&s,u>>24,u>>16&255,u>>8&255,255&u,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,o>>8&255,255&o,0,0,a>>8&255,255&a,0,0]))},t.traf=function(e,n){var i=t.sdtp(e),o=e.id,a=Math.floor(n/(r+1)),s=Math.floor(n%(r+1));return t.box(t.types.traf,t.box(t.types.tfhd,new Uint8Array([0,0,0,0,o>>24,o>>16&255,o>>8&255,255&o])),t.box(t.types.tfdt,new Uint8Array([1,0,0,0,a>>24,a>>16&255,a>>8&255,255&a,s>>24,s>>16&255,s>>8&255,255&s])),t.trun(e,i.length+16+20+8+16+8+8),i)},t.trak=function(e){return e.duration=e.duration||4294967295,t.box(t.types.trak,t.tkhd(e),t.mdia(e))},t.trex=function(e){var n=e.id;return t.box(t.types.trex,new Uint8Array([0,0,0,0,n>>24,n>>16&255,n>>8&255,255&n,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},t.trun=function(e,n){var r,i,o,a,s,u,l=e.samples||[],c=l.length,d=12+16*c,h=new Uint8Array(d);for(n+=8+d,h.set([0,0,15,1,c>>>24&255,c>>>16&255,c>>>8&255,255&c,n>>>24&255,n>>>16&255,n>>>8&255,255&n],0),r=0;r<c;r++)o=(i=l[r]).duration,a=i.size,s=i.flags,u=i.cts,h.set([o>>>24&255,o>>>16&255,o>>>8&255,255&o,a>>>24&255,a>>>16&255,a>>>8&255,255&a,s.isLeading<<2|s.dependsOn,s.isDependedOn<<6|s.hasRedundancy<<4|s.paddingValue<<1|s.isNonSync,61440&s.degradPrio,15&s.degradPrio,u>>>24&255,u>>>16&255,u>>>8&255,255&u],12+16*r);return t.box(t.types.trun,h)},t.initSegment=function(e){t.types||t.init();var n,r=t.moov(e);return(n=new Uint8Array(t.FTYP.byteLength+r.byteLength)).set(t.FTYP),n.set(r,t.FTYP.byteLength),n},t}();e.default=i},"./src/remux/mp4-remuxer.js":
/*!**********************************!*\
	  !*** ./src/remux/mp4-remuxer.js ***!
	  \**********************************/
/*! no static exports found */ /*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(/*! ./aac-helper */"./src/remux/aac-helper.js"),i=n(/*! ./mp4-generator */"./src/remux/mp4-generator.js"),o=n(/*! ../events */"./src/events.js"),a=n(/*! ../errors */"./src/errors.js"),s=n(/*! ../utils/logger */"./src/utils/logger.js"),u=function(){function t(t,e,n,r){this.observer=t,this.config=e,this.typeSupported=n;var i=navigator.userAgent;this.isSafari=r&&r.indexOf("Apple")>-1&&i&&!i.match("CriOS"),this.ISGenerated=!1}return t.prototype.destroy=function(){},t.prototype.resetTimeStamp=function(t){this._initPTS=this._initDTS=t},t.prototype.resetInitSegment=function(){this.ISGenerated=!1},t.prototype.remux=function(t,e,n,r,i,a,u){if(this.ISGenerated||this.generateIS(t,e,i),this.ISGenerated){var l=t.samples.length,c=e.samples.length,d=i,h=i;if(l&&c){var f=(t.samples[0].pts-e.samples[0].pts)/e.inputTimeScale;d+=Math.max(0,f),h+=Math.max(0,-f)}if(l){t.timescale||(s.logger.warn("regenerate InitSegment as audio detected"),this.generateIS(t,e,i));var p=this.remuxAudio(t,d,a,u);if(c){var g=void 0;p&&(g=p.endPTS-p.startPTS),e.timescale||(s.logger.warn("regenerate InitSegment as video detected"),this.generateIS(t,e,i)),this.remuxVideo(e,h,a,g,u)}}else if(c){var m=this.remuxVideo(e,h,a,0,u);m&&t.codec&&this.remuxEmptyAudio(t,d,a,m)}}n.samples.length&&this.remuxID3(n,i),r.samples.length&&this.remuxText(r,i),this.observer.trigger(o.default.FRAG_PARSED)},t.prototype.generateIS=function(t,e,n){var r,u,l=this.observer,c=t.samples,d=e.samples,h=this.typeSupported,f="audio/mp4",p={},g={tracks:p},m=void 0===this._initPTS;if(m&&(r=u=1/0),t.config&&c.length&&(t.timescale=t.samplerate,s.logger.log("audio sampling rate : "+t.samplerate),t.isAAC||(h.mpeg?(f="audio/mpeg",t.codec=""):h.mp3&&(t.codec="mp3")),p.audio={container:f,codec:t.codec,initSegment:!t.isAAC&&h.mpeg?new Uint8Array:i.default.initSegment([t]),metadata:{channelCount:t.channelCount}},m&&(r=u=c[0].pts-t.inputTimeScale*n)),e.sps&&e.pps&&d.length){var v=e.inputTimeScale;e.timescale=v,p.video={container:"video/mp4",codec:e.codec,initSegment:i.default.initSegment([e]),metadata:{width:e.width,height:e.height}},m&&(r=Math.min(r,d[0].pts-v*n),u=Math.min(u,d[0].dts-v*n),this.observer.trigger(o.default.INIT_PTS_FOUND,{initPTS:r}))}Object.keys(p).length?(l.trigger(o.default.FRAG_PARSING_INIT_SEGMENT,g),this.ISGenerated=!0,m&&(this._initPTS=r,this._initDTS=u)):l.trigger(o.default.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"no audio/video samples found"})},t.prototype.remuxVideo=function(t,e,n,r,u){var l,c,d,h,f,p,g,m=8,v=t.timescale,y=t.samples,_=[],b=y.length,E=this._PTSNormalize,A=this._initPTS,T=this.nextAvcDts,S=this.isSafari;if(0!==b){S&&(n|=y.length&&T&&(u&&Math.abs(e-T/v)<.1||Math.abs(y[0].pts-T-A)<v/5)),n||(T=e*v),y.forEach((function(t){t.pts=E(t.pts-A,T),t.dts=E(t.dts-A,T)})),y.sort((function(t,e){var n=t.dts-e.dts,r=t.pts-e.pts;return n||r||t.id-e.id}));var w=y.reduce((function(t,e){return Math.max(Math.min(t,e.pts-e.dts),-18e3)}),0);if(w<0){s.logger.warn("PTS < DTS detected in video samples, shifting DTS by "+Math.round(w/90)+" ms to overcome this issue");for(var C=0;C<y.length;C++)y[C].dts+=w}var k=y[0];f=Math.max(k.dts,0),h=Math.max(k.pts,0);var D=Math.round((f-T)/90);n&&D&&(D>1?s.logger.log("AVC:"+D+" ms hole between fragments detected,filling it"):D<-1&&s.logger.log("AVC:"+-D+" ms overlapping between fragments detected"),f=T,y[0].dts=f,h=Math.max(h-D,T),y[0].pts=h,s.logger.log("Video/PTS/DTS adjusted: "+Math.round(h/90)+"/"+Math.round(f/90)+",delta:"+D+" ms")),k=y[y.length-1],g=Math.max(k.dts,0),p=Math.max(k.pts,0,g),S&&(l=Math.round((g-f)/(y.length-1)));var x=0,L=0;for(C=0;C<b;C++){for(var P=y[C],I=P.units,R=I.length,O=0,M=0;M<R;M++)O+=I[M].data.length;L+=O,x+=R,P.length=O,P.dts=S?f+C*l:Math.max(P.dts,f),P.pts=Math.max(P.pts,P.dts)}var N=L+4*x+8;try{c=new Uint8Array(N)}catch(t){return void this.observer.trigger(o.default.ERROR,{type:a.ErrorTypes.MUX_ERROR,details:a.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:N,reason:"fail allocating video mdat "+N})}var F=new DataView(c.buffer);for(F.setUint32(0,N),c.set(i.default.types.mdat,4),C=0;C<b;C++){var j=y[C],U=j.units,B=0,H=void 0;for(M=0,R=U.length;M<R;M++){var G=U[M],V=G.data,W=G.data.byteLength;F.setUint32(m,W),m+=4,c.set(V,m),m+=W,B+=4+W}if(S)H=Math.max(0,l*Math.round((j.pts-j.dts)/l));else{if(C<b-1)l=y[C+1].dts-j.dts;else{var q=this.config,K=j.dts-y[C>0?C-1:C].dts;if(q.stretchShortVideoTrack){var Y=q.maxBufferHole,z=Math.floor(Y*v),X=(r?h+r*v:this.nextAudioPts)-j.pts;X>z?((l=X-K)<0&&(l=K),s.logger.log("It is approximately "+X/90+" ms to the next segment; using duration "+l/90+" ms for the last video frame.")):l=K}else l=K}H=Math.round(j.pts-j.dts)}_.push({size:B,duration:l,cts:H,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:j.key?2:1,isNonSync:j.key?0:1}})}this.nextAvcDts=g+l;var $=t.dropped;if(t.len=0,t.nbNalu=0,t.dropped=0,_.length&&navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var Q=_[0].flags;Q.dependsOn=2,Q.isNonSync=0}t.samples=_,d=i.default.moof(t.sequenceNumber++,f,t),t.samples=[];var J={data1:d,data2:c,startPTS:h/v,endPTS:(p+l)/v,startDTS:f/v,endDTS:this.nextAvcDts/v,type:"video",hasAudio:!1,hasVideo:!0,nb:_.length,dropped:$};return this.observer.trigger(o.default.FRAG_PARSING_DATA,J),J}},t.prototype.remuxAudio=function(t,e,n,u){var l,c,d,h,f,p,g,m=t.inputTimeScale,v=t.timescale,y=m/v,_=(t.isAAC?1024:1152)*y,b=this._PTSNormalize,E=this._initPTS,A=!t.isAAC&&this.typeSupported.mpeg,T=t.samples,S=[],w=this.nextAudioPts;if(n|=T.length&&w&&(u&&Math.abs(e-w/m)<.1||Math.abs(T[0].pts-w-E)<20*_),T.forEach((function(t){t.pts=t.dts=b(t.pts-E,e*m)})),0!==(T=T.filter((function(t){return t.pts>=0}))).length){if(n||(w=u?e*m:T[0].pts),t.isAAC)for(var C=this.config.maxAudioFramesDrift,k=0,D=w;k<T.length;){var x,L=T[k];x=(j=L.pts)-D;var P=Math.abs(1e3*x/m);if(x<=-C*_)s.logger.warn("Dropping 1 audio frame @ "+(D/m).toFixed(3)+"s due to "+Math.round(P)+" ms overlap."),T.splice(k,1),t.len-=L.unit.length;else if(x>=C*_&&P<1e4&&D){var I=Math.round(x/_);s.logger.warn("Injecting "+I+" audio frame @ "+(D/m).toFixed(3)+"s due to "+Math.round(1e3*x/m)+" ms gap.");for(var R=0;R<I;R++){var O=Math.max(D,0);(d=r.default.getSilentFrame(t.manifestCodec||t.codec,t.channelCount))||(s.logger.log("Unable to get silent frame for given audio codec; duplicating last frame instead."),d=L.unit.subarray()),T.splice(k,0,{unit:d,pts:O,dts:O}),t.len+=d.length,D+=_,k++}L.pts=L.dts=D,D+=_,k++}else Math.abs(x),L.pts=L.dts=D,D+=_,k++}R=0;for(var M=T.length;R<M;R++){var N=T[R],F=N.unit,j=N.pts;if(void 0!==g)c.duration=Math.round((j-g)/y);else{var U=Math.round(1e3*(j-w)/m),B=0;if(n&&t.isAAC&&U){if(U>0&&U<1e4)B=Math.round((j-w)/_),s.logger.log(U+" ms hole between AAC samples detected,filling it"),B>0&&((d=r.default.getSilentFrame(t.manifestCodec||t.codec,t.channelCount))||(d=F.subarray()),t.len+=B*d.length);else if(U<-12){s.logger.log("drop overlapping AAC sample, expected/parsed/delta:"+(w/m).toFixed(3)+"s/"+(j/m).toFixed(3)+"s/"+-U+"ms"),t.len-=F.byteLength;continue}j=w}if(p=j,!(t.len>0))return;var H=A?t.len:t.len+8;l=A?0:8;try{h=new Uint8Array(H)}catch(t){return void this.observer.trigger(o.default.ERROR,{type:a.ErrorTypes.MUX_ERROR,details:a.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:H,reason:"fail allocating audio mdat "+H})}for(A||(new DataView(h.buffer).setUint32(0,H),h.set(i.default.types.mdat,4)),k=0;k<B;k++)(d=r.default.getSilentFrame(t.manifestCodec||t.codec,t.channelCount))||(s.logger.log("Unable to get silent frame for given audio codec; duplicating this frame instead."),d=F.subarray()),h.set(d,l),l+=d.byteLength,c={size:d.byteLength,cts:0,duration:1024,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},S.push(c)}h.set(F,l);var G=F.byteLength;l+=G,c={size:G,cts:0,duration:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},S.push(c),g=j}var V=0,W=S.length;if(W>=2&&(V=S[W-2].duration,c.duration=V),W){this.nextAudioPts=w=g+y*V,t.len=0,t.samples=S,f=A?new Uint8Array:i.default.moof(t.sequenceNumber++,p/y,t),t.samples=[];var q=p/m,K=w/m,Y={data1:f,data2:h,startPTS:q,endPTS:K,startDTS:q,endDTS:K,type:"audio",hasAudio:!0,hasVideo:!1,nb:W};return this.observer.trigger(o.default.FRAG_PARSING_DATA,Y),Y}return null}},t.prototype.remuxEmptyAudio=function(t,e,n,i){var o=t.inputTimeScale,a=o/(t.samplerate?t.samplerate:o),u=this.nextAudioPts,l=(void 0!==u?u:i.startDTS*o)+this._initDTS,c=i.endDTS*o+this._initDTS,d=1024*a,h=Math.ceil((c-l)/d),f=r.default.getSilentFrame(t.manifestCodec||t.codec,t.channelCount);if(s.logger.warn("remux empty Audio"),f){for(var p=[],g=0;g<h;g++){var m=l+g*d;p.push({unit:f,pts:m,dts:m}),t.len+=f.length}t.samples=p,this.remuxAudio(t,e,n)}else s.logger.trace("Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec!")},t.prototype.remuxID3=function(t){var e,n=t.samples.length,r=t.inputTimeScale,i=this._initPTS,a=this._initDTS;if(n){for(var s=0;s<n;s++)(e=t.samples[s]).pts=(e.pts-i)/r,e.dts=(e.dts-a)/r;this.observer.trigger(o.default.FRAG_PARSING_METADATA,{samples:t.samples})}t.samples=[]},t.prototype.remuxText=function(t){t.samples.sort((function(t,e){return t.pts-e.pts}));var e,n=t.samples.length,r=t.inputTimeScale,i=this._initPTS;if(n){for(var a=0;a<n;a++)(e=t.samples[a]).pts=(e.pts-i)/r;this.observer.trigger(o.default.FRAG_PARSING_USERDATA,{samples:t.samples})}t.samples=[]},t.prototype._PTSNormalize=function(t,e){var n;if(void 0===e)return t;for(n=e<t?-8589934592:8589934592;Math.abs(t-e)>4294967296;)t+=n;return t},t}();e.default=u},"./src/remux/passthrough-remuxer.js":
/*!******************************************!*\
	  !*** ./src/remux/passthrough-remuxer.js ***!
	  \******************************************/
/*! no static exports found */ /*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(/*! ../events */"./src/events.js"),i=function(){function t(t){this.observer=t}return t.prototype.destroy=function(){},t.prototype.resetTimeStamp=function(){},t.prototype.resetInitSegment=function(){},t.prototype.remux=function(t,e,n,i,o,a,s,u){var l=this.observer,c="";t&&(c+="audio"),e&&(c+="video"),l.trigger(r.default.FRAG_PARSING_DATA,{data1:u,startPTS:o,startDTS:o,type:c,hasAudio:!!t,hasVideo:!!e,nb:1,dropped:0}),l.trigger(r.default.FRAG_PARSED)},t}();e.default=i},"./src/task-loop.js":
/*!**************************!*\
	  !*** ./src/task-loop.js ***!
	  \**************************/
/*! no static exports found */ /*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=t.apply(this,[e].concat(n))||this;return i._tickInterval=null,i._tickTimer=null,i._tickCallCount=0,i._boundTick=i.tick.bind(i),i}return r(e,t),e.prototype.onHandlerDestroying=function(){this.clearNextTick(),this.clearInterval()},e.prototype.hasInterval=function(){return!!this._tickInterval},e.prototype.hasNextTick=function(){return!!this._tickTimer},e.prototype.setInterval=function(t){return!this._tickInterval&&(this._tickInterval=setInterval(this._boundTick,t),!0)},e.prototype.clearInterval=function(){return!!this._tickInterval&&(clearInterval(this._tickInterval),this._tickInterval=null,!0)},e.prototype.clearNextTick=function(){return!!this._tickTimer&&(clearTimeout(this._tickTimer),this._tickTimer=null,!0)},e.prototype.tick=function(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&(this.clearNextTick(),this._tickTimer=setTimeout(this._boundTick,0)),this._tickCallCount=0)},e.prototype.doTick=function(){},e}(n(/*! ./event-handler */"./src/event-handler.js").default);e.default=i},"./src/utils/attr-list.js":
/*!********************************!*\
	  !*** ./src/utils/attr-list.js ***!
	  \********************************/
/*! no static exports found */ /*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n=/^(\d+)x(\d+)$/,r=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,i=function(){function e(t){for(var n in"string"==typeof t&&(t=e.parseAttrList(t)),t)t.hasOwnProperty(n)&&(this[n]=t[n])}return e.prototype.decimalInteger=function(e){var n=parseInt(this[e],10);return n>t.MAX_SAFE_INTEGER?1/0:n},e.prototype.hexadecimalInteger=function(t){if(this[t]){var e=(this[t]||"0x").slice(2);e=(1&e.length?"0":"")+e;for(var n=new Uint8Array(e.length/2),r=0;r<e.length/2;r++)n[r]=parseInt(e.slice(2*r,2*r+2),16);return n}return null},e.prototype.hexadecimalIntegerAsNumber=function(e){var n=parseInt(this[e],16);return n>t.MAX_SAFE_INTEGER?1/0:n},e.prototype.decimalFloatingPoint=function(t){return parseFloat(this[t])},e.prototype.enumeratedString=function(t){return this[t]},e.prototype.decimalResolution=function(t){var e=n.exec(this[t]);if(null!==e)return{width:parseInt(e[1],10),height:parseInt(e[2],10)}},e.parseAttrList=function(t){var e,n={};for(r.lastIndex=0;null!==(e=r.exec(t));){var i=e[2];0===i.indexOf('"')&&i.lastIndexOf('"')===i.length-1&&(i=i.slice(1,-1)),n[e[1]]=i}return n},e}();e.default=i}).call(this,n(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/utils/binary-search.js":
/*!************************************!*\
	  !*** ./src/utils/binary-search.js ***!
	  \************************************/
/*! no static exports found */ /*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={search:function(t,e){for(var n=0,r=t.length-1,i=null,o=null;n<=r;){var a=e(o=t[i=(n+r)/2|0]);if(a>0)n=i+1;else{if(!(a<0))return o;r=i-1}}return null}}},"./src/utils/buffer-helper.js":
/*!************************************!*\
	  !*** ./src/utils/buffer-helper.js ***!
	  \************************************/
/*! no static exports found */ /*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.isBuffered=function(t,e){try{if(t)for(var n=t.buffered,r=0;r<n.length;r++)if(e>=n.start(r)&&e<=n.end(r))return!0}catch(t){}return!1},t.bufferInfo=function(t,e,n){try{if(t){var r=t.buffered,i=[],o=void 0;for(o=0;o<r.length;o++)i.push({start:r.start(o),end:r.end(o)});return this.bufferedInfo(i,e,n)}}catch(t){}return{len:0,start:e,end:e,nextStart:void 0}},t.bufferedInfo=function(t,e,n){var r,i,o,a,s,u=[];for(t.sort((function(t,e){var n=t.start-e.start;return n||e.end-t.end})),s=0;s<t.length;s++){var l=u.length;if(l){var c=u[l-1].end;t[s].start-c<n?t[s].end>c&&(u[l-1].end=t[s].end):u.push(t[s])}else u.push(t[s])}for(s=0,r=0,i=o=e;s<u.length;s++){var d=u[s].start,h=u[s].end;if(e+n>=d&&e<h)i=d,r=(o=h)-e;else if(e+n<d){a=d;break}}return{len:r,start:i,end:o,nextStart:a}},t}();e.BufferHelper=r},"./src/utils/cea-608-parser.js":
/*!*************************************!*\
	  !*** ./src/utils/cea-608-parser.js ***!
	  \*************************************/
/*! no static exports found */ /*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},i=function(t){var e=t;return r.hasOwnProperty(t)&&(e=r[t]),String.fromCharCode(e)},o=15,a=100,s={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},u={17:2,18:4,21:6,22:8,23:10,19:13,20:15},l={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},c={25:2,26:4,29:6,30:8,31:10,27:13,28:15},d=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],h={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(t){this.time=t},log:function(t,e){this.verboseFilter[t],this.verboseLevel}},f=function(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n].toString(16));return e},p=function(){function t(t,e,n,r,i){this.foreground=t||"white",this.underline=e||!1,this.italics=n||!1,this.background=r||"black",this.flash=i||!1}return t.prototype.reset=function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},t.prototype.setStyles=function(t){for(var e=["foreground","underline","italics","background","flash"],n=0;n<e.length;n++){var r=e[n];t.hasOwnProperty(r)&&(this[r]=t[r])}},t.prototype.isDefault=function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},t.prototype.equals=function(t){return this.foreground===t.foreground&&this.underline===t.underline&&this.italics===t.italics&&this.background===t.background&&this.flash===t.flash},t.prototype.copy=function(t){this.foreground=t.foreground,this.underline=t.underline,this.italics=t.italics,this.background=t.background,this.flash=t.flash},t.prototype.toString=function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash},t}(),g=function(){function t(t,e,n,r,i,o){this.uchar=t||" ",this.penState=new p(e,n,r,i,o)}return t.prototype.reset=function(){this.uchar=" ",this.penState.reset()},t.prototype.setChar=function(t,e){this.uchar=t,this.penState.copy(e)},t.prototype.setPenState=function(t){this.penState.copy(t)},t.prototype.equals=function(t){return this.uchar===t.uchar&&this.penState.equals(t.penState)},t.prototype.copy=function(t){this.uchar=t.uchar,this.penState.copy(t.penState)},t.prototype.isEmpty=function(){return" "===this.uchar&&this.penState.isDefault()},t}(),m=function(){function t(){this.chars=[];for(var t=0;t<a;t++)this.chars.push(new g);this.pos=0,this.currPenState=new p}return t.prototype.equals=function(t){for(var e=!0,n=0;n<a;n++)if(!this.chars[n].equals(t.chars[n])){e=!1;break}return e},t.prototype.copy=function(t){for(var e=0;e<a;e++)this.chars[e].copy(t.chars[e])},t.prototype.isEmpty=function(){for(var t=!0,e=0;e<a;e++)if(!this.chars[e].isEmpty()){t=!1;break}return t},t.prototype.setCursor=function(t){this.pos!==t&&(this.pos=t),this.pos<0?(h.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>a&&(h.log("ERROR","Too large cursor position "+this.pos),this.pos=a)},t.prototype.moveCursor=function(t){var e=this.pos+t;if(t>1)for(var n=this.pos+1;n<e+1;n++)this.chars[n].setPenState(this.currPenState);this.setCursor(e)},t.prototype.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},t.prototype.insertChar=function(t){t>=144&&this.backSpace();var e=i(t);return this.pos>=a?void h.log("ERROR","Cannot insert "+t.toString(16)+" ("+e+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(e,this.currPenState),void this.moveCursor(1))},t.prototype.clearFromPos=function(t){var e;for(e=t;e<a;e++)this.chars[e].reset()},t.prototype.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},t.prototype.clearToEndOfRow=function(){this.clearFromPos(this.pos)},t.prototype.getTextString=function(){for(var t=[],e=!0,n=0;n<a;n++){var r=this.chars[n].uchar;" "!==r&&(e=!1),t.push(r)}return e?"":t.join("")},t.prototype.setPenStyles=function(t){this.currPenState.setStyles(t),this.chars[this.pos].setPenState(this.currPenState)},t}(),v=function(){function t(){this.rows=[];for(var t=0;t<o;t++)this.rows.push(new m);this.currRow=14,this.nrRollUpRows=null,this.reset()}return t.prototype.reset=function(){for(var t=0;t<o;t++)this.rows[t].clear();this.currRow=14},t.prototype.equals=function(t){for(var e=!0,n=0;n<o;n++)if(!this.rows[n].equals(t.rows[n])){e=!1;break}return e},t.prototype.copy=function(t){for(var e=0;e<o;e++)this.rows[e].copy(t.rows[e])},t.prototype.isEmpty=function(){for(var t=!0,e=0;e<o;e++)if(!this.rows[e].isEmpty()){t=!1;break}return t},t.prototype.backSpace=function(){this.rows[this.currRow].backSpace()},t.prototype.clearToEndOfRow=function(){this.rows[this.currRow].clearToEndOfRow()},t.prototype.insertChar=function(t){this.rows[this.currRow].insertChar(t)},t.prototype.setPen=function(t){this.rows[this.currRow].setPenStyles(t)},t.prototype.moveCursor=function(t){this.rows[this.currRow].moveCursor(t)},t.prototype.setCursor=function(t){h.log("INFO","setCursor: "+t),this.rows[this.currRow].setCursor(t)},t.prototype.setPAC=function(t){h.log("INFO","pacData = "+JSON.stringify(t));var e=t.row-1;if(this.nrRollUpRows&&e<this.nrRollUpRows-1&&(e=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==e){for(var n=0;n<o;n++)this.rows[n].clear();var r=this.currRow+1-this.nrRollUpRows,i=this.lastOutputScreen;if(i){var a=i.rows[r].cueStartTime;if(a&&a<h.time)for(n=0;n<this.nrRollUpRows;n++)this.rows[e-this.nrRollUpRows+n+1].copy(i.rows[r+n])}}this.currRow=e;var s=this.rows[this.currRow];if(null!==t.indent){var u=t.indent,l=Math.max(u-1,0);s.setCursor(t.indent),t.color=s.chars[l].penState.foreground}var c={foreground:t.color,underline:t.underline,italics:t.italics,background:"black",flash:!1};this.setPen(c)},t.prototype.setBkgData=function(t){h.log("INFO","bkgData = "+JSON.stringify(t)),this.backSpace(),this.setPen(t),this.insertChar(32)},t.prototype.setRollUpRows=function(t){this.nrRollUpRows=t},t.prototype.rollUp=function(){if(null!==this.nrRollUpRows){h.log("TEXT",this.getDisplayText());var t=this.currRow+1-this.nrRollUpRows,e=this.rows.splice(t,1)[0];e.clear(),this.rows.splice(this.currRow,0,e),h.log("INFO","Rolling up")}else h.log("DEBUG","roll_up but nrRollUpRows not set yet")},t.prototype.getDisplayText=function(t){t=t||!1;for(var e=[],n="",r=-1,i=0;i<o;i++){var a=this.rows[i].getTextString();a&&(r=i+1,t?e.push("Row "+r+": '"+a+"'"):e.push(a.trim()))}return e.length>0&&(n=t?"["+e.join(" | ")+"]":e.join("\n")),n},t.prototype.getTextAndFormat=function(){return this.rows},t}(),y=function(){function t(t,e){this.chNr=t,this.outputFilter=e,this.mode=null,this.verbose=0,this.displayedMemory=new v,this.nonDisplayedMemory=new v,this.lastOutputScreen=new v,this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}return t.prototype.reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},t.prototype.getHandler=function(){return this.outputFilter},t.prototype.setHandler=function(t){this.outputFilter=t},t.prototype.setPAC=function(t){this.writeScreen.setPAC(t)},t.prototype.setBkgData=function(t){this.writeScreen.setBkgData(t)},t.prototype.setMode=function(t){t!==this.mode&&(this.mode=t,h.log("INFO","MODE="+t),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=t)},t.prototype.insertChars=function(t){for(var e=0;e<t.length;e++)this.writeScreen.insertChar(t[e]);var n=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";h.log("INFO",n+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(h.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},t.prototype.ccRCL=function(){h.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},t.prototype.ccBS=function(){h.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},t.prototype.ccAOF=function(){},t.prototype.ccAON=function(){},t.prototype.ccDER=function(){h.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},t.prototype.ccRU=function(t){h.log("INFO","RU("+t+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(t)},t.prototype.ccFON=function(){h.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},t.prototype.ccRDC=function(){h.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},t.prototype.ccTR=function(){h.log("INFO","TR"),this.setMode("MODE_TEXT")},t.prototype.ccRTD=function(){h.log("INFO","RTD"),this.setMode("MODE_TEXT")},t.prototype.ccEDM=function(){h.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)},t.prototype.ccCR=function(){h.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)},t.prototype.ccENM=function(){h.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},t.prototype.ccEOC=function(){if(h.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var t=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=t,this.writeScreen=this.nonDisplayedMemory,h.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)},t.prototype.ccTO=function(t){h.log("INFO","TO("+t+") - Tab Offset"),this.writeScreen.moveCursor(t)},t.prototype.ccMIDROW=function(t){var e={flash:!1};if(e.underline=t%2==1,e.italics=t>=46,e.italics)e.foreground="white";else{var n=Math.floor(t/2)-16;e.foreground=["white","green","blue","cyan","red","yellow","magenta"][n]}h.log("INFO","MIDROW: "+JSON.stringify(e)),this.writeScreen.setPen(e)},t.prototype.outputDataUpdate=function(t){void 0===t&&(t=!1);var e=h.time;null!==e&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&(this.outputFilter.newCue(this.cueStartTime,e,this.lastOutputScreen),!0===t&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue()),this.cueStartTime=this.displayedMemory.isEmpty()?null:e):this.cueStartTime=e,this.lastOutputScreen.copy(this.displayedMemory))},t.prototype.cueSplitAtTime=function(t){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,t,this.displayedMemory),this.cueStartTime=t))},t}(),_=function(){function t(t,e,n){this.field=t||1,this.outputs=[e,n],this.channels=[new y(1,e),new y(2,n)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}}return t.prototype.getHandler=function(t){return this.channels[t].getHandler()},t.prototype.setHandler=function(t,e){this.channels[t].setHandler(e)},t.prototype.addData=function(t,e){var n,r,i,o=!1;this.lastTime=t,h.setTime(t);for(var a=0;a<e.length;a+=2)r=127&e[a],i=127&e[a+1],0!==r||0!==i?(h.log("DATA","["+f([e[a],e[a+1]])+"] -> ("+f([r,i])+")"),(n=this.parseCmd(r,i))||(n=this.parseMidrow(r,i)),n||(n=this.parsePAC(r,i)),n||(n=this.parseBackgroundAttributes(r,i)),!n&&(o=this.parseChars(r,i))&&(this.currChNr&&this.currChNr>=0?this.channels[this.currChNr-1].insertChars(o):h.log("WARNING","No channel found yet. TEXT-MODE?")),n?this.dataCounters.cmd+=2:o?this.dataCounters.char+=2:(this.dataCounters.other+=2,h.log("WARNING","Couldn't parse cleaned data "+f([r,i])+" orig: "+f([e[a],e[a+1]])))):this.dataCounters.padding+=2},t.prototype.parseCmd=function(t,e){var n;if(!((20===t||28===t)&&e>=32&&e<=47||(23===t||31===t)&&e>=33&&e<=35))return!1;if(t===this.lastCmdA&&e===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,h.log("DEBUG","Repeated command ("+f([t,e])+") is dropped"),!0;n=20===t||23===t?1:2;var r=this.channels[n-1];return 20===t||28===t?32===e?r.ccRCL():33===e?r.ccBS():34===e?r.ccAOF():35===e?r.ccAON():36===e?r.ccDER():37===e?r.ccRU(2):38===e?r.ccRU(3):39===e?r.ccRU(4):40===e?r.ccFON():41===e?r.ccRDC():42===e?r.ccTR():43===e?r.ccRTD():44===e?r.ccEDM():45===e?r.ccCR():46===e?r.ccENM():47===e&&r.ccEOC():r.ccTO(e-32),this.lastCmdA=t,this.lastCmdB=e,this.currChNr=n,!0},t.prototype.parseMidrow=function(t,e){var n=null;return(17===t||25===t)&&e>=32&&e<=47&&((n=17===t?1:2)!==this.currChNr?(h.log("ERROR","Mismatch channel in midrow parsing"),!1):(this.channels[n-1].ccMIDROW(e),h.log("DEBUG","MIDROW ("+f([t,e])+")"),!0))},t.prototype.parsePAC=function(t,e){var n,r;if(!((t>=17&&t<=23||t>=25&&t<=31)&&e>=64&&e<=127||(16===t||24===t)&&e>=64&&e<=95))return!1;if(t===this.lastCmdA&&e===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,!0;n=t<=23?1:2,r=e>=64&&e<=95?1===n?s[t]:l[t]:1===n?u[t]:c[t];var i=this.interpretPAC(r,e);return this.channels[n-1].setPAC(i),this.lastCmdA=t,this.lastCmdB=e,this.currChNr=n,!0},t.prototype.interpretPAC=function(t,e){var n,r={color:null,italics:!1,indent:null,underline:!1,row:t};return n=e>95?e-96:e-64,r.underline=1==(1&n),n<=13?r.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(n/2)]:n<=15?(r.italics=!0,r.color="white"):r.indent=4*Math.floor((n-16)/2),r},t.prototype.parseChars=function(t,e){var n,r=null,o=null,a=null;if(t>=25?(r=2,a=t-8):(r=1,a=t),a>=17&&a<=19?(n=17===a?e+80:18===a?e+112:e+144,h.log("INFO","Special char '"+i(n)+"' in channel "+r),o=[n]):t>=32&&t<=127&&(o=0===e?[t]:[t,e]),o){var s=f(o);h.log("DEBUG","Char codes =  "+s.join(",")),this.lastCmdA=null,this.lastCmdB=null}return o},t.prototype.parseBackgroundAttributes=function(t,e){var n,r,i,o;return!(!((16===t||24===t)&&e>=32&&e<=47)&&!((23===t||31===t)&&e>=45&&e<=47)||(n={},16===t||24===t?(r=Math.floor((e-32)/2),n.background=d[r],e%2==1&&(n.background=n.background+"_semi")):45===e?n.background="transparent":(n.foreground="black",47===e&&(n.underline=!0)),i=t<24?1:2,o=this.channels[i-1],o.setBkgData(n),this.lastCmdA=null,this.lastCmdB=null,0))},t.prototype.reset=function(){for(var t=0;t<this.channels.length;t++)this.channels[t]&&this.channels[t].reset();this.lastCmdA=null,this.lastCmdB=null},t.prototype.cueSplitAtTime=function(t){for(var e=0;e<this.channels.length;e++)this.channels[e]&&this.channels[e].cueSplitAtTime(t)},t}();e.default=_},"./src/utils/codecs.js":
/*!*****************************!*\
	  !*** ./src/utils/codecs.js ***!
	  \*****************************/
/*! no static exports found */ /*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,drac:!0,dvav:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0}};e.isCodecType=function(t,e){var n=r[e];return!!n&&!0===n[t.slice(0,4)]},e.isCodecSupportedInMp4=function(t,e){return window.MediaSource.isTypeSupported((e||"video")+'/mp4;codecs="'+t+'"')}},"./src/utils/cues.js":
/*!***************************!*\
	  !*** ./src/utils/cues.js ***!
	  \***************************/
/*! no static exports found */ /*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(/*! ./vttparser */"./src/utils/vttparser.js");e.newCue=function(t,e,n,i){for(var o,a,s,u,l,c=window.VTTCue||window.TextTrackCue,d=0;d<i.rows.length;d++)if(s=!0,u=0,l="",!(o=i.rows[d]).isEmpty()){for(var h=0;h<o.chars.length;h++)o.chars[h].uchar.match(/\s/)&&s?u++:(l+=o.chars[h].uchar,s=!1);o.cueStartTime=e,e===n&&(n+=1e-4),a=new c(e,n,r.fixLineBreaks(l.trim())),u>=16?u--:u++,navigator.userAgent.match(/Firefox\//)?a.line=d+1:a.line=d>7?d-2:d+1,a.align="left",a.position=Math.max(0,Math.min(100,u/32*100+(navigator.userAgent.match(/Firefox\//)?50:0))),t.addCue(a)}}},"./src/utils/discontinuities.js":
/*!**************************************!*\
	  !*** ./src/utils/discontinuities.js ***!
	  \**************************************/
/*! no static exports found */ /*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,n){"use strict";(function(t){function r(t,e){for(var n=null,r=0;r<t.length;r+=1){var i=t[r];if(i&&i.cc===e){n=i;break}}return n}function i(t,e,n){var r=!1;return e&&e.details&&n&&(n.endCC>n.startCC||t&&t.cc<n.startCC)&&(r=!0),r}function o(t,e){var n=t.fragments,i=e.fragments;if(i.length&&n.length){var o=r(n,i[0].cc);return!o||o&&!o.startPTS?void c.logger.log("No frag in previous level to align on"):o}c.logger.log("No fragments to align")}function a(t,e){e.fragments.forEach((function(e){if(e){var n=e.start+t;e.start=e.startPTS=n,e.endPTS=n+e.duration}})),e.PTSKnown=!0}function s(t,e,n){if(i(t,n,e)){var r=o(n.details,e);r&&(c.logger.log("Adjusting PTS using last level due to CC increase within current level"),a(r.start,e))}}function u(e,n){if(n&&n.fragments.length){if(!e.hasProgramDateTime||!n.hasProgramDateTime)return;var r=n.fragments[0].programDateTime,i=(e.fragments[0].programDateTime-r)/1e3+n.fragments[0].start;t.isFinite(i)&&(c.logger.log("adjusting PTS using programDateTime delta, sliding:"+i.toFixed(3)),a(i,e))}}Object.defineProperty(e,"__esModule",{value:!0});var l=n(/*! ./binary-search */"./src/utils/binary-search.js"),c=n(/*! ../utils/logger */"./src/utils/logger.js");e.findFirstFragWithCC=r,e.findFragWithCC=function(t,e){return l.default.search(t,(function(t){return t.cc<e?1:t.cc>e?-1:0}))},e.shouldAlignOnDiscontinuities=i,e.findDiscontinuousReferenceFrag=o,e.adjustPts=a,e.alignStream=function(t,e,n){s(t,n,e),!n.PTSKnown&&e&&u(n,e.details)},e.alignDiscontinuities=s,e.alignPDT=u}).call(this,n(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/utils/ewma-bandwidth-estimator.js":
/*!***********************************************!*\
	  !*** ./src/utils/ewma-bandwidth-estimator.js ***!
	  \***********************************************/
/*! no static exports found */ /*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(/*! ../utils/ewma */"./src/utils/ewma.js"),i=function(){function t(t,e,n,i){this.hls=t,this.defaultEstimate_=i,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new r.default(e),this.fast_=new r.default(n)}return t.prototype.sample=function(t,e){var n=8e3*e/(t=Math.max(t,this.minDelayMs_)),r=t/1e3;this.fast_.sample(r,n),this.slow_.sample(r,n)},t.prototype.canEstimate=function(){var t=this.fast_;return t&&t.getTotalWeight()>=this.minWeight_},t.prototype.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},t.prototype.destroy=function(){},t}();e.default=i},"./src/utils/ewma.js":
/*!***************************!*\
	  !*** ./src/utils/ewma.js ***!
	  \***************************/
/*! no static exports found */ /*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this.alpha_=t?Math.exp(Math.log(.5)/t):0,this.estimate_=0,this.totalWeight_=0}return t.prototype.sample=function(t,e){var n=Math.pow(this.alpha_,t);this.estimate_=e*(1-n)+n*this.estimate_,this.totalWeight_+=t},t.prototype.getTotalWeight=function(){return this.totalWeight_},t.prototype.getEstimate=function(){if(this.alpha_){var t=1-Math.pow(this.alpha_,this.totalWeight_);return this.estimate_/t}return this.estimate_},t}();e.default=r},"./src/utils/get-self-scope.js":
/*!*************************************!*\
	  !*** ./src/utils/get-self-scope.js ***!
	  \*************************************/
/*! no static exports found */ /*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSelfScope=function(){return"undefined"==typeof window?self:window}},"./src/utils/logger.js":
/*!*****************************!*\
	  !*** ./src/utils/logger.js ***!
	  \*****************************/
/*! no static exports found */ /*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,n){"use strict";function r(){}function i(t,e){return"["+t+"] > "+e}function o(t){var e=l.console[t];return e?function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];n[0]&&(n[0]=i(t,n[0])),e.apply(l.console,n)}:r}Object.defineProperty(e,"__esModule",{value:!0});var a=n(/*! ./get-self-scope */"./src/utils/get-self-scope.js"),s={trace:r,debug:r,log:r,warn:r,info:r,error:r},u=s,l=a.getSelfScope();e.enableLogs=function(t){if(!0===t||"object"==_typeof(t)){!function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];e.forEach((function(e){u[e]=t[e]?t[e].bind(t):o(e)}))}(t,"debug","log","info","warn","error");try{u.log()}catch(t){u=s}}else u=s},e.logger=u},"./src/utils/mediakeys-helper.js":
/*!***************************************!*\
	  !*** ./src/utils/mediakeys-helper.js ***!
	  \***************************************/
/*! no static exports found */ /*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="undefined"!=typeof window&&window.navigator&&window.navigator.requestMediaKeySystemAccess?window.navigator.requestMediaKeySystemAccess.bind(window.navigator):null;e.requestMediaKeySystemAccess=r},"./src/utils/mediasource-helper.js":
/*!*****************************************!*\
	  !*** ./src/utils/mediasource-helper.js ***!
	  \*****************************************/
/*! no static exports found */ /*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getMediaSource=function(){if("undefined"!=typeof window)return window.MediaSource||window.WebKitMediaSource}},"./src/utils/output-filter.js":
/*!************************************!*\
	  !*** ./src/utils/output-filter.js ***!
	  \************************************/
/*! no static exports found */ /*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){this.timelineController=t,this.trackName=e,this.startTime=null,this.endTime=null,this.screen=null}return t.prototype.dispatchCue=function(){null!==this.startTime&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen),this.startTime=null)},t.prototype.newCue=function(t,e,n){(null===this.startTime||this.startTime>t)&&(this.startTime=t),this.endTime=e,this.screen=n,this.timelineController.createCaptionsTrack(this.trackName)},t}();e.default=r},"./src/utils/texttrack-utils.js":
/*!**************************************!*\
	  !*** ./src/utils/texttrack-utils.js ***!
	  \**************************************/
/*! no static exports found */ /*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sendAddTrackEvent=function(t,e){var n=null;try{n=new window.Event("addtrack")}catch(t){(n=document.createEvent("Event")).initEvent("addtrack",!1,!1)}n.track=t,e.dispatchEvent(n)},e.clearCurrentCues=function(t){if(t&&t.cues)for(;t.cues.length>0;)t.removeCue(t.cues[0])}},"./src/utils/time-ranges.js":
/*!**********************************!*\
	  !*** ./src/utils/time-ranges.js ***!
	  \**********************************/
/*! no static exports found */ /*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={toString:function(t){for(var e="",n=t.length,r=0;r<n;r++)e+="["+t.start(r).toFixed(3)+","+t.end(r).toFixed(3)+"]";return e}}},"./src/utils/vttcue.js":
/*!*****************************!*\
	  !*** ./src/utils/vttcue.js ***!
	  \*****************************/
/*! no static exports found */ /*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){function t(t){return"string"==typeof t&&!!o[t.toLowerCase()]&&t.toLowerCase()}function e(t){return"string"==typeof t&&!!a[t.toLowerCase()]&&t.toLowerCase()}function n(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function r(r,o,a){var s=this,u=function(){if("undefined"!=typeof navigator)return/MSIE\s8\.0/.test(navigator.userAgent)}(),l={};u?s=document.createElement("custom"):l.enumerable=!0,s.hasBeenReset=!1;var c="",d=!1,h=r,f=o,p=a,g=null,m="",v=!0,y="auto",_="start",b=50,E="middle",A=50,T="middle";if(Object.defineProperty(s,"id",n({},l,{get:function(){return c},set:function(t){c=""+t}})),Object.defineProperty(s,"pauseOnExit",n({},l,{get:function(){return d},set:function(t){d=!!t}})),Object.defineProperty(s,"startTime",n({},l,{get:function(){return h},set:function(t){if("number"!=typeof t)throw new TypeError("Start time must be set to a number.");h=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"endTime",n({},l,{get:function(){return f},set:function(t){if("number"!=typeof t)throw new TypeError("End time must be set to a number.");f=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"text",n({},l,{get:function(){return p},set:function(t){p=""+t,this.hasBeenReset=!0}})),Object.defineProperty(s,"region",n({},l,{get:function(){return g},set:function(t){g=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"vertical",n({},l,{get:function(){return m},set:function(e){var n=t(e);if(!1===n)throw new SyntaxError("An invalid or illegal string was specified.");m=n,this.hasBeenReset=!0}})),Object.defineProperty(s,"snapToLines",n({},l,{get:function(){return v},set:function(t){v=!!t,this.hasBeenReset=!0}})),Object.defineProperty(s,"line",n({},l,{get:function(){return y},set:function(t){if("number"!=typeof t&&t!==i)throw new SyntaxError("An invalid number or illegal string was specified.");y=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"lineAlign",n({},l,{get:function(){return _},set:function(t){var n=e(t);if(!n)throw new SyntaxError("An invalid or illegal string was specified.");_=n,this.hasBeenReset=!0}})),Object.defineProperty(s,"position",n({},l,{get:function(){return b},set:function(t){if(t<0||t>100)throw new Error("Position must be between 0 and 100.");b=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"positionAlign",n({},l,{get:function(){return E},set:function(t){var n=e(t);if(!n)throw new SyntaxError("An invalid or illegal string was specified.");E=n,this.hasBeenReset=!0}})),Object.defineProperty(s,"size",n({},l,{get:function(){return A},set:function(t){if(t<0||t>100)throw new Error("Size must be between 0 and 100.");A=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"align",n({},l,{get:function(){return T},set:function(t){var n=e(t);if(!n)throw new SyntaxError("An invalid or illegal string was specified.");T=n,this.hasBeenReset=!0}})),s.displayState=void 0,u)return s}if("undefined"!=typeof window&&window.VTTCue)return window.VTTCue;var i="auto",o={"":!0,lr:!0,rl:!0},a={start:!0,middle:!0,end:!0,left:!0,right:!0};return r.prototype.getCueAsHTML=function(){return window.WebVTT.convertCueToDOMTree(window,this.text)},r}()},"./src/utils/vttparser.js":
/*!********************************!*\
	  !*** ./src/utils/vttparser.js ***!
	  \********************************/
/*! no static exports found */ /*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,n){"use strict";function r(){this.window=window,this.state="INITIAL",this.buffer="",this.decoder=new l,this.regionList=[]}function i(){this.values=Object.create(null)}function o(t,e,n,r){var i=r?t.split(r):[t];for(var o in i)if("string"==typeof i[o]){var a=i[o].split(n);2===a.length&&e(a[0],a[1])}}function a(t,e,n){function r(){var e=function(t){function e(t,e,n,r){return 3600*(0|t)+60*(0|e)+(0|n)+(0|r)/1e3}var n=t.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return n?n[3]?e(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?e(n[1],n[2],0,n[4]):e(0,n[1],n[2],n[4]):null}(t);if(null===e)throw new Error("Malformed timestamp: "+s);return t=t.replace(/^[^\sa-zA-Z-]+/,""),e}function a(){t=t.replace(/^\s+/,"")}var s=t;if(a(),e.startTime=r(),a(),"--\x3e"!==t.substr(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+s);t=t.substr(3),a(),e.endTime=r(),a(),function(t,e){var r=new i;o(t,(function(t,e){switch(t){case"region":for(var i=n.length-1;i>=0;i--)if(n[i].id===e){r.set(t,n[i].region);break}break;case"vertical":r.alt(t,e,["rl","lr"]);break;case"line":var o=e.split(","),a=o[0];r.integer(t,a),r.percent(t,a)&&r.set("snapToLines",!1),r.alt(t,a,["auto"]),2===o.length&&r.alt("lineAlign",o[1],["start",d,"end"]);break;case"position":o=e.split(","),r.percent(t,o[0]),2===o.length&&r.alt("positionAlign",o[1],["start",d,"end","line-left","line-right","auto"]);break;case"size":r.percent(t,e);break;case"align":r.alt(t,e,["start",d,"end","left","right"])}}),/:/,/\s/),e.region=r.get("region",null),e.vertical=r.get("vertical","");var a=r.get("line","auto");"auto"===a&&-1===c.line&&(a=-1),e.line=a,e.lineAlign=r.get("lineAlign","start"),e.snapToLines=r.get("snapToLines",!0),e.size=r.get("size",100),e.align=r.get("align",d);var s=r.get("position","auto");"auto"===s&&50===c.position&&(s="start"===e.align||"left"===e.align?0:"end"===e.align||"right"===e.align?100:50),e.position=s}(t,e)}function s(t){return t.replace(/<br(?: \/)?>/gi,"\n")}Object.defineProperty(e,"__esModule",{value:!0});var u=n(/*! ./vttcue */"./src/utils/vttcue.js"),l=function(){return{decode:function(t){if(!t)return"";if("string"!=typeof t)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}};i.prototype={set:function(t,e){this.get(t)||""===e||(this.values[t]=e)},get:function(t,e,n){return n?this.has(t)?this.values[t]:e[n]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,n){for(var r=0;r<n.length;++r)if(e===n[r]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return!!(e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e),e>=0&&e<=100))&&(this.set(t,e),!0)}};var c=new u.default(0,0,0),d="middle"===c.align?"middle":"center";e.fixLineBreaks=s,r.prototype={parse:function(t){function e(){var t=r.buffer,e=0;for(t=s(t);e<t.length&&"\r"!==t[e]&&"\n"!==t[e];)++e;var n=t.substr(0,e);return"\r"===t[e]&&++e,"\n"===t[e]&&++e,r.buffer=t.substr(e),n}function n(t){o(t,(function(t,e){}),/:/)}var r=this;t&&(r.buffer+=r.decoder.decode(t,{stream:!0}));try{var i=void 0;if("INITIAL"===r.state){if(!/\r\n|\n/.test(r.buffer))return this;var l=(i=e()).match(/^(Ã¯Â»Â¿)?WEBVTT([ \t].*)?$/);if(!l||!l[0])throw new Error("Malformed WebVTT signature.");r.state="HEADER"}for(var c=!1;r.buffer;){if(!/\r\n|\n/.test(r.buffer))return this;switch(c?c=!1:i=e(),r.state){case"HEADER":/:/.test(i)?n(i):i||(r.state="ID");continue;case"NOTE":i||(r.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(i)){r.state="NOTE";break}if(!i)continue;if(r.cue=new u.default(0,0,""),r.state="CUE",-1===i.indexOf("--\x3e")){r.cue.id=i;continue}case"CUE":try{a(i,r.cue,r.regionList)}catch(t){r.cue=null,r.state="BADCUE";continue}r.state="CUETEXT";continue;case"CUETEXT":var d=-1!==i.indexOf("--\x3e");if(!i||d&&(c=!0)){r.oncue&&r.oncue(r.cue),r.cue=null,r.state="ID";continue}r.cue.text&&(r.cue.text+="\n"),r.cue.text+=i;continue;case"BADCUE":i||(r.state="ID");continue}}}catch(t){"CUETEXT"===r.state&&r.cue&&r.oncue&&r.oncue(r.cue),r.cue=null,r.state="INITIAL"===r.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var t=this;try{if(t.buffer+=t.decoder.decode(),(t.cue||"HEADER"===t.state)&&(t.buffer+="\n\n",t.parse()),"INITIAL"===t.state)throw new Error("Malformed WebVTT signature.")}catch(t){throw t}return t.onflush&&t.onflush(),this}},e.default=r},"./src/utils/webvtt-parser.js":
/*!************************************!*\
	  !*** ./src/utils/webvtt-parser.js ***!
	  \************************************/
/*! no static exports found */ /*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r=n(/*! ./vttparser */"./src/utils/vttparser.js"),i=n(/*! ../demux/id3 */"./src/demux/id3.js"),o=function(t,e,n){return t.substr(n||0,e.length)===e},a=function(e){var n=parseInt(e.substr(-3)),r=parseInt(e.substr(-6,2)),i=parseInt(e.substr(-9,2)),o=e.length>9?parseInt(e.substr(0,e.indexOf(":"))):0;return t.isFinite(n)&&t.isFinite(r)&&t.isFinite(i)&&t.isFinite(o)?(n+=1e3*r,n+=6e4*i,n+=36e5*o):-1},s=function(t){for(var e=5381,n=t.length;n;)e=33*e^t.charCodeAt(--n);return(e>>>0).toString()},u={parse:function(t,e,n,u,l,c){var d,h=i.utf8ArrayToStr(new Uint8Array(t)).trim().replace(/\r\n|\n\r|\n|\r/g,"\n").split("\n"),f="00:00.000",p=0,g=0,m=0,v=[],y=!0,_=new r.default;_.oncue=function(t){var e=n[u],r=n.ccOffset;e&&e.new&&(void 0!==g?r=n.ccOffset=e.start:function(t,e,n){var r=t[e],i=t[r.prevCC];if(!i||!i.new&&r.new)return t.ccOffset=t.presentationOffset=r.start,void(r.new=!1);for(;i&&i.new;)t.ccOffset+=r.start-i.start,r.new=!1,i=t[(r=i).prevCC];t.presentationOffset=n}(n,u,m)),m&&(r=m-n.presentationOffset),t.startTime+=r-g,t.endTime+=r-g,t.id=s(t.startTime.toString())+s(t.endTime.toString())+s(t.text),t.text=decodeURIComponent(encodeURIComponent(t.text)),t.endTime>0&&v.push(t)},_.onparsingerror=function(t){d=t},_.onflush=function(){return d&&c?void c(d):void l(v)},h.forEach((function(t){if(y){if(o(t,"X-TIMESTAMP-MAP=")){y=!1,t.substr(16).split(",").forEach((function(t){o(t,"LOCAL:")?f=t.substr(6):o(t,"MPEGTS:")&&(p=parseInt(t.substr(7)))}));try{e+(9e4*n[u].start||0)<0&&(e+=8589934592),p-=e,g=a(f)/1e3,m=p/9e4,-1===g&&(d=new Error("Malformed X-TIMESTAMP-MAP: "+t))}catch(e){d=new Error("Malformed X-TIMESTAMP-MAP: "+t)}return}""===t&&(y=!1)}_.parse(t+"\n")})),_.flush()}};e.default=u}).call(this,n(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/utils/xhr-loader.js":
/*!*********************************!*\
	  !*** ./src/utils/xhr-loader.js ***!
	  \*********************************/
/*! no static exports found */ /*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(/*! ../utils/logger */"./src/utils/logger.js"),i=window.performance,o=window.XMLHttpRequest,a=function(){function t(t){t&&t.xhrSetup&&(this.xhrSetup=t.xhrSetup)}return t.prototype.destroy=function(){this.abort(),this.loader=null},t.prototype.abort=function(){var t=this.loader;t&&4!==t.readyState&&(this.stats.aborted=!0,t.abort()),window.clearTimeout(this.requestTimeout),this.requestTimeout=null,window.clearTimeout(this.retryTimeout),this.retryTimeout=null},t.prototype.load=function(t,e,n){this.context=t,this.config=e,this.callbacks=n,this.stats={trequest:i.now(),retry:0},this.retryDelay=e.retryDelay,this.loadInternal()},t.prototype.loadInternal=function(){var t,e=this.context;t=this.loader=new o;var n=this.stats;n.tfirst=0,n.loaded=0;var r=this.xhrSetup;try{if(r)try{r(t,e.url)}catch(n){t.open("GET",e.url,!0),r(t,e.url)}t.readyState||t.open("GET",e.url,!0)}catch(n){return void this.callbacks.onError({code:t.status,text:n.message},e,t)}e.rangeEnd&&t.setRequestHeader("Range","bytes="+e.rangeStart+"-"+(e.rangeEnd-1)),t.onreadystatechange=this.readystatechange.bind(this),t.onprogress=this.loadprogress.bind(this),t.responseType=e.responseType,this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),this.config.timeout),t.send()},t.prototype.readystatechange=function(t){var e=t.currentTarget,n=e.readyState,o=this.stats,a=this.context,s=this.config;if(!o.aborted&&n>=2)if(window.clearTimeout(this.requestTimeout),0===o.tfirst&&(o.tfirst=Math.max(i.now(),o.trequest)),4===n){var u=e.status;if(u>=200&&u<300){o.tload=Math.max(o.tfirst,i.now());var l=void 0,c=void 0;c="arraybuffer"===a.responseType?(l=e.response).byteLength:(l=e.responseText).length,o.loaded=o.total=c;var d={url:e.responseURL,data:l};this.callbacks.onSuccess(d,o,a,e)}else o.retry>=s.maxRetry||u>=400&&u<499?(r.logger.error(u+" while loading "+a.url),this.callbacks.onError({code:u,text:e.statusText},a,e)):(r.logger.warn(u+" while loading "+a.url+", retrying in "+this.retryDelay+"..."),this.destroy(),this.retryTimeout=window.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,s.maxRetryDelay),o.retry++)}else this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),s.timeout)},t.prototype.loadtimeout=function(){r.logger.warn("timeout while loading "+this.context.url),this.callbacks.onTimeout(this.stats,this.context,null)},t.prototype.loadprogress=function(t){var e=t.currentTarget,n=this.stats;n.loaded=t.loaded,t.lengthComputable&&(n.total=t.total);var r=this.callbacks.onProgress;r&&r(n,this.context,null,e)},t}();e.default=a}}).default)},function(t,e){var n=function(){function t(){if(!B){try{var t=R.getElementsByTagName("body")[0].appendChild(g("span"));t.parentNode.removeChild(t)}catch(t){return}B=!0;for(var e=N.length,n=0;n<e;n++)N[n]()}}function e(t){B?t():N[N.length]=t}function r(t){if(_typeof(I.addEventListener)!=C)I.addEventListener("load",t,!1);else if(_typeof(R.addEventListener)!=C)R.addEventListener("load",t,!1);else if(_typeof(I.attachEvent)!=C)!function(t,e,n){t.attachEvent(e,n),U[U.length]=[t,e,n]}(I,"onload",t);else if("function"==typeof I.onload){var e=I.onload;I.onload=function(){e(),t()}}else I.onload=t}function i(){var t=F.length;if(t>0)for(var e=0;e<t;e++){var n=F[e].id,r=F[e].callbackFn,i={success:!1,id:n};if(V.pv[0]>0){var l=p(n);if(l)if(!m(F[e].swfVersion)||V.wk&&V.wk<312)if(F[e].expressInstall&&a()){var c={};c.data=F[e].expressInstall,c.width=l.getAttribute("width")||"0",c.height=l.getAttribute("height")||"0",l.getAttribute("class")&&(c.styleclass=l.getAttribute("class")),l.getAttribute("align")&&(c.align=l.getAttribute("align"));for(var d={},h=l.getElementsByTagName("param"),f=h.length,g=0;g<f;g++)"movie"!=h[g].getAttribute("name").toLowerCase()&&(d[h[g].getAttribute("name")]=h[g].getAttribute("value"));s(c,d,n,r)}else u(l),r&&r(i);else y(n,!0),r&&(i.success=!0,i.ref=o(n),r(i))}else if(y(n,!0),r){var v=o(n);v&&_typeof(v.SetVariable)!=C&&(i.success=!0,i.ref=v),r(i)}}}function o(t){var e=null,n=p(t);if(n&&"OBJECT"==n.nodeName)if(_typeof(n.SetVariable)!=C)e=n;else{var r=n.getElementsByTagName(k)[0];r&&(e=r)}return e}function a(){return!H&&m("6.0.65")&&(V.win||V.mac)&&!(V.wk&&V.wk<312)}function s(t,e,n,r){H=!0,A=r||null,T={success:!1,id:n};var i=p(n);if(i){"OBJECT"==i.nodeName?(b=l(i),E=null):(b=i,E=n),t.id=L,(_typeof(t.width)==C||!/%$/.test(t.width)&&parseInt(t.width,10)<310)&&(t.width="310"),(_typeof(t.height)==C||!/%$/.test(t.height)&&parseInt(t.height,10)<137)&&(t.height="137"),R.title=R.title.slice(0,47)+" - Flash Player Installation";var o=V.ie&&V.win?["Active"].concat("").join("X"):"PlugIn",a="MMredirectURL="+I.location.toString().replace(/&/g,"%26")+"&MMplayerType="+o+"&MMdoctitle="+R.title;if(_typeof(e.flashvars)!=C?e.flashvars+="&"+a:e.flashvars=a,V.ie&&V.win&&4!=i.readyState){var s=g("div");n+="SWFObjectNew",s.setAttribute("id",n),i.parentNode.insertBefore(s,i),i.style.display="none",function(){4==i.readyState?i.parentNode.removeChild(i):setTimeout(arguments.callee,10)}()}c(t,e,n)}}function u(t){if(V.ie&&V.win&&4!=t.readyState){var e=g("div");t.parentNode.insertBefore(e,t),e.parentNode.replaceChild(l(t),e),t.style.display="none",function(){4==t.readyState?t.parentNode.removeChild(t):setTimeout(arguments.callee,10)}()}else t.parentNode.replaceChild(l(t),t)}function l(t){var e=g("div");if(V.win&&V.ie)e.innerHTML=t.innerHTML;else{var n=t.getElementsByTagName(k)[0];if(n){var r=n.childNodes;if(r)for(var i=r.length,o=0;o<i;o++)1==r[o].nodeType&&"PARAM"==r[o].nodeName||8==r[o].nodeType||e.appendChild(r[o].cloneNode(!0))}}return e}function c(t,e,n){var r,i=p(n);if(V.wk&&V.wk<312)return r;if(i)if(_typeof(t.id)==C&&(t.id=n),V.ie&&V.win){var o="";for(var a in t)t[a]!=Object.prototype[a]&&("data"==a.toLowerCase()?e.movie=t[a]:"styleclass"==a.toLowerCase()?o+=' class="'+t[a]+'"':"classid"!=a.toLowerCase()&&(o+=" "+a+'="'+t[a]+'"'));var s="";for(var u in e)e[u]!=Object.prototype[u]&&(s+='<param name="'+u+'" value="'+e[u]+'" />');i.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+o+">"+s+"</object>",j[j.length]=t.id,r=p(t.id)}else{var l=g(k);for(var c in l.setAttribute("type",x),t)t[c]!=Object.prototype[c]&&("styleclass"==c.toLowerCase()?l.setAttribute("class",t[c]):"classid"!=c.toLowerCase()&&l.setAttribute(c,t[c]));for(var h in e)e[h]!=Object.prototype[h]&&"movie"!=h.toLowerCase()&&d(l,h,e[h]);i.parentNode.replaceChild(l,i),r=l}return r}function d(t,e,n){var r=g("param");r.setAttribute("name",e),r.setAttribute("value",n),t.appendChild(r)}function h(t){var e=p(t);e&&"OBJECT"==e.nodeName&&(V.ie&&V.win?(e.style.display="none",function(){4==e.readyState?f(t):setTimeout(arguments.callee,10)}()):e.parentNode.removeChild(e))}function f(t){var e=p(t);if(e){for(var n in e)"function"==typeof e[n]&&(e[n]=null);e.parentNode.removeChild(e)}}function p(t){var e=null;try{e=R.getElementById(t)}catch(t){}return e}function g(t){return R.createElement(t)}function m(t){var e=V.pv,n=t.split(".");return n[0]=parseInt(n[0],10),n[1]=parseInt(n[1],10)||0,n[2]=parseInt(n[2],10)||0,e[0]>n[0]||e[0]==n[0]&&e[1]>n[1]||e[0]==n[0]&&e[1]==n[1]&&e[2]>=n[2]}function v(t,e,n,r){if(!V.ie||!V.mac){var i=R.getElementsByTagName("head")[0];if(i){var o=n&&"string"==typeof n?n:"screen";if(r&&(S=null,w=null),!S||w!=o){var a=g("style");a.setAttribute("type","text/css"),a.setAttribute("media",o),S=i.appendChild(a),V.ie&&V.win&&_typeof(R.styleSheets)!=C&&R.styleSheets.length>0&&(S=R.styleSheets[R.styleSheets.length-1]),w=o}V.ie&&V.win?S&&_typeof(S.addRule)==k&&S.addRule(t,e):S&&_typeof(R.createTextNode)!=C&&S.appendChild(R.createTextNode(t+" {"+e+"}"))}}}function y(t,e){if(G){var n=e?"visible":"hidden";B&&p(t)?p(t).style.visibility=n:v("#"+t,"visibility:"+n)}}function _(t){return null!=/[\\\"<>\.;]/.exec(t)&&("undefined"==typeof encodeURIComponent?"undefined":_typeof(encodeURIComponent))!=C?encodeURIComponent(t):t}var b,E,A,T,S,w,C="undefined",k="object",D="Shockwave Flash",x="application/x-shockwave-flash",L="SWFObjectExprInst",P="onreadystatechange",I=window,R=document,O=navigator,M=!1,N=[function(){M?function(){var t=R.getElementsByTagName("body")[0],e=g(k);e.setAttribute("type",x);var n=t.appendChild(e);if(n){var r=0;!function(){if(_typeof(n.GetVariable)!=C){var o=n.GetVariable("$version");o&&(o=o.split(" ")[1].split(","),V.pv=[parseInt(o[0],10),parseInt(o[1],10),parseInt(o[2],10)])}else if(r<10)return r++,void setTimeout(arguments.callee,10);t.removeChild(e),n=null,i()}()}else i()}():i()}],F=[],j=[],U=[],B=!1,H=!1,G=!0,V=function(){var t=_typeof(R.getElementById)!=C&&_typeof(R.getElementsByTagName)!=C&&_typeof(R.createElement)!=C,e=O.userAgent.toLowerCase(),n=O.platform.toLowerCase(),r=/win/.test(n||e),i=/mac/.test(n||e),o=!!/webkit/.test(e)&&parseFloat(e.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")),a=!1,s=[0,0,0],u=null;if(_typeof(O.plugins)!=C&&_typeof(O.plugins[D])==k)!(u=O.plugins[D].description)||_typeof(O.mimeTypes)!=C&&O.mimeTypes[x]&&!O.mimeTypes[x].enabledPlugin||(M=!0,a=!1,u=u.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),s[0]=parseInt(u.replace(/^(.*)\..*$/,"$1"),10),s[1]=parseInt(u.replace(/^.*\.(.*)\s.*$/,"$1"),10),s[2]=/[a-zA-Z]/.test(u)?parseInt(u.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(_typeof(I[["Active"].concat("Object").join("X")])!=C)try{var l=new(window[["Active"].concat("Object").join("X")])("ShockwaveFlash.ShockwaveFlash");l&&(u=l.GetVariable("$version"))&&(a=!0,u=u.split(" ")[1].split(","),s=[parseInt(u[0],10),parseInt(u[1],10),parseInt(u[2],10)])}catch(t){}return{w3:t,pv:s,wk:o,ie:a,win:r,mac:i}}();return V.w3&&((_typeof(R.readyState)!=C&&"complete"==R.readyState||_typeof(R.readyState)==C&&(R.getElementsByTagName("body")[0]||R.body))&&t(),B||(_typeof(R.addEventListener)!=C&&R.addEventListener("DOMContentLoaded",t,!1),V.ie&&V.win&&(R.attachEvent(P,(function(){"complete"==R.readyState&&(R.detachEvent(P,arguments.callee),t())})),I==top&&function(){if(!B){try{R.documentElement.doScroll("left")}catch(t){return void setTimeout(arguments.callee,0)}t()}}()),V.wk&&function(){B||(/loaded|complete/.test(R.readyState)?t():setTimeout(arguments.callee,0))}(),r(t))),V.ie&&V.win&&window.attachEvent("onunload",(function(){for(var t=U.length,e=0;e<t;e++)U[e][0].detachEvent(U[e][1],U[e][2]);for(var r=j.length,i=0;i<r;i++)h(j[i]);for(var o in V)V[o]=null;for(var a in V=null,n)n[a]=null;n=null})),{registerObject:function(t,e,n,r){if(V.w3&&t&&e){var i={};i.id=t,i.swfVersion=e,i.expressInstall=n,i.callbackFn=r,F[F.length]=i,y(t,!1)}else r&&r({success:!1,id:t})},getObjectById:function(t){if(V.w3)return o(t)},embedSWF:function(t,n,r,i,o,u,l,d,h,f){var p={success:!1,id:n};V.w3&&!(V.wk&&V.wk<312)&&t&&n&&r&&i&&o?(y(n,!1),e((function(){r+="",i+="";var e={};if(h&&_typeof(h)===k)for(var g in h)e[g]=h[g];e.data=t,e.width=r,e.height=i;var v={};if(d&&_typeof(d)===k)for(var _ in d)v[_]=d[_];if(l&&_typeof(l)===k)for(var b in l)_typeof(v.flashvars)!=C?v.flashvars+="&"+b+"="+l[b]:v.flashvars=b+"="+l[b];if(m(o)){var E=c(e,v,n);e.id==n&&y(n,!0),p.success=!0,p.ref=E}else{if(u&&a())return e.data=u,void s(e,v,n,f);y(n,!0)}f&&f(p)}))):f&&f(p)},switchOffAutoHideShow:function(){G=!1},ua:V,getFlashPlayerVersion:function(){return{major:V.pv[0],minor:V.pv[1],release:V.pv[2]}},hasFlashPlayerVersion:m,createSWF:function(t,e,n){return V.w3?c(t,e,n):void 0},showExpressInstall:function(t,e,n,r){V.w3&&a()&&s(t,e,n,r)},removeSWF:function(t){V.w3&&h(t)},createCSS:function(t,e,n,r){V.w3&&v(t,e,n,r)},addDomLoadEvent:e,addLoadEvent:r,getQueryParamValue:function(t){var e=R.location.search||R.location.hash;if(e){if(/\?/.test(e)&&(e=e.split("?")[1]),null==t)return _(e);for(var n=e.split("&"),r=0;r<n.length;r++)if(n[r].substring(0,n[r].indexOf("="))==t)return _(n[r].substring(n[r].indexOf("=")+1))}return""},expressInstallCallback:function(){if(H){var t=p(L);t&&b&&(t.parentNode.replaceChild(b,t),E&&(y(E,!0),V.ie&&V.win&&(b.style.display="block")),A&&A(T)),H=!1}}}}();t.exports=n},function(t,e,n){var r;void 0===(r=function(){return{AD_ID:"adId",AD_TYPE:"adType",CUE_TITLE:"cueTitle",CUE_TIME_DURATION:"cueTimeDuration",AD_URL:"adUrl",AD_VAST_URL:"adVastURL",AD_VAST:"adVast"}}.apply(e,[]))||(t.exports=r)},function(t,e){t.exports={ABORT:"abort",CAN_PLAY:"canPlay",CAN_PLAY_THROUGH:"canPlayThrough",DATA_LOADING:"dataLoading",EMPTIED:"emptied",ENDED:"ended",ERROR:"error",LOAD_START:"loadStart",PAUSE:"pause",PLAY:"play",PROGRESS:"progress",STALLED:"stalled",STOP:"stop",SUSPEND:"suspend",TIME_UPDATE:"timeupdate",WAITING:"waiting",PLAY_NOT_ALLOWED:"playbackNotAllowed"}},function(t,e,n){var r,i;r=[n(1),n(3),n(2),n(103),n(102)],void 0===(i=function(t,e,n,r,i){return t([i],{constructor:function(t,e){this.target=t,this.config=e,this.adQuartile=new r,this._defaultSequence=-1,this._adsTrackingProgress=[],this._destroyAdToggle=!1},init:function(){this._destroyAdlisteners(),this.onAdPlaybackStatusListener=this.target.on("ad-playback-status",n.hitch(this,this._onAdPlaybackStatus)),this.inherited(arguments)},destroyAd:function(){this.html5OnDemand&&("function"==typeof this.html5OnDemand.skip&&(this._destroyAdToggle=!0,this.html5OnDemand.skip()),this.html5OnDemand=null)},skipAd:function(){this.html5OnDemand&&("function"==typeof this.html5OnDemand.skip&&this.html5OnDemand.skip(),this.html5OnDemand=null)},initAdListeners:function(t){this.html5OnDemand=t,this.html5OnDemand.initHTMLElementsStyle(this.html5OnDemand.videoNode),this.playbackOnDemandStatushandler=this.html5OnDemand.setPlaybackStatusHandler(n.hitch(this,this._onAdPlaybackStatus)),this.clickTrackingElementClickedHandler=this.html5OnDemand.setClickTrackingElementClickedHandler(n.hitch(this,this._onClickTrackingElementClicked)),this.adPlaybackCompleteHandler=this.target.on("ad-playback-complete",n.hitch(this,this._destroyAdlisteners)),this.adPlaybackDestroyHandler=this.target.on("ad-playback-destroy",n.hitch(this,this._destroyAdlisteners)),this.adPlaybackErrorHandler=this.target.on("ad-playback-error",n.hitch(this,this._destroyAdlisteners))},getVastInlineAd:function(){return null},_onAdPlaybackStatus:function(t){if(this.html5Node=t.html5Node,"MEDIA_STARTED"==t.code)0==this.html5Node.currentTime&&this.emit(this.AD_MODULE_PLAYBACK_START,{id:this.playerNode,type:t.adServerType,error:!1});else if("MEDIA_TIME_UPDATE"==t.code){var e=Math.round(this.html5Node.currentTime),n=Math.round(this.html5Node.duration);this._checkVideoPlaybackQuartile(this._getTimePercent(e,n)),this.emit(this.AD_MODULE_COUNTDOWN,{countDown:n-e})}else"MEDIA_ENDED"!=t.code&&"MEDIA_ERROR"!=t.code||(this.html5OnDemand.stop(),this._destroyAdToggle?this.emit(this.AD_MODULE_PLAYBACK_DESTROY):this.emit(this.AD_MODULE_PLAYBACK_COMPLETE,{id:this.playerNode,type:t.adServerType,error:!1}),this._destroyAdToggle=!1,this._adsTrackingProgress=[],this.onAdPlaybackStatusListener.remove())},_onClickTrackingElementClicked:function(t){this.emit(this.AD_MODULE_CLICK_TRACKING,t)},_getTimePercent:function(t,e){return 0==e?0:(t/e).toFixed(2)},_checkVideoPlaybackQuartile:function(t){var e=Math.floor(4*t);null==this._adsTrackingProgress[e]&&(this._adsTrackingProgress[e]=!0,this.emit(this.AD_MODULE_QUARTILE,{id:this.playerNode,adQuartile:this.adQuartile.getQuartileByIndex(e),error:!1}))},_destroyAdlisteners:function(){this.playbackOnDemandStatushandler&&this.playbackOnDemandStatushandler.remove(),this.clickTrackingElementClickedHandler&&this.clickTrackingElementClickedHandler.remove(),this.adPlaybackCompleteHandler&&this.adPlaybackCompleteHandler.remove(),this.adPlaybackErrorHandler&&this.adPlaybackErrorHandler.remove(),this.onAdPlaybackStatusListener&&this.onAdPlaybackStatusListener.remove(),this.adPlaybackDestroyHandler&&this.adPlaybackDestroyHandler.remove()}})}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(1)],void 0===(i=function(t){return t([],{constructor:function(t){this.id=t,this.inlineAd=null,this.wrapperAd=null}})}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(1)],void 0===(i=function(t){return t([],{constructor:function(){this.id=null,this.width=null,this.height=null,this.expandedWidth=null,this.expandedHeight=null,this.resourceType=null,this.creativeType=null,this.url=null,this.code=null,this.clickThroughURL=null,this.altText=null,this.adParameters=null,this.creativeView=null}})}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(1)],void 0===(i=function(t){return t([],{constructor:function(){this.vastAd=null}})}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(1)],void 0===(i=function(t){return t([],{DELIVERY_STREAMING:"streaming",DELIVERY_PROGRESSIVE:"progressive",constructor:function(){this.url=null,this.id=null,this.delivery=null,this.bitrate=null,this.width=null,this.height=null,this.type=null,this.scalable=!1,this.maintainAspectRatio=!1,this.apiFramework=null,this.minBitrate=null,this.maxBitrate=null,this.codec=null}})}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(1)],void 0===(i=function(t){return t([],{IFRAME:"iframe",HTML:"html",STATIC:"static",SCRIPT:"script",OTHER:"other",constructor:function(t){this.name=t}})}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(1)],void 0===(i=function(t){return t([],{constructor:function(){this.urls=[],this.type=null},addUrls:function(t){for(var e=t.length,n=0;n<e;n++)this.urls.push(t[n])}})}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(1)],void 0===(i=function(t){return t([],{constructor:function(){this.clickThrough=null,this.clickTrackings=[],this.customClicks=[]}})}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(1)],void 0===(i=function(t){return t([],{constructor:function(){this.vastAdTagURL=null,this.impression=null,this.impressions=[],this.error=null,this.trackingEvents=null,this.creatives=[],this.videoClicks=null},getLinearTrackingEvents:function(t){return null==(t=t)&&(t=-1),null!=this._getLinearElement(t)?this._getLinearElement(t).trackingEvents:this.trackingEvents},_getLinearElement:function(t){null==(t=t)&&(t=-1);for(var e=this.creatives.length,n=0;n<e;n++)if(null!=this.creatives[n].linearElement){if(-1==t)return this.creatives[n].linearElement;if(this.creatives[n].sequence==t)return this.creatives[n].linearElement}},getLinearVideoClick:function(t){return null==(t=t)&&(t=-1),null!=this._getLinearElement(t)?this._getLinearElement(t).videoClick:this.videoClicks}})}.apply(e,r))||(t.exports=i)},function(t,e,n){var r;void 0===(r=function(){return{ID:"id",NODEKIND_ELEMENT:"element",INLINE:"InLine",WRAPPER:"Wrapper",AD_SYSTEM:"AdSystem",AD_TITLE:"AdTitle",DESCRIPTION:"Description",ERROR:"Error",IMPRESSION:"Impression",TRACKING_EVENTS:"TrackingEvents",COMPANION_ADS:"CompanionAds",COMPANION_CLICK_THROUGH:"CompanionClickThrough",LINEAR:"Linear",NON_LINEAR_ADS:"NonLinearAds",NON_LINEAR:"NonLinear",NON_LINEAR_CLICK_THROUGH:"NonLinearClickThrough",TRACKING:"Tracking",EVENT:"event",DURATION:"Duration",AD_ID:"AdID",MEDIA_FILES:"MediaFiles",MEDIA_FILE:"MediaFile",VIDEO_CLICKS:"VideoClicks",CLICK_THROUGH:"ClickThrough",CLICK_TRACKING:"ClickTracking",CUSTOM_CLICK:"CustomClick",COMPANION:"Companion",ALT_TEXT:"AltText",AD_PARAMETERS:"AdParameters",BITRATE:"bitrate",MIN_BITRATE:"minBitrate",MAX_BITRATE:"maxBitrate",CODEC:"codec",DELIVERY:"delivery",TYPE:"type",WIDTH:"width",HEIGHT:"height",EXPANDED_WIDTH:"expandedWidth",EXPANDED_HEIGHT:"expandedHeight",CREATIVE_TYPE:"creativeType",SEQUENCE:"sequence",SCALABLE:"scalable",MAINTAIN_ASPECT_RATIO:"maintainAspectRatio",API_FRAMEWORK:"apiFramework",IFRAME_RESOURCE:"IFrameResource",HTML_RESOURCE:"HTMLResource",STATIC_RESOURCE:"StaticResource",CREATIVE_VIEW:"creativeView",MIN_SUGGESTED_DURATION:"minSuggestedDuration",EXPIRES:"Expires",CATEGORY:"Category",SURVEY:"Survey",ADVERTISER:"Advertiser",AUDIO_INTERACTIONS:"AudioInteractions",LOGO_TILE:"logoTile",LOGO_TITLE:"logoTitle",LOGO_ARTIST:"logoArtist",LOGO_URL:"logoURL"}}.apply(e,[]))||(t.exports=r)},function(t,e,n){var r,i,o=n(16);r=[n(1)],void 0===(i=function(t){return t([],{constructor:function(t){this.target=t},getTagValue:function(t,e){return 0==t.getElementsByTagName(e).length?null:o.textContent(t.getElementsByTagName(e)[0])},getDataAsArray:function(t,e,n){if(0==t.getElementsByTagName(e).length)return null;for(var r=t.getElementsByTagName(e)[0].childNodes,i=[],a=0;a<r.length;a++)r[a].nodeName==n&&i.push(o.textContent(r[a]));return i},trim:function(t){return null==t?null:t.replace(/^\s+|\s+$/g,"")}})}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(2)],void 0===(i=function(t){var e={};return{objectToQuery:function(n){var r=encodeURIComponent,i=[];for(var o in n){var a=n[o];if(a!=e[o]){var s=r(o)+"=";if(t.isArray(a))for(var u=0,l=a.length;u<l;++u)i.push(s+r(a[u]));else i.push(s+r(a))}}return i.join("&")},queryToObject:function(e){for(var n,r,i,o=decodeURIComponent,a=e.split("&"),s={},u=0,l=a.length;u<l;++u)if((i=a[u]).length){var c=i.indexOf("=");c<0?(n=o(i),r=""):(n=o(i.slice(0,c)),r=o(i.slice(c+1))),"string"==typeof s[n]&&(s[n]=[s[n]]),t.isArray(s[n])?s[n].push(r):s[n]=r}return s}}}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(54)],void 0===(i=function(t){return t}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[e,n(34),n(24),n(32),n(51),n(6),n(2),n(25)],void 0===(i=function(t,e,n,r,i,o,a,s){function u(t){return c(t)}function l(t){return t.data||t.text}t.deepCopy=function(e,n){for(var r in n){var i=e[r],o=n[r];i!==o&&(i&&"object"==_typeof(i)&&o&&"object"==_typeof(o)?t.deepCopy(i,o):e[r]=o)}return e},t.deepCreate=function(e,n){n=n||{};var r,i,o=a.delegate(e);for(r in e)(i=e[r])&&"object"==_typeof(i)&&(o[r]=t.deepCreate(i,n[r]));return t.deepCopy(o,n)};var c=Object.freeze||function(t){return t};t.deferred=function(i,o,d,h,f,p){var g=new r((function(t){return o&&o(g,i),t&&(t instanceof e||t instanceof n)?t:new n("Request canceled",i)}));g.response=i,g.isValid=d,g.isReady=h,g.handleResponse=f;var m=g.then(u).otherwise((function(t){throw t.response=i,t}));t.notify&&m.then(a.hitch(t.notify,"emit","load"),a.hitch(t.notify,"emit","error"));var v=m.then(l),y=new s;for(var _ in v)v.hasOwnProperty(_)&&(y[_]=v[_]);return y.response=m,c(y),p&&g.then((function(t){p.call(g,t)}),(function(t){p.call(g,i,t)})),g.promise=y,g.then=y.then,g},t.addCommonMethods=function(t,e){o.forEach(e||["GET","POST","PUT","DELETE"],(function(e){t[("DELETE"===e?"DEL":e).toLowerCase()]=function(n,r){return(r=a.delegate(r||{})).method=e,t(n,r)}}))},t.parseArgs=function(t,e,n){var r=e.data,o=e.query;return r&&!n&&"object"==_typeof(r)&&(e.data=i.objectToQuery(r)),o?("object"==_typeof(o)&&(o=i.objectToQuery(o)),e.preventCache&&(o+=(o?"&":"")+"request.preventCache="+ +new Date)):e.preventCache&&(o="request.preventCache="+ +new Date),t&&o&&(t+=(~t.indexOf("?")?"&":"?")+o),{url:t,options:e,getHeader:function(t){return null}}},t.checkStatus=function(t){return(t=t||0)>=200&&t<300||304===t||1223===t||!t}}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(34),n(88),n(87),n(53),n(4)],void 0===(i=function(t,e,n,r,i){function o(e,i){var o=e.xhr;if(e.status=e.xhr.status,e.text=o.responseText,"xml"===e.options.handleAs&&(e.data=o.responseXML),!i)try{n(e)}catch(t){i=t}i?this.reject(i):r.checkStatus(o.status)?this.resolve(e):(i=new t("Unable to load "+e.url+" status: "+o.status,e),this.reject(i))}function a(t){return this.xhr.getResponseHeader(t)}function s(n,p,g){var m=r.parseArgs(n,r.deepCreate(f,p),i("native-formdata")&&p&&p.data&&p.data instanceof FormData);n=m.url,p=m.options;var v,y=r.deferred(m,d,u,l,o,(function(){v&&v()})),_=m.xhr=s._create();if(!_)return y.cancel(new t("XHR was not created")),g?y:y.promise;m.getHeader=a,c&&(v=c(_,y,m));var b=p.data,E=!p.sync,A=p.method;try{_.open(A,n,E,p.user||h,p.password||h),p.withCredentials&&(_.withCredentials=p.withCredentials);var T=p.headers,S="application/x-www-form-urlencoded";if(T)for(var w in T)"content-type"===w.toLowerCase()?S=T[w]:T[w]&&_.setRequestHeader(w,T[w]);S&&!1!==S&&_.setRequestHeader("Content-Type",S),T&&"X-Requested-With"in T||_.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.notify&&r.notify.emit("send",m,y.promise.cancel),_.send(b)}catch(t){y.reject(t)}return e(y),_=null,g?y:y.promise}var u,l,c,d;i.add("native-xhr",(function(){return"undefined"!=typeof XMLHttpRequest})),i.add("dojo-force-activex-xhr",(function(){return i("activex")&&!document.addEventListener&&"file:"===window.location.protocol})),i.add("native-xhr2",(function(){if(i("native-xhr")){var t=new XMLHttpRequest;return void 0!==t.addEventListener&&("undefined"==typeof opera||void 0!==t.upload)}})),i.add("native-formdata",(function(){return"function"==typeof FormData})),i("native-xhr2")?(u=function(t){return!this.isFulfilled()},d=function(t,e){e.xhr.abort()},c=function(e,n,r){function i(t){n.handleResponse(r)}function o(e){var i=e.target,o=new t("Unable to load "+r.url+" status: "+i.status,r);n.handleResponse(r,o)}function a(t){t.lengthComputable&&(r.loaded=t.loaded,r.total=t.total,n.progress(r))}return e.addEventListener("load",i,!1),e.addEventListener("error",o,!1),e.addEventListener("progress",a,!1),function(){e.removeEventListener("load",i,!1),e.removeEventListener("error",o,!1),e.removeEventListener("progress",a,!1),e=null}}):(u=function(t){return t.xhr.readyState},l=function(t){return 4===t.xhr.readyState},d=function(t,e){var n=e.xhr,r=_typeof(n.abort);"function"!==r&&"object"!==r&&"unknown"!==r||n.abort()});var h,f={data:null,query:null,sync:!1,method:"GET"};if(s._create=function(){throw new Error("XMLHTTP not available")},i("native-xhr")&&!i("dojo-force-activex-xhr"))s._create=function(){return new XMLHttpRequest};else if(i("activex"))try{new ActiveXObject("Msxml2.XMLHTTP"),s._create=function(){return new ActiveXObject("Msxml2.XMLHTTP")}}catch(t){try{new ActiveXObject("Microsoft.XMLHTTP"),s._create=function(){return new ActiveXObject("Microsoft.XMLHTTP")}}catch(t){}}return r.addCommonMethods(s),s}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(4),n(27)],void 0===(i=function(t,e){"use strict";var n=document.createElement("div");t.add("dom-qsa2.1",!!n.querySelectorAll),t.add("dom-qsa3",(function(){try{return n.innerHTML="<p class='TEST'></p>",1==n.querySelectorAll(".TEST:empty").length}catch(t){}}));var r,i="./acme",o="./lite";return{load:function(n,a,s,u){var l=e;if("?"==(n="css2"==(n="default"==n?t("config-selectorEngine")||"css3":n)||"lite"==n?o:"css2.1"==n?t("dom-qsa2.1")?o:i:"css3"==n?t("dom-qsa3")?o:i:"acme"==n?i:(l=a)&&n).charAt(n.length-1)){n=n.substring(0,n.length-1);var c=!0}return c&&(t("dom-compliant-qsa")||r)?s(r):void l([n],(function(t){"./lite"!=n&&(r=t),s(t)}))}}}.apply(e,r))||(t.exports=i)},function(t,e){t.exports=void 0},function(t,e){t.exports={gettingStationInformation:"Getting station information...",paused:"Paused",onAir:"On Air",disconnected:"Disconnected",streamUnavailable:"Stream unavailable",buffering:"Buffering",connecting:"Live stream connection in progress...",reconnecting:"Live stream connection in progress...",seekfailed:"Seek failed",seekinvalidtime:"Impossible to seek due to invalid time",ended:"Ended",pause:"Paused",play:"Playing",stop:"Stopped",error:"Error",streamGeoBlocked:"Sorry, this content is not available in your area",stationNotFound:"Station not found",flashPluginOutOfDate:"Your Flash plugin version detected is out of date. Minimum version required is: 10.2.0",browserNotSupported:"Your browser does not support HTML5 feature",embedFailed:"The embed failed!",playbackNotAllowed:"Playback of media in the current context or situation is not allowed"}},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(t){if(l===setTimeout)return setTimeout(t,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function o(){p&&h&&(p=!1,h.length?f=h.concat(f):g=-1,f.length&&a())}function a(){if(!p){var t=i(o);p=!0;for(var e=f.length;e;){for(h=f,f=[];++g<e;)h&&h[g].run();g=-1,e=f.length}h=null,p=!1,function(t){if(c===clearTimeout)return clearTimeout(t);if((c===r||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(t);try{c(t)}catch(e){try{return c.call(null,t)}catch(e){return c.call(this,t)}}}(t)}}function s(t,e){this.fun=t,this.array=e}function u(){}var l,c,d=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(t){l=n}try{c="function"==typeof clearTimeout?clearTimeout:r}catch(t){c=r}}();var h,f=[],p=!1,g=-1;d.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];f.push(new s(t,e)),1!==f.length||p||i(a)},s.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=u,d.addListener=u,d.once=u,d.off=u,d.removeListener=u,d.removeAllListeners=u,d.emit=u,d.prependListener=u,d.prependOnceListener=u,d.listeners=function(t){return[]},d.binding=function(t){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(t){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(t,e,n){var r,i,o=n(21).getProtocol();r=[n(1)],void 0===(i=function(t){return t([],{ENDPOINT:o+"//runspot4.tritondigital.com/RunSpotV4.svc/GetVASTAd?&StationID={sid}&MediaFormat={mediaformat}&RecordImpressionOnCall={recordimpressiononcall}&AdMinimumDuration={adminimumduration}&AdMaximumDuration={admaximumduration}&AdLevelPlacement={adlevelplacement}&AdCategory={adcategory}",mediaAdBlankFiles:["blank.flv","9483.mp3"],getVastUri:function(t,e,n,r,i,o,a,s){n=null!=n?n:"21",r=null!=r?r:"1",i=null!=i&&i,o=null!=o?o:"0",a=null!=a?a:"900",s=null!=s?s:"1";var u=null!=t?t:this.ENDPOINT;return(u=(u=(u=(u=(u=(u=u.replace("{sid}",e)).replace("{mediaformat}",parseInt(n))).replace("{adlevelplacement}",parseInt(r))).replace("{recordimpressiononcall}",i)).replace("{adminimumduration}",parseInt(o))).replace("{admaximumduration}",parseInt(a))).replace("{adcategory}",parseInt(s))}})}.apply(e,r))||(t.exports=i)},function(t,e,n){var r;void 0===(r=function(){return{HLS_TRACK_ID:"hlsTrackId",HLS_SEGMENT_ID:"hlsSegmentId"}}.apply(e,[]))||(t.exports=r)},function(t,e,n){var r;void 0===(r=function(){return{CUE_TITLE:"cueTitle",ARTIST_NAME:"artistName",ALBUM_NAME:"albumName",PROGRAM_ID:"trackID",CUE_TIME_DURATION:"cueTimeDuration",CUE_TIME_START:"cueTimeStart",TRACK_ID:"trackID",NOW_PLAYING_URL:"nowplayingURL",TRACK_COVER_URL:"coverURL"}}.apply(e,[]))||(t.exports=r)},function(t,e){t.exports={AUDIO:"Audio",VIDEO:"Video"}},function(t,e){
/** @license
	 * eventsource.js
	 * Available under MIT License (MIT)
	 * https://github.com/Yaffle/EventSource/
	 */
!function(t){function e(){this.data={}}function n(){this.listeners=new e}function r(t){c((function(){throw t}),0)}function i(t){this.type=t,this.target=void 0}function o(t,e){i.call(this,t),this.data=e.data,this.lastEventId=e.lastEventId}function a(t,e){var n=t;return n!=n&&(n=e),n<C?C:n>k?k:n}function s(t,e,n){try{"function"==typeof e&&e.call(t,n)}catch(t){r(t)}}function u(e,r){function u(){B=_,null!=N&&(N.abort(),N=void 0),0!==F&&(d(F),F=0),0!==j&&(d(j),j=0),R.readyState=_}function l(t){var n="";if(B===y||B===v)try{n=N.responseText}catch(t){}var r=void 0,l=!1;if(B===v){var h=0,f="",p=void 0;if("contentType"in N)""!==t&&"error"!==t&&(h=200,f="OK",p=N.contentType);else try{h=N.status,f=N.statusText,p=N.getResponseHeader("Content-Type")}catch(t){h=0,f="",p=void 0}if(null==p&&(p=""),0===h&&""===f&&"load"===t&&""!==n&&(h=200,f="OK",""===p)){var g=/^data\:([^,]*?)(?:;base64)?,[\S]*$/.exec(e);null!=g&&(p=g[1])}if(200===h&&w.test(p)){if(B=y,M=!0,O=L,R.readyState=y,r=new i("open"),R.dispatchEvent(r),s(R,R.onopen,r),B===_)return}else if(0!==h&&(200!==h||""!==p)){var C;C=200!==h?"EventSource's response has a status "+h+" "+f.replace(/\s+/g," ")+" that is not 200. Aborting the connection.":"EventSource's response has a Content-Type specifying an unsupported type: "+p.replace(/\s+/g," ")+". Aborting the connection.",c((function(){throw new Error(C)}),0),l=!0}}if(B===y){n.length>U&&(M=!0);for(var D=U-1,x=n.length,j="\n";++D<x;)if(j=n.charAt(D),q===b&&"\n"===j)q=E;else if(q===b&&(q=E),"\r"===j||"\n"===j){if("data"===K?H.push(Y):"id"===K?G=Y:"event"===K?V=Y:"retry"===K?(L=a(Number(Y),L),O=L):"heartbeatTimeout"===K&&(P=a(Number(Y),P),0!==F&&(d(F),F=c(W,P))),Y="",K="",q===E){if(0!==H.length&&(I=G,""===V&&(V="message"),r=new o(V,{data:H.join("\n"),lastEventId:G}),R.dispatchEvent(r),"message"===V&&s(R,R.onmessage,r),B===_))return;H.length=0,V=""}q="\r"===j?b:E}else q===E&&(q=A),q===A?":"===j?q=T:K+=j:q===T?(" "!==j&&(Y+=j),q=S):q===S&&(Y+=j);U=x}B!==y&&B!==v||!("load"===t||"error"===t||l||U>1048576||0===F&&!M)?0===F&&(M=!1,F=c(W,P)):(l?u():(""!==t||0!==F||M||c((function(){throw new Error("No activity within "+P+" milliseconds. Reconnecting.")}),0),B=m,N.abort(),0!==F&&(d(F),F=0),O>16*L&&(O=16*L),O>k&&(O=k),F=c(W,O),O=2*O+1,R.readyState=v),r=new i("error"),R.dispatchEvent(r),s(R,R.onerror,r))}function h(){l("progress")}function f(){l("load")}function C(){l("error")}function D(){l(4===N.readyState?0===N.status?"error":"load":"progress")}e=e.toString();var x=p&&null!=r&&Boolean(r.withCredentials),L=a(1e3,0),P=a(6e10,0),I="",R=this,O=L,M=!1,N=new(null!=r&&null!=r.Transport?r.Transport:g),F=0,j=0,U=0,B=m,H=[],G="",V="",W=void 0,q=E,K="",Y="";"readyState"in N&&null!=t.opera&&(j=c((function t(){3===N.readyState&&l("progress"),j=c(t,500)}),0)),W=function(){if(F=0,B===m)if("ontimeout"in N&&!("sendAsBinary"in N)&&!("mozAnon"in N)||null==t.document||null==t.document.readyState||"complete"===t.document.readyState){N.onload=f,N.onerror=C,"onabort"in N&&(N.onabort=C),"onprogress"in N&&(N.onprogress=h),"onreadystatechange"in N&&(N.onreadystatechange=D),M=!1,F=c(W,P),U=0,B=v,H.length=0,V="",G=I,Y="",K="",q=E;var n=e.slice(0,5);n="data:"!==n&&"blob:"!==n?e+(-1===e.indexOf("?",0)?"?":"&")+"lastEventId="+encodeURIComponent(I)+"&r="+(Math.random()+1).toString().slice(2):e,N.open("GET",n,!0),"withCredentials"in N&&(N.withCredentials=x),"responseType"in N&&(N.responseType="text"),"setRequestHeader"in N&&N.setRequestHeader("Accept","text/event-stream"),N.send(void 0)}else F=c(W,4);else l("")},n.call(this),this.close=u,this.url=e,this.readyState=v,this.withCredentials=x,this.onopen=void 0,this.onmessage=void 0,this.onerror=void 0,W()}function l(){this.CONNECTING=v,this.OPEN=y,this.CLOSED=_}var c=t.setTimeout,d=t.clearTimeout;e.prototype.get=function(t){return this.data[t+"~"]},e.prototype.set=function(t,e){this.data[t+"~"]=e},e.prototype.delete=function(t){delete this.data[t+"~"]},n.prototype.dispatchEvent=function(t){t.target=this;var e=t.type.toString(),n=this.listeners.get(e);if(null!=n)for(var i=n.length,o=-1,a=void 0;++o<i;){a=n[o];try{a.call(this,t)}catch(t){r(t)}}},n.prototype.addEventListener=function(t,e){t=t.toString();var n=this.listeners,r=n.get(t);null==r&&(r=[],n.set(t,r));for(var i=r.length;--i>=0;)if(r[i]===e)return;r.push(e)},n.prototype.removeEventListener=function(t,e){t=t.toString();var n=this.listeners,r=n.get(t);if(null!=r){for(var i=r.length,o=[],a=-1;++a<i;)r[a]!==e&&o.push(r[a]);0===o.length?n.delete(t):n.set(t,o)}},o.prototype=i.prototype;var h=t.XMLHttpRequest,f=t.XDomainRequest,p=null!=h&&null!=(new h).withCredentials,g=p||null!=h&&null==f?h:f,m=-1,v=0,y=1,_=2,b=3,E=4,A=5,T=6,S=7,w=/^text\/event\-stream;?(\s*charset\=utf\-8)?$/i,C=1e3,k=18e6;l.prototype=n.prototype,u.prototype=new l,l.call(u),p&&(u.prototype.withCredentials=void 0),null!=g&&(null==t.EventSource||p&&(null==t.EventSource||!("withCredentials"in t.EventSource.prototype)))&&(t.NativeEventSource=t.EventSource,t.EventSource=u)}("undefined"!=typeof window?window:this)},function(t,e,n){var r,i,o=n(16),a=n(15);r=[n(1),n(2),n(12),n(61),n(38),n(10),n(14)],void 0===(i=function(t,e,n,r,i,s,u){var l;return t([n],{cuePointMap:(l={timestamp:"timestamp",type:"type",cue_title:r.CUE_TITLE,track_artist_name:r.ARTIST_NAME,track_album_name:r.ALBUM_NAME,program_id:r.PROGRAM_ID,cue_time_duration:r.CUE_TIME_DURATION,cue_time_start:r.CUE_TIME_START,track_id:r.TRACK_ID,track_nowplaying_url:r.NOW_PLAYING_URL,track_cover_url:r.TRACK_COVER_URL,ad_id:i.AD_ID,ad_type:i.AD_TYPE},_defineProperty(l,"cue_title",i.CUE_TITLE),_defineProperty(l,"cue_time_duration",i.CUE_TIME_DURATION),_defineProperty(l,"ad_url",i.AD_URL),l),constructor:function(t,e){this.inherited(arguments),this.platform=new a(t.platformId)},start:function(){this.emit("module-ready",{id:"NowPlayingApi",module:this})},load:function(t){var n=new u,r=this._getRequestArgs(t.hd?t.mount+"AAC":t.mount,t.numberToFetch,t.eventType||"track",t.mode);return(new s).request(this.platform.endpoint.nowPlayingHistory,{mount:t.mount,mode:t.mode||"songHistory",deferred:n},r,e.hitch(this,this._onLoadComplete),e.hitch(this,this._onLoadError)),n},_onLoadError:function(t,e){return console.error("nowPlayingApi::_onLoadError - mount="+t.mount+" - error="+e),this.emit("nowplaying-api-error",{mount:t.mount,error:t.error}),t.deferred.reject({mount:t.mount,error:t.error})},_onLoadComplete:function(t,e){e=e.getElementsByTagName("nowplaying-info");for(var n,r,i,a,s,u,l=[],c=0;c<e.length;c++){s=e[c].getAttribute("type"),u=e[c].getAttribute("timestamp"),r=e[c].childNodes,(n={parameters:{}})[this.cuePointMap.type]=s,n[this.cuePointMap.timestamp]=parseInt(u);for(var d=0;d<r.length;d++)i=r[d].getAttribute("name"),a=o.textContent(r[d]),null!=this.cuePointMap[i]&&(n[this.cuePointMap[i]]=a),n.parameters[i]=a;l.push(n)}l=l.sort((function(t,e){return t.cueTimeStart-e.cueTimeStart})).reverse(),this._emitNotificationByMode(t.mount,t.mode,l),t.deferred.resolve({mount:t.mount,list:l})},_emitNotificationByMode:function(t,e,n){switch(e){case"songHistory":this._emitSongHistoryNotification(t,n);break;case"nowPlaying":this._emitNowPlayingNotification(t,n)}},_emitSongHistoryNotification:function(t,e){e.length>0?this.emit("list-loaded",{mount:t,list:e}):this.emit("list-empty",{mount:t})},_emitNowPlayingNotification:function(t,e){e.length>0?this.emit("cue-point",{mount:t,cuePoint:e[0]}):this.emit("cue-point-empty",{mount:t})},_getRequestArgs:function(t,e,n,r){return{handleAs:"xml",preventCache:!0,headers:{"X-Requested-With":null,"Content-Type":"text/plain; charset=utf-8"},query:{mountName:t,numberToFetch:"nowPlaying"==r?1:e,eventType:n}}}})}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(1)],void 0===(i=function(t){return t([],{constructor:function(){this.id=null,this.adID=null,this.sequence=null,this.linearElement=null,this.companionAds=[],this.nonLinearAds=[]}})}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(1)],void 0===(i=function(t){return t([],{constructor:function(){this.creatives=[],this.inherited(arguments)},addWrapperLinearTrackingEvents:function(t){var e=this._getLinearElement();null!=e&&(e.trackingEvents=e.trackingEvents.concat(t))},addWrapperLinearVideoClickTracking:function(t){var e=this._getLinearElement();null!=e&&null!=e.videoClick&&(e.videoClick.clickTrackings=e.videoClick.clickTrackings.concat(t))},addImpressions:function(t){null!=t&&(this.impressions=this.impressions.concat(t))},addCustomClicks:function(t){var e=this._getLinearElement();null!=e&&null!=e.videoClick&&(e.videoClick.customClicks=e.videoClick.customClicks.concat(t))},getLinearTrackingEvents:function(t){return null==(t=t)&&(t=-1),null!=this._getLinearElement()?this._getLinearElement().trackingEvents:null},getCompanionAdUrl:function(t,e,n,r){var i=this.getCompanionAds(r);if(null==i)return null;for(var o=i.length,a=0;a<o;a++)if(1!=(i[a].width==t&&i[a].height==e)){if(null==n)return i[a];if(companionAd.resourceType==n)return i[a]}return null},getCompanionAds:function(t){null==(t=t)&&(t=-1);for(var e=this.creatives.length,n=0;n<e;n++)if(this.creatives[n].companionAds.length>0){if(-1==t)return this.creatives[n].companionAds;if(this.creatives[n].sequence==t)return this.creatives[n].companionAds}},getLinearMediaFiles:function(t){return null==(t=t)&&(t=-1),null!=this._getLinearElement(t)?this._getLinearElement(t).mediaFiles:null},getLinearMediaFileByIndex:function(t,e){return null==(e=e)&&(e=-1),null==(t=t)&&(t=0),null!=this._getLinearElement(e).mediaFiles[t]?this._getLinearElement(e).mediaFiles[t]:null},getLinearVideoClick:function(t){return null==(t=t)&&(t=-1),null!=this._getLinearElement(t).videoClick?this._getLinearElement(t).videoClick:null},getNonLinearAds:function(t){null==(t=t)&&(t=-1);for(var e=this.creatives.length,n=0;n<e;n++)if(this.creatives[n].nonLinearAds.length>0){if(-1==t)return this.creatives[n].nonLinearAds;if(this.creatives[n].sequence==t)return this.creatives[n].nonLinearAds}},getLinearDuration:function(t){return null==(t=t)&&(t=-1),null!=this._getLinearElement(t).duration?this._getLinearElement(t).duration:null},_getLinearElement:function(t){null==(t=t)&&(t=-1);for(var e=this.creatives.length,n=0;n<e;n++)if(null!=this.creatives[n].linearElement){if(-1==t)return this.creatives[n].linearElement;if(this.creatives[n].sequence==t)return this.creatives[n].linearElement}}})}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(1)],void 0===(i=function(t){return t([],{constructor:function(){this.duration=null,this.trackingEvents=[],this.videoClick=null,this.mediaFiles=[]}})}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(1)],void 0===(i=function(t){return t([],{constructor:function(){this.id=null,this.width=0,this.height=0,this.expandedWidth=0,this.expandedHeight=0,this.resourceType=null,this.creativeType=null,this.url=null,this.code=null,this.clickThroughURL=null,this.adParameters=null,this.scalable=!1,this.maintainAspectRatio=!1,this.apiFramework=null,this.minSuggestedDuration=null}})}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i,o=n(18);r=[n(1)],void 0===(i=function(t){return t([],{constructor:function(){var t=o.getLocalization();this.flashModuleMap={flashPluginOutOfDate:{code:100,message:t.flashPluginOutOfDate}},this.html5ModuleMap={browserNotSupported:{code:101,message:t.browserNotSupported}}}})}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(1),n(2),n(4),n(3),n(7),n(12),n(26),n(51)],void 0===(i=function(t,e,n,r,i,o,a,s){return t([o],{TIME_OUT_MESSAGE_DELAY:3e4,constructor:function(t,e,n){this.type=n,this.volume=1,this.connection=null,this._track=null,this._currentLiveApiParams=null,this.isLiveStream=!1,this.lowActivated=!1,this.playAdCalled=!1,this.mount=null,this.station=null,this.__resetBackOff(),t&&t.playerId&&(this.playerNode=i.byId(t.playerId,document)),t&&t.mount&&(this.mount=t.mount),t&&t.station&&(this.station=t.station),this.hls=null==t.hls||t.hls,this.audioAdaptive=null!=t.audioAdaptive&&t.audioAdaptive,this.__initSbmConfig(t)},start:function(){r(this.target,"stream-start",e.hitch(this,this.__onStreamStart)),r(this.target,"stream-stop",e.hitch(this,this.__onStreamStop)),r(this.target,"stream-fail",e.hitch(this,this.__onStreamFailed)),r(this.target,"media-playback-started",e.hitch(this,this._onMediaPlaybackStarted)),r(this.target,"media-playback-error",e.hitch(this,this._onMediaPlaybackError)),r(this.target,"ad-break-cue-point",e.hitch(this,this.__onAdBreakCuePoint))},play:function(t){return null!=t.file&&""!=t.file?(this.isLiveStream=!1,void this.__playMedia(t)):(this._currentLiveApiParams=t,void(this.connectionIterator?(this.isLiveStream=!0,this.__connect(this.connectionIterator.current())):console.error("techModule::play - connectionIterator is not defined")))},setConnectionIterator:function(t){this.connectionIterator=t},currentConnection:function(){return this.connection},currentTrack:function(){return this._track},setCurrentTrack:function(t){this._track=t},_onMediaPlaybackStarted:function(t){},_onMediaPlaybackError:function(){},__onStreamStart:function(){this.__resetBackOff(),this._currentLiveApiParams&&this._currentLiveApiParams.connectionTimeOut>0&&(this.connectionTimeOutTimer=setInterval(e.hitch(this,this.__onTimeOutAlert),6e4*this._currentLiveApiParams.connectionTimeOut))},__onStreamStop:function(){this.breakTimer&&clearInterval(this.breakTimer),this.connectionTimeOutTimer&&clearInterval(this.connectionTimeOutTimer)},__onStreamFailed:function(){console.error("techModule::__onStreamFailed"),this.__reconnect()},__onStreamUnmute:function(){console.info("techModule::__onStreamUnmute"),this.connectionIterator&&this.__reconnect()},__reconnect:function(){if(this.connectionIterator)if(this.connectionIterator.hasLooped()){var t=Math.min(this.backOffDelay<<this.backOffRetry++,6e4);this.backOffTimer=setTimeout(e.hitch(this,this.__onBackOffTimeOut),t)}else this.__connect(this.connectionIterator.next());else console.error("techModule::__reconnect - connectionIterator is not defined")},__onBackOffTimeOut:function(){this.connectionIterator.reset(),this.__connect(this.connectionIterator.next())},__resetBackOff:function(){this.backOffRetry=0,this.backOffDelay=4e3*Math.random()+1e3,this.backOffTimer&&clearTimeout(this.backOffTimer)},__playMedia:function(t){null!=t&&(1==this.config.adStitcher&&t.trackingParameters&&(t.file+=(-1!=t.file.indexOf("?")?"&":"?")+s.objectToQuery(t.trackingParameters).replace(/\./g,"%2E")),this.playMedia({url:t.file}))},__connect:function(t){if(null!=t){if(this.connection=t,null!=this.connection&&(this.mount=this.connection.mount?this.connection.mount:null),null!=this._currentLiveApiParams&&(this.station=this._currentLiveApiParams.station?this._currentLiveApiParams.station:null),this.connection.isGeoBlocked&&this.connection.alternateContent)return void a.publish("api/request","get-alternate-content",this.connection.alternateContent);var e=this._currentLiveApiParams.trackingParameters||{};this.lowActivated&&this.connection.isAudioAdaptive&&(e.utags="low-bw");var n=this.connection.mimeType,r=this.connection.url;e&&(r=r+"?"+s.objectToQuery(e)),this.emit("stream-select"),this.playStream({url:r,mimeType:n,format:this.connection.format,timeShift:this._currentLiveApiParams.timeShift,uuidEnabled:this.connection.uuidEnabled,sendPageUrl:this.connection.sendPageUrl,hasVideo:this.connection.hasVideo,type:this.connection.type,mount:this.connection.mount,sbmConfig:this.__getSbmData(),isHLS:this.connection.isHLS,isHLSTS:this.connection.isHLSTS})}},__getSbmData:function(){return null!=this._sbmConfig&&this._sbmConfig.active&&null!=this.connection.metadata&&null!=this.connection.metadata.sseSideband?(this._sbmConfig.info=this.connection.metadata.sseSideband,this._sbmConfig):this._sbmConfig},__onAdBreakCuePoint:function(t){var e=t.data.adBreakData;this.breakTimer&&clearInterval(this.breakTimer),e.duration>0&&this.__initBreakTimer(e.duration)},__initBreakTimer:function(t){this.breakTimer=setInterval(e.hitch(this,this.__onBreakTimerComplete),t)},__onBreakTimerComplete:function(){this.breakTimer&&clearInterval(this.breakTimer),this.emit("ad-break-cue-point-complete")},__initSbmConfig:function(t){t.sbm&&!t.sbm.active?this._sbmConfig={active:!1,aSyncCuePointFallback:null==t.sbm.aSyncCuePointFallback||t.sbm.aSyncCuePointFallback}:t.sbm&&t.sbm.active?this._sbmConfig={active:!0,aSyncCuePointFallback:null==t.sbm.aSyncCuePointFallback||t.sbm.aSyncCuePointFallback}:"Html5"==this.type?this._sbmConfig={active:!0,aSyncCuePointFallback:!0}:this._sbmConfig=null},prepare:function(t){"adModule"===t&&(this.playAdCalled=!0)},playStream:function(t){},pause:function(){},stop:function(){this.isLiveStream?(this.__resetBackOff(),this.stopStream()):this.stopMedia()},resume:function(){},seek:function(t){1==this.isLiveStream?this.seekStream(t):this.seekMedia(t)},seekLive:function(){},restartConnectionTimeOut:function(){this.connectionTimeOutTimer&&clearInterval(this.connectionTimeOutTimer),this._currentLiveApiParams.connectionTimeOut>0&&(this.connectionTimeOutTimer=setInterval(e.hitch(this,this.__onTimeOutAlert),6e4*this._currentLiveApiParams.connectionTimeOut))},setVolume:function(t){this.volume=t},getVolume:function(){return this.volume},mute:function(){},unMute:function(){},playAd:function(t,e){this.playAdCalled=!0},skipAd:function(){},destroyAd:function(){},__onTimeOutAlert:function(){this.connectionTimeOutTimer&&clearInterval(this.connectionTimeOutTimer),this.connectionTimeOutTimer=setInterval(e.hitch(this,this.__onTimeOutReached),this.TIME_OUT_MESSAGE_DELAY),this.emit("timeout-alert")},__onTimeOutReached:function(){this.connectionTimeOutTimer&&clearInterval(this.connectionTimeOutTimer),this.stopStream(),this.emit("timeout-reach")}})}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i,o=(n(20),n(36),n(39));n(22),r=[n(1),n(3),n(13),n(6),n(2),n(19),n(86),n(4)],void 0===(i=function(t,e,n,r,i,a,s,u){return t([n],{MAX_CONNECTION_LATENCY:5e3,constructor:function(){this.inherited(arguments),this.mediaNode=null,this.audioSource=null,this.isStopped=!0,this.isPaused=!0,this.listeners=[],this.volume=1,this._onCanPlayHandler=i.hitch(this,this._onCanPlay),this._onCanPlayThroughHandler=i.hitch(this,this._onCanPlayThrough),this._onLoadDataHandler=i.hitch(this,this._onLoadData),this._onLoadStartHandler=i.hitch(this,this._onLoadStart),this._onWaitingHandler=i.hitch(this,this._onWaiting),this._onEmptiedHandler=i.hitch(this,this._onEmptied),this._onAbortHandler=i.hitch(this,this._onAbort),this._onErrorHandler=i.hitch(this,this._onError),this._onLoadedMetadataHandler=i.hitch(this,this._onLoadedmetadata),this._onTimeUpdateHandler=i.hitch(this,this._onTimeupdate),this._onEndedHandler=i.hitch(this,this._onEnded),this._onPlayHandler=i.hitch(this,this._onPlay),this._onPauseHandler=i.hitch(this,this._onPause),this._onProgressHandler=i.hitch(this,this._onProgress),this._onStalledHandler=i.hitch(this,this._onStalled),this._onSuspendHandler=i.hitch(this,this._onSuspend)},play:function(t){t&&(this.params=t,this.mediaNode=t.mediaNode,this.isStopped=!1,this.isPaused=!1,this._loadMedia(t))},stop:function(){this.isStopped=!0,this.isPaused=!1,null!=this.mediaNode&&(this.mediaNode.pause(),this._emptyMediaNode())},skip:function(){this.isStopped=!0,this.isPaused=!1,null!=this.mediaNode&&(this.emit("html5-playback-status",{type:o.ENDED}),this.mediaNode.pause())},pause:function(){this.isPaused=!0,null!=this.mediaNode&&this.mediaNode.pause()},resume:function(){var t=this;this.isPaused=!1,null!=this.mediaNode&&this.mediaNode.paused&&this.mediaNode.play().catch((function(e){"NotAllowedError"===e.name&&t.emit("html5-playback-status",{type:o.PLAY_NOT_ALLOWED,mediaNode:this.audioNode})}))},seek:function(t){null!=this.mediaNode&&(this.mediaNode.currentTime=t,this.isPaused&&this.resume())},setVolume:function(t){null!=this.mediaNode&&(this.volume=t,this.mediaNode.volume=t)},mute:function(){null!=this.mediaNode&&(this.mediaNode.muted=!0,this.stop())},unMute:function(){null!=this.mediaNode&&(this.mediaNode.muted=!1,this.play(this.params))},_loadMedia:function(t){this.mediaNode.src=t.url,this._initMediaListeners(t.isLive),this.mediaNode.load()},_emptyMediaNode:function(){this.mediaNode.src=""},_removeMediaSource:function(){a.has(this.audioSource,"src")&&a.remove(this.audioSource,"src"),a.has(this.mediaNode,"src")&&a.remove(this.mediaNode,"src")},_onLoadData:function(){var t=this;this.isStopped||this.isPaused||(u("mozilla")&&this.mediaNode&&this.mediaNode.paused&&this.mediaNode.play().catch((function(e){"NotAllowedError"===e.name&&t.emit("html5-playback-status",{type:o.PLAY_NOT_ALLOWED,mediaNode:this.audioNode})})),this.emit("html5-playback-status",{type:o.DATA_LOADING,mediaNode:this.mediaNode}))},_onCanPlay:function(){var t=this;this.isStopped||this.isPaused||(this.emit("html5-playback-status",{type:o.CAN_PLAY,mediaNode:this.mediaNode}),this.mediaNode&&this.mediaNode.paused&&this.mediaNode.play().catch((function(e){"NotAllowedError"===e.name&&t.emit("html5-playback-status",{type:o.PLAY_NOT_ALLOWED,mediaNode:this.audioNode})})))},_onCanPlayThrough:function(){var t=this;this.isStopped||this.isPaused||(this.emit("html5-playback-status",{type:o.CAN_PLAY_THROUGH,mediaNode:this.mediaNode}),this.mediaNode&&this.mediaNode.paused&&this.mediaNode.play().catch((function(e){"NotAllowedError"===e.name&&t.emit("html5-playback-status",{type:o.PLAY_NOT_ALLOWED,mediaNode:this.audioNode})})))},_onWaiting:function(){this.isStopped||this.isPaused||this.emit("html5-playback-status",{type:o.WAITING,mediaNode:this.mediaNode})},_onEmptied:function(){this.isStopped||this.isPaused||this.emit("html5-playback-status",{type:o.EMPTIED,mediaNode:this.mediaNode})},_onAbort:function(){this.isStopped||this.isPaused||this.emit("html5-playback-status",{type:o.ABORT,mediaNode:this.mediaNode})},_onError:function(t){return this._removeMediaListeners(),this.isStopped||this.isPaused?void this.emit("html5-playback-status",{type:o.STOP,mediaNode:this.mediaNode}):void this.emit("html5-playback-status",{type:3==this.mediaNode.readyState?o.STOP:o.ERROR,mediaNode:this.mediaNode})},_onLoadedmetadata:function(){this.isStopped||this.isPaused||this.emit("html5-playback-status",{type:o.EMPTIED,mediaNode:this.mediaNode})},_onTimeupdate:function(){this.isStopped||this.isPaused||(this.mediaNode.currentTime.toFixed(1)==this.mediaNode.duration.toFixed(1)?(this.isStopped=!0,this.emit("html5-playback-status",{type:o.ENDED,mediaNode:this.mediaNode})):this.emit("html5-playback-status",{type:o.TIME_UPDATE,mediaNode:this.mediaNode}))},_onLoadStart:function(){this.isStopped||this.isPaused||this.emit("html5-playback-status",{type:o.LOAD_START,mediaNode:this.mediaNode})},_onEnded:function(){this.isStopped||(this._removeMediaListeners(),this.emit("html5-playback-status",{type:o.ENDED,mediaNode:this.mediaNode}))},_onPlay:function(){this.emit("html5-playback-status",{type:o.PLAY,mediaNode:this.mediaNode})},_onPause:function(){this.isStopped?this.emit("html5-playback-status",{type:o.STOP,mediaNode:this.mediaNode}):this.emit("html5-playback-status",{type:o.PAUSE,mediaNode:this.mediaNode})},_initMediaListeners:function(t){this._errorHandler=e(this.mediaNode,"error",this._onErrorHandler),this._loadDataHandler=e(this.mediaNode,"loadeddata",this._onLoadDataHandler),this._loadStartHandler=e(this.mediaNode,"loadstart",this._onLoadStartHandler),this._canPlayHandler=e(this.mediaNode,"canplay",this._onCanPlayHandler),this._canPlayThroughHandler=e(this.mediaNode,"canplaythrough",this._onCanPlayThroughHandler),this._waitingHandler=e(this.mediaNode,"waiting",this._onWaitingHandler),this._emptiedHandler=e(this.mediaNode,"emptied",this._onEmptiedHandler),this._abortHandler=e(this.mediaNode,"abort",this._onAbortHandler),this._endedHandler=e(this.mediaNode,"ended",this._onEndedHandler),this._playHandler=e(this.mediaNode,"play",this._onPlayHandler),this._pauseHandler=e(this.mediaNode,"pause",this._onPauseHandler),this._loadedMetadataHandler=e(this.mediaNode,"loadedmetadata",this._onLoadedMetadataHandler),this._timeUpdateHandler=t?null:e(this.mediaNode,"timeupdate",this._onTimeUpdateHandler)},_removeMediaListeners:function(){this.params=null,this._errorHandler.remove(),this._loadDataHandler.remove(),this._loadStartHandler.remove(),this._canPlayHandler.remove(),this._canPlayThroughHandler.remove(),this._waitingHandler.remove(),this._emptiedHandler.remove(),this._abortHandler.remove(),this._endedHandler.remove(),this._playHandler.remove(),this._pauseHandler.remove(),this._loadedMetadataHandler.remove(),this._timeUpdateHandler&&this._timeUpdateHandler.remove()}})}.apply(e,r))||(t.exports=i)},function(t,e,n){function r(t,e,n){return"string"==typeof e&&(e=[e]),h.isUndefined(n)&&(n=!1),t.filter((function(t){return!(h.isEmpty(t.tags)&&n)||h.some(e,(function(e){return-1!==t.tags.indexOf(e)}))}))}function i(t){return h.sortBy(t,(function(t){return t.mediaFormat.isAudioAdaptive?0:1}),(function(t){return t.mediaFormat.audioTracks[0].isAAC?0:1}))}function o(t){var e=h.groupBy(t,(function(t){return t.mediaFormat.isAudioAdaptive?"audioAdaptive":t.mediaFormat.audioTracks[0].isAAC?"aac":"mp3"})),n=h.keys(e);return h.flatMap(n,(function(t){var n=e[t];return h.orderBy(n,"bitRate","desc")}))}function a(t,e){return h.isArray(e)||(e=[e]),h.forEach(t,(function(t){var n=t.transports.filter((function(n){return!h.some(e,(function(e){return e.transport===n.transport&&t.mediaFormat.audioTracks[0].codec.indexOf(e.codec)>-1}))}));t.transports=n})),t.filter((function(t){return!h.isEmpty(t.transports)}))}function s(t){return h.filter(t,(function(t){return!t.mediaFormat.isAudioAdaptive}))}function u(t){return a(t,[{transport:"hls",codec:"aac"},{transport:"hlsts",codec:"aac"}])}function l(t,e){return a(t,[{transport:e?"hls":"hlsts",codec:"aac"},{transport:"http",codec:"aac"},{transport:"http",codec:"mp3"}])}function c(t,e){var n=h.map(e,(function(t){return function(e){return e.transport===t?0:1}}));return h.forEach(t,(function(t){var e=t.transports,r=h.sortBy(e,n);t.transports=r})),t}function d(t,e,n){if("flash"==n.toLowerCase())t=a(t=s(t),[{transport:"hlsts",codec:"aac"},{transport:"hls",codec:"aac"}]);else switch(e.os.family){case"iOS":t=a(t,{transport:"hlsts",codec:"aac"}),"Chrome Mobile"===e.name&&(t=a(t,[{transport:"hls",codec:"aac"}])),t=c(t,["hls","http"]);break;case"Android":t=c(t,["hlsts","http"]);break;default:switch(e.name){case"Safari":t=c(t=a(t,{transport:"hlsts",codec:"aac"}),["hls","http"]);break;case"IE":t=c(t="11.0"===e.version&&parseInt(e.os.version)>7?a(t,[{transport:"http",codec:"aac"},{transport:"hlsts",codec:"aac"}]):a(t,[{transport:"hls",codec:"aac"},{transport:"http",codec:"aac"},{transport:"hlsts",codec:"aac"}]),["hls","http"]);break;case"Microsoft Edge":t=c(t=a(t,[{transport:"hlsts",codec:"aac"}]),["hls","http"]);break;default:t=c(t=a(t,[{transport:"hlsts",codec:"aac"},{transport:"hls",codec:"aac"}]),["hls","http"])}}return t}var h=n(8);t.exports={filterMountPoints:function(t,e,n,a,c,h,f,p,g){return!h||p||g||(t=u(t)),f&&(t=s(t)),t=r(t,a,c),i(t=o(t=p?l(t):g?l(t,!0):d(t,e,n)))},filterByTag:r,sortMountpoints:i}},function(t,e,n){var r,i;r=[n(1),n(6),n(2),n(10),n(31),n(75),n(74),n(3)],void 0===(i=function(t,e,n,r,i,o,a,s){return t([i],{constructor:function(t,e){this.albumData=null,this.inherited(arguments)},getArtists:function(){return this.albumData.artists},getArtistId:function(){return this.getArtists()[0].id},getDuration:function(){return this.albumData.duration},getGenres:function(){for(var t=[],e=0;e<this.albumData.genres.length;e++)t.push(this.albumData.genres[e].name);return t},getTitle:function(){return null!=this.albumData?this.albumData.title:this.data.title},getLabel:function(){return this.data.label},getReleaseDate:function(){return null!=this.albumData?this.albumData.release:this.data.release},getReview:function(){return this.albumData.review},getReviewAuthor:function(){return this.albumData.reviewAuthor},getBuyUrl:function(){return null!=this.albumData?this.albumData.buyURL:this.data.buyURL},getRating:function(){return null!=this.albumData?this.albumData.rating:this.data.rating},getCoverArtOriginal:function(){var t=null!=this.albumData?this.albumData.cover:this.data.cover;return null!=t||null!=t?{url:t.originalSourceUrl,width:t.width,height:t.height,id:t.id}:null},getCoverArtPicture:function(){return this.coverArtPicture},fetchCoverArtPicture:function(){if(!this.coverArtPicture){var t=null!=this.albumData?this.albumData.cover:this.data.cover;return null==t?void this.notify("cover-complete"):(t.albumId=this.id,this.coverArtPicture=new a(t,this.platformId),this.coverArtPicture.successCallback&&this.coverArtPicture.successCallback.remove(),this.coverArtPicture.errorCallback&&this.coverArtPicture.errorCallback.remove(),this.coverArtPicture.successCallback=s(this.coverArtPicture,"picture-complete",n.hitch(this,this._onCoverArtPictureComplete)),this.coverArtPicture.errorCallback=s(this.coverArtPicture,"picture-error",n.hitch(this,this._onCoverArtPictureComplete)),void this.coverArtPicture.fetchData())}this.notify("cover-complete",this.coverArtPicture)},_onCoverArtPictureComplete:function(t,e){this.notify("cover-complete",this.coverArtPicture)},getTracks:function(){var t;return null==this.tracks&&(this.tracks=[],e.forEach(this.albumData.tracks,(function(e,n){t=new o(e,this.platformId),this.tracks.push(t)}),this)),this.tracks},getTrackById:function(t){var n=-1;return e.forEach(this.getTracks(),(function(e,r){e.id==t&&(n=r)}),this),n>-1?this.getTracks()[n]:null},fetchData:function(t){if((t=null!=t&&t)&&(this.url=this.getDynamicAlbumUrl(this.id)),null==this.url)return console.error("album::fetchData - The album url is undefined for album title="+this.getTitle()),void this.notify("album-error",{albumId:this.id});0==this.alreadyFetched?(new r).request(this.url,{albumId:this.id,isDynamicCall:t},this.getRequestArgs(),n.hitch(this,this._onLoadComplete),n.hitch(this,this._onLoadError)):this.notify("album-complete",{albumId:this.id})},fetchTrackByIds:function(t){"string"==typeof t&&(t=[t]),this.tracksQueue=n.clone(t);for(var e,r=0;r<t.length;r++)(e=this.getTrackById(t[r])).successCallback&&e.successCallback.remove(),e.errorCallback&&e.errorCallback.remove(),e.successCallback=s(e,"track-complete",n.hitch(this,this._onTrackComplete)),e.errorCallback=s(e,"track-error",n.hitch(this,this._onTrackComplete)),e.fetchData()},_onLoadError:function(t,e){console.error(e),0==t.isDynamicCall?this.fetchData(!0):this.notify("album-error",{albumId:t.albumId})},_onLoadComplete:function(t,e){this.albumData=e.album,this.alreadyFetched=!0,this.notify("album-complete",{albumId:t.albumId})},_onTrackComplete:function(t,e){this._removeTrackFromQueue(t.trackId),0==this.tracksQueue.length&&this.notify("track-complete",this.tracks)},_removeTrackFromQueue:function(t){var n=-1;e.forEach(this.tracksQueue,(function(e,r){e==t&&(n=r)}),this),n>-1&&this.tracksQueue.splice(n,1)}})}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(1),n(2),n(10),n(31)],void 0===(i=function(t,e,n,r){return t([r],{constructor:function(t,e){this.pictureData=null,this.albumId=t.albumId?t.albumId:null,this.artistId=t.artistId?t.artistId:null,this.inherited(arguments)},getOriginalSourceUrl:function(){return this.data.originalSourceUrl},getOriginalWidth:function(){return this.data.width},getOriginalHeight:function(){return this.data.height},getFiles:function(){return null!=this.pictureData&&null!=this.pictureData.files&&this.pictureData.files.length>0?this.pictureData.files:null},fetchData:function(t){(t=null!=t&&t)?null!=this.albumId?this.url=this.getDynamicAlbumPictureUrl(this.albumId,this.id):this.url=this.getDynamicArtistPictureUrl(this.artistId,this.id):null!=this.albumId?this.url+=-1!=this.url.indexOf("?")?"&":"?rewrite_id="+this.albumId:this.url+=-1!=this.url.indexOf("?")?"&":"?rewrite_id="+this.artistId,0==this.alreadyFetched?(new n).request(this.url,{pictureId:this.id,isDynamicCall:t},this.getRequestArgs(),e.hitch(this,this._onLoadComplete),e.hitch(this,this._onLoadError)):this.notify("picture-complete",{pictureId:this.id})},_onLoadError:function(t,e){console.error(e),0==t.isDynamicCall?this.fetchData(!0):this.notify("picture-error",{pictureId:t.pictureId})},_onLoadComplete:function(t,e){this.pictureData=e.picture,this.alreadyFetched=!0,this.notify("picture-complete",{pictureId:t.pictureId})}})}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(1),n(2),n(10),n(31)],void 0===(i=function(t,e,n,r){return t([r],{constructor:function(t,e){this.trackData=null,this.inherited(arguments)},getBuyUrl:function(){return null!=this.trackData?this.trackData.buyURL:this.data.buyURL},getDuration:function(){return this.data.duration},getSampleUrl:function(){return null!=this.trackData?this.trackData.sampleURL:this.data.sampleURL},getTitle:function(){return null!=this.trackData?this.trackData.title:this.data.title},getArtists:function(){return this.trackData.artists},getReview:function(){return this.trackData.review},getReviewAuthor:function(){return this.trackData.reviewAuthor},getDisc:function(){return this.data.disc},fetchData:function(t){(t=null!=t&&t)&&(this.url=this.getDynamicTrackUrl(this.id)),0==this.alreadyFetched?(new n).request(this.url,{trackId:this.id,isDynamicCall:t},this.getRequestArgs(),e.hitch(this,this._onLoadComplete),e.hitch(this,this._onLoadError)):this.notify("track-complete",{trackId:this.id})},_onLoadError:function(t,e){console.error(e),0==t.isDynamicCall?this.fetchData(!0):this.notify("track-error",{trackId:t.trackId})},_onLoadComplete:function(t,e){this.trackData=e.track,this.alreadyFetched=!0,this.notify("track-complete",{trackId:t.trackId})}})}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(4),n(27)],void 0===(i=function(t,e){var n={};if(t("dojo-config-api")){var r,i=e.rawConfig;for(r in i)n[r]=i[r]}else{var o=function(e,n,i){for(r in e)"has"!=r&&t.add(n+r,e[r],0,i)};o(n=t("dojo-loader")?e.rawConfig:this.dojoConfig||this.djConfig||{},"config",1),o(n.has,"",1)}return n.locale||(n.locale=(navigator.language||navigator.userLanguage).toLowerCase()),n}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(5),n(3),n(26),n(33),n(78),n(85),n(79),n(2),n(84)],void 0===(i=function(t,e,n,r,i,o,a,s){function u(n,i,a,u,l){if(u=s.hitch(a,u),!n||!n.addEventListener&&!n.attachEvent)return r.after(n||t.global,i,u,!0);if("string"==typeof i&&"on"==i.substring(0,2)&&(i=i.substring(2)),n||(n=t.global),!l)switch(i){case"keypress":i=c;break;case"mouseenter":i=o.enter;break;case"mouseleave":i=o.leave}return e(n,i,u,l)}function l(t){t.keyChar=t.charCode?String.fromCharCode(t.charCode):"",t.charOrCode=t.keyChar||t.keyCode}a.add("events-keypress-typed",(function(){var t={charCode:0};try{((t=document.createEvent("KeyboardEvent")).initKeyboardEvent||t.initKeyEvent).call(t,"keypress",!0,!0,null,!1,!1,!1,!1,9,3)}catch(t){}return 0==t.charCode&&!a("opera")}));var c,d={106:42,111:47,186:59,187:43,188:44,189:45,190:46,191:47,192:96,219:91,220:92,221:93,222:39,229:113},h=a("mac")?"metaKey":"ctrlKey",f=function(t,e){var n=s.mixin({},t,e);return l(n),n.preventDefault=function(){t.preventDefault()},n.stopPropagation=function(){t.stopPropagation()},n},p={_keypress:c=a("events-keypress-typed")?function(t,n){var r=e(t,"keydown",(function(t){var e=t.keyCode,r=13!=e&&32!=e&&(27!=e||!a("ie"))&&(e<48||e>90)&&(e<96||e>111)&&(e<186||e>192)&&(e<219||e>222)&&229!=e;if(r||t.ctrlKey){var i=r?0:e;if(t.ctrlKey){if(3==e||13==e)return n.call(t.currentTarget,t);i>95&&i<106?i-=48:!t.shiftKey&&i>=65&&i<=90?i+=32:i=d[i]||i}var o=f(t,{type:"keypress",faux:!0,charCode:i});n.call(t.currentTarget,o),a("ie")&&function(t,e){try{t.keyCode=e}catch(t){return 0}}(t,o.keyCode)}})),i=e(t,"keypress",(function(t){var e=t.charCode;return t=f(t,{charCode:e=e>=32?e:0,faux:!0}),n.call(this,t)}));return{remove:function(){r.remove(),i.remove()}}}:a("opera")?function(t,n){return e(t,"keypress",(function(t){var e=t.which;return 3==e&&(e=99),e=e<32&&!t.shiftKey?0:e,t.ctrlKey&&!t.shiftKey&&e>=65&&e<=90&&(e+=32),n.call(this,f(t,{charCode:e}))}))}:function(t,n){return e(t,"keypress",(function(t){return l(t),n.call(this,t)}))},connect:function(t,e,n,r,i){var o=arguments,a=[],s=0;a.push("string"==typeof o[0]?null:o[s++],o[s++]);var l=o[s+1];a.push("string"==typeof l||"function"==typeof l?o[s++]:null,o[s++]);for(var c=o.length;s<c;s++)a.push(o[s]);return u.apply(this,a)},disconnect:function(t){t&&t.remove()},subscribe:function(t,e,r){return n.subscribe(t,s.hitch(e,r))},publish:function(t,e){return n.publish.apply(n,[t].concat(e))},connectPublisher:function(t,e,n){var r=function(){p.publish(t,arguments)};return n?p.connect(e,n,r):p.connect(e,r)},isCopyKey:function(t){return t[h]}};return p.unsubscribe=p.disconnect,a("extend-dojo")&&s.mixin(t,p),p}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(5),n(3),n(4),n(80)],void 0===(i=function(t,e,n,r){if(e._fixEvent){var i=e._fixEvent;e._fixEvent=function(t,e){return(t=i(t,e))&&r.normalizeEvent(t),t}}var o={fix:function(t,n){return e._fixEvent?e._fixEvent(t,n):t},stop:function(t){n("dom-addeventlistener")||t&&t.preventDefault?(t.preventDefault(),t.stopPropagation()):((t=t||window.event).cancelBubble=!0,e._preventDefault.call(t))}};return n("extend-dojo")&&(t.fixEvent=o.fix,t.stopEvent=o.stop),o}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(5),n(2),n(9)],void 0===(i=function(t,e,n){return n("host-browser")?(t._name="browser",e.mixin(t,{isBrowser:!0,isFF:n("ff"),isIE:n("ie"),isKhtml:n("khtml"),isWebKit:n("webkit"),isMozilla:n("mozilla"),isMoz:n("mozilla"),isOpera:n("opera"),isSafari:n("safari"),isChrome:n("chrome"),isMac:n("mac"),isIos:n("ios"),isAndroid:n("android"),isWii:n("wii"),isQuirks:n("quirks"),isAir:n("air")}),n):n}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(9),n(17),n(7),n(23)],void 0===(i=function(t,e,n,r){function i(t,e,n,r,i,o){o=o||"px";var a=t.style;isNaN(e)||(a.left=e+o),isNaN(n)||(a.top=n+o),r>=0&&(a.width=r+o),i>=0&&(a.height=i+o)}function o(t){return"button"==t.tagName.toLowerCase()||"input"==t.tagName.toLowerCase()&&"button"==(t.getAttribute("type")||"").toLowerCase()}function a(t){return"border-box"==s.boxModel||"table"==t.tagName.toLowerCase()||o(t)}var s={boxModel:"content-box"};t("ie")&&(s.boxModel="BackCompat"==document.compatMode?"border-box":"content-box"),s.getPadExtents=function(t,e){t=n.byId(t);var i=e||r.getComputedStyle(t),o=r.toPixelValue,a=o(t,i.paddingLeft),s=o(t,i.paddingTop),u=o(t,i.paddingRight),l=o(t,i.paddingBottom);return{l:a,t:s,r:u,b:l,w:a+u,h:s+l}};var u="none";s.getBorderExtents=function(t,e){t=n.byId(t);var i=r.toPixelValue,o=e||r.getComputedStyle(t),a=o.borderLeftStyle!=u?i(t,o.borderLeftWidth):0,s=o.borderTopStyle!=u?i(t,o.borderTopWidth):0,l=o.borderRightStyle!=u?i(t,o.borderRightWidth):0,c=o.borderBottomStyle!=u?i(t,o.borderBottomWidth):0;return{l:a,t:s,r:l,b:c,w:a+l,h:s+c}},s.getPadBorderExtents=function(t,e){t=n.byId(t);var i=e||r.getComputedStyle(t),o=s.getPadExtents(t,i),a=s.getBorderExtents(t,i);return{l:o.l+a.l,t:o.t+a.t,r:o.r+a.r,b:o.b+a.b,w:o.w+a.w,h:o.h+a.h}},s.getMarginExtents=function(t,e){t=n.byId(t);var i=e||r.getComputedStyle(t),o=r.toPixelValue,a=o(t,i.marginLeft),s=o(t,i.marginTop),u=o(t,i.marginRight),l=o(t,i.marginBottom);return{l:a,t:s,r:u,b:l,w:a+u,h:s+l}},s.getMarginBox=function(e,i){e=n.byId(e);var o,a=i||r.getComputedStyle(e),l=s.getMarginExtents(e,a),c=e.offsetLeft-l.l,d=e.offsetTop-l.t,h=e.parentNode,f=r.toPixelValue;if(t("mozilla")){var p=parseFloat(a.left),g=parseFloat(a.top);isNaN(p)||isNaN(g)?h&&h.style&&"visible"!=(o=r.getComputedStyle(h)).overflow&&(c+=o.borderLeftStyle!=u?f(e,o.borderLeftWidth):0,d+=o.borderTopStyle!=u?f(e,o.borderTopWidth):0):(c=p,d=g)}else(t("opera")||8==t("ie")&&!t("quirks"))&&h&&(c-=(o=r.getComputedStyle(h)).borderLeftStyle!=u?f(e,o.borderLeftWidth):0,d-=o.borderTopStyle!=u?f(e,o.borderTopWidth):0);return{l:c,t:d,w:e.offsetWidth+l.w,h:e.offsetHeight+l.h}},s.getContentBox=function(e,i){e=n.byId(e);var o,a=i||r.getComputedStyle(e),u=e.clientWidth,l=s.getPadExtents(e,a),c=s.getBorderExtents(e,a);return u?(o=e.clientHeight,c.w=c.h=0):(u=e.offsetWidth,o=e.offsetHeight),t("opera")&&(l.l+=c.l,l.t+=c.t),{l:l.l,t:l.t,w:u-l.w-c.w,h:o-l.h-c.h}},s.setContentSize=function(t,e,r){t=n.byId(t);var o=e.w,u=e.h;if(a(t)){var l=s.getPadBorderExtents(t,r);o>=0&&(o+=l.w),u>=0&&(u+=l.h)}i(t,NaN,NaN,o,u)};var l={l:0,t:0,w:0,h:0};return s.setMarginBox=function(e,u,c){e=n.byId(e);var d=c||r.getComputedStyle(e),h=u.w,f=u.h,p=a(e)?l:s.getPadBorderExtents(e,d),g=s.getMarginExtents(e,d);if(t("webkit")&&o(e)){var m=e.style;h>=0&&!m.width&&(m.width="4px"),f>=0&&!m.height&&(m.height="4px")}h>=0&&(h=Math.max(h-p.w-g.w,0)),f>=0&&(f=Math.max(f-p.h-g.h,0)),i(e,u.l,u.t,h,f)},s.isBodyLtr=function(t){return t=t||e.doc,"ltr"==(e.body(t).dir||t.documentElement.dir||"ltr").toLowerCase()},s.docScroll=function(n){n=n||e.doc;var r=e.doc.parentWindow||e.doc.defaultView;return"pageXOffset"in r?{x:r.pageXOffset,y:r.pageYOffset}:(r=t("quirks")?e.body(n):n.documentElement)&&{x:s.fixIeBiDiScrollLeft(r.scrollLeft||0,n),y:r.scrollTop||0}},t("ie")&&(s.getIeDocumentElementOffset=function(n){var r=(n=n||e.doc).documentElement;if(t("ie")<8){var i=r.getBoundingClientRect(),o=i.left,a=i.top;return t("ie")<7&&(o+=r.clientLeft,a+=r.clientTop),{x:o<0?0:o,y:a<0?0:a}}return{x:0,y:0}}),s.fixIeBiDiScrollLeft=function(n,r){r=r||e.doc;var i=t("ie");if(i&&!s.isBodyLtr(r)){var o=t("quirks"),a=o?e.body(r):r.documentElement,u=e.global;return 6==i&&!o&&u.frameElement&&a.scrollHeight>a.clientHeight&&(n+=a.clientLeft),i<8||o?n+a.clientWidth-a.scrollWidth:-n}return n},s.position=function(r,i){r=n.byId(r);var o=e.body(r.ownerDocument),a=r.getBoundingClientRect();if(a={x:a.left,y:a.top,w:a.right-a.left,h:a.bottom-a.top},t("ie")<9){var u=s.getIeDocumentElementOffset(r.ownerDocument);a.x-=u.x+(t("quirks")?o.clientLeft+o.offsetLeft:0),a.y-=u.y+(t("quirks")?o.clientTop+o.offsetTop:0)}if(i){var l=s.docScroll(r.ownerDocument);a.x+=l.x,a.y+=l.y}return a},s.getMarginSize=function(t,e){t=n.byId(t);var i=s.getMarginExtents(t,e||r.getComputedStyle(t)),o=t.getBoundingClientRect();return{w:o.right-o.left+i.w,h:o.bottom-o.top+i.h}},s.normalizeEvent=function(e){if("layerX"in e||(e.layerX=e.offsetX,e.layerY=e.offsetY),!t("dom-addeventlistener")){var n=e.target,r=n&&n.ownerDocument||document,i=t("quirks")?r.body:r.documentElement,o=s.getIeDocumentElementOffset(r);e.pageX=e.clientX+s.fixIeBiDiScrollLeft(i.scrollLeft||0,r)-o.x,e.pageY=e.clientY+(i.scrollTop||0)-o.y}},s}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[e,n(5),n(9),n(2),n(7),n(23),n(11),n(77)],void 0===(i=function(t,e,n,r,i,o,a,s){var u={},l=0,c=e._scopeName+"attrid";t.names={class:"className",for:"htmlFor",tabindex:"tabIndex",readonly:"readOnly",colspan:"colSpan",frameborder:"frameBorder",rowspan:"rowSpan",valuetype:"valueType"},t.get=function(e,n){e=i.byId(e);var r=n.toLowerCase();return e[t.names[r]||n]},t.set=function(e,d,h){e=i.byId(e);var f=arguments.length;if(2==f&&"string"!=typeof d){for(var p in d)t.set(e,p,d[p]);return e}var g=d.toLowerCase(),m=t.names[g]||d;if("style"==m&&"string"!=typeof h)return o.set(e,h),e;if("innerHTML"==m)return n("ie")&&e.tagName.toLowerCase()in{col:1,colgroup:1,table:1,tbody:1,tfoot:1,thead:1,tr:1,title:1}?(a.empty(e),e.appendChild(a.toDom(h,e.ownerDocument))):e[m]=h,e;if(r.isFunction(h)){var v=e[c];v||(v=l++,e[c]=v),u[v]||(u[v]={});var y=u[v][m];if(y)s.disconnect(y);else try{delete e[m]}catch(t){}return h?u[v][m]=s.connect(e,m,h):e[m]=null,e}return e[m]=h,e}}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(35),n(34)],void 0===(i=function(t,e){return t("RequestTimeoutError",null,e,{dojoType:"timeout"})}.apply(e,r))||(t.exports=i)},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(4)],__WEBPACK_AMD_DEFINE_RESULT__=function(has){"use strict";var hasJSON="undefined"!=typeof JSON;if(has.add("json-parse",hasJSON),has.add("json-stringify",hasJSON&&'{"a":1}'==JSON.stringify({a:0},(function(t,e){return e||1}))),has("json-stringify"))return JSON;var escapeString=function(t){return('"'+t.replace(/(["\\])/g,"\\$1")+'"').replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r")};return{parse:has("json-parse")?JSON.parse:function(str,strict){if(strict&&!/^([\s\[\{]*(?:"(?:\\.|[^"])*"|-?\d[\d\.]*(?:[Ee][+-]?\d+)?|null|true|false|)[\s\]\}]*(?:,|:|$))+$/.test(str))throw new SyntaxError("Invalid characters in JSON");return eval("("+str+")")},stringify:function(t,e,n){return"string"==typeof e&&(n=e,e=null),function t(r,i,o){e&&(r=e(o,r));var a,s=_typeof(r);if("number"==s)return isFinite(r)?r+"":"null";if("boolean"==s)return r+"";if(null===r)return"null";if("string"==typeof r)return escapeString(r);if("function"!=s&&"undefined"!=s){if("function"==typeof r.toJSON)return t(r.toJSON(o),i,o);if(r instanceof Date)return'"{FullYear}-{Month+}-{Date}T{Hours}:{Minutes}:{Seconds}Z"'.replace(/\{(\w+)(\+)?\}/g,(function(t,e,n){var i=r["getUTC"+e]()+(n?1:0);return i<10?"0"+i:i}));if(r.valueOf()!==r)return t(r.valueOf(),i,o);var u=n?i+n:"",l=n?" ":"",c=n?"\n":"";if(r instanceof Array){var d=r.length,h=[];for(o=0;o<d;o++)"string"!=typeof(a=t(r[o],u,o))&&(a="null"),h.push(c+u+a);return"["+h.join(",")+c+i+"]"}var f=[];for(o in r){var p;if(r.hasOwnProperty(o)){if("number"==typeof o)p='"'+o+'"';else{if("string"!=typeof o)continue;p=escapeString(o)}if("string"!=typeof(a=t(r[o],u,o)))continue;f.push(c+u+p+":"+l+a)}}return"{"+f.join(",")+c+i+"}"}}(t,"","")}}}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},function(t,e,n){var r,i;r=[n(5),n(9)],void 0===(i=function(t,e){return t.keys={BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,META:e("webkit")?91:224,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,HELP:47,LEFT_WINDOW:91,RIGHT_WINDOW:92,SELECT:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_PLUS:107,NUMPAD_ENTER:108,NUMPAD_MINUS:109,NUMPAD_PERIOD:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NUM_LOCK:144,SCROLL_LOCK:145,UP_DPAD:175,DOWN_DPAD:176,LEFT_DPAD:177,RIGHT_DPAD:178,copyKey:e("mac")&&!e("air")?e("safari")?91:224:17}}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(5),n(3),n(4),n(7),n(17)],void 0===(i=function(t,e,n,r,i){function o(t,n){var i=function(i,o){return e(i,t,(function(t){return n?n(t,o):r.isDescendant(t.relatedTarget,i)?void 0:o.call(this,t)}))};return i.bubble=function(e){return o(t,(function(t,n){var r=e(t.target),i=t.relatedTarget;if(r&&r!=(i&&1==i.nodeType&&e(i)))return n.call(r,t)}))},i}var a,s;return n.add("dom-quirks",i.doc&&"BackCompat"==i.doc.compatMode),n.add("events-mouseenter",i.doc&&"onmouseenter"in i.doc.createElement("div")),n.add("events-mousewheel",i.doc&&"onmousewheel"in i.doc),a=n("dom-quirks")&&n("ie")||!n("dom-addeventlistener")?{LEFT:1,MIDDLE:4,RIGHT:2,isButton:function(t,e){return t.button&e},isLeft:function(t){return 1&t.button},isMiddle:function(t){return 4&t.button},isRight:function(t){return 2&t.button}}:{LEFT:0,MIDDLE:1,RIGHT:2,isButton:function(t,e){return t.button==e},isLeft:function(t){return 0==t.button},isMiddle:function(t){return 1==t.button},isRight:function(t){return 2==t.button}},t.mouseButtons=a,s=n("events-mousewheel")?"mousewheel":function(t,n){return e(t,"DOMMouseScroll",(function(t){t.wheelDelta=-t.detail,n.call(this,t)}))},{_eventHandler:o,enter:o("mouseover"),leave:o("mouseout"),wheel:s,isLeft:a.isLeft,isMiddle:a.isMiddle,isRight:a.isRight}}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(5),n(4),n(7),n(3),n(6),n(2),n(55),n(89)],void 0===(i=function(t,e,n,r,i,o,a,s){"use strict";function u(t,e){var r=function(r,i){if("string"==typeof i&&!(i=n.byId(i)))return new e([]);var o="string"==typeof r?t(r,i):r?r.end&&r.on?r:[r]:[];return o.end&&o.on?o:new e(o)};if(r.matches=t.match||function(t,e,n){return r.filter([t],e,n).length>0},r.filter=t.filter||function(t,e,n){return r(e,n).filter((function(e){return i.indexOf(t,e)>-1}))},"function"!=typeof t){var o=t.search;t=function(t,e){return o(e||document,t)}}return r}e.add("array-extensible",(function(){return 1==o.delegate([],{length:1}).length&&!e("bug-for-in-skips-shadowed")}));var l=Array.prototype,c=l.slice,d=l.concat,h=i.forEach,f=function(e,n,r){return n=[0].concat(c.call(n,0)),r=r||t.global,function(t){return n[0]=t,e.apply(r,n)}},p=function(t){var n=this instanceof g&&e("array-extensible");"number"==typeof t&&(t=Array(t));var r=t&&"length"in t?t:arguments;if(n||!r.sort){for(var i=n?this:[],a=i.length=r.length,s=0;s<a;s++)i[s]=r[s];if(n)return i;r=i}return o._mixin(r,m),r._NodeListCtor=function(t){return g(t)},r},g=p,m=g.prototype=e("array-extensible")?[]:{};g._wrap=m._wrap=function(t,e,n){var r=new(n||this._NodeListCtor||g)(t);return e?r._stash(e):r},g._adaptAsMap=function(t,e){return function(){return this.map(f(t,arguments,e))}},g._adaptAsForEach=function(t,e){return function(){return this.forEach(f(t,arguments,e)),this}},g._adaptAsFilter=function(t,e){return function(){return this.filter(f(t,arguments,e))}},g._adaptWithCondition=function(e,n,r){return function(){var i=arguments,o=f(e,i,r);return n.call(r||t.global,i)?this.map(o):(this.forEach(o),this)}},h(["slice","splice"],(function(t){var e=l[t];m[t]=function(){return this._wrap(e.apply(this,arguments),"slice"==t?this:null)}})),h(["indexOf","lastIndexOf","every","some"],(function(e){var n=i[e];m[e]=function(){return n.apply(t,[this].concat(c.call(arguments,0)))}})),o.extend(p,{constructor:g,_NodeListCtor:g,toString:function(){return this.join(",")},_stash:function(t){return this._parent=t,this},on:function(t,e){var n=this.map((function(n){return r(n,t,e)}));return n.remove=function(){for(var t=0;t<n.length;t++)n[t].remove()},n},end:function(){return this._parent?this._parent:new this._NodeListCtor(0)},concat:function(t){var e=c.call(this,0),n=i.map(arguments,(function(t){return c.call(t,0)}));return this._wrap(d.apply(e,n),this)},map:function(t,e){return this._wrap(i.map(this,t,e),this)},forEach:function(t,e){return h(this,t,e),this},filter:function(t){var e=arguments,n=this,r=0;if("string"==typeof t){if(n=v._filterResult(this,e[0]),1==e.length)return n._stash(this);r=1}return this._wrap(i.filter(n,e[r],e[r+1]),this)},instantiate:function(t,e){var n=o.isFunction(t)?t:o.getObject(t);return e=e||{},this.forEach((function(t){new n(e,t)}))},at:function(){var t=new this._NodeListCtor(0);return h(arguments,(function(e){e<0&&(e=this.length+e),this[e]&&t.push(this[e])}),this),t._stash(this)}});var v=u(s,p);return t.query=u(s,(function(t){return p(t)})),v.load=function(t,e,n){a.load(t,e,(function(t){n(u(t,p))}))},t._filterQueryResult=v._filterResult=function(t,e,n){return new p(v.filter(t,e,n))},t.NodeList=v.NodeList=p,v}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(83),n(5),n(6),n(4),n(55)],void 0===(i=function(t,e,n,r){function i(t){var e=s[t.options.handleAs];return t.data=e?e(t):t.data||t.text,t}var o;if(r.add("activex","undefined"!=typeof ActiveXObject),r.add("dom-parser",(function(t){return"DOMParser"in t})),r("activex")){var a=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.4.0","MSXML2.DOMDocument.3.0","MSXML.DOMDocument"];o=function(t){var e=t.data;if(e&&r("dom-qsa2.1")&&!e.querySelectorAll&&r("dom-parser")&&(e=(new DOMParser).parseFromString(t.text,"application/xml")),!e||!e.documentElement){var i=t.text;n.some(a,(function(t){try{var n=new ActiveXObject(t);n.async=!1,n.loadXML(i),e=n}catch(t){return!1}return!0}))}return e}}var s={javascript:function(t){return e.eval(t.text||"")},json:function(e){return t.parse(e.text||null)},xml:o};return i.register=function(t,e){s[t]=e},i}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(53),n(82),n(24),n(6),n(17),n(56)],void 0===(i=function(t,e,n,r,i,o){function a(){for(var t,n=+new Date,r=0;r<l.length&&(t=l[r]);r++){var i=t.response,o=i.options;t.isCanceled&&t.isCanceled()||t.isValid&&!t.isValid(i)?(l.splice(r--,1),s._onAction&&s._onAction()):t.isReady&&t.isReady(i)?(l.splice(r--,1),t.handleResponse(i),s._onAction&&s._onAction()):t.startTime&&t.startTime+(o.timeout||0)<n&&(l.splice(r--,1),t.cancel(new e("Timeout exceeded",i)),s._onAction&&s._onAction())}s._onInFlight&&s._onInFlight(t),l.length||(clearInterval(u),u=null)}function s(t){t.response.options.timeout&&(t.startTime=+new Date),t.isFulfilled()||(l.push(t),u||(u=setInterval(a,50)),t.response.options.sync&&a())}var u=null,l=[];return s.cancelAll=function(){try{r.forEach(l,(function(t){try{t.cancel(new n("All requests canceled."))}catch(t){}}))}catch(t){}},i&&o&&i.doc.attachEvent&&o(i.global,"unload",(function(){s.cancelAll()})),s}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(4),n(5)],void 0===(i=function(t,e){"use strict";var n=document.createElement("div"),r=n.matchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector,i=n.querySelectorAll,o=/([^\s,](?:"(?:\\.|[^"])+"|'(?:\\.|[^'])+'|[^,])*)/g;t.add("dom-matches-selector",!!r),t.add("dom-qsa",!!i);var a=function t(n,r){if(l&&n.indexOf(",")>-1)return l(n,r);var o=r?r.ownerDocument||r:e.doc||document,a=(i?/^([\w]*)#([\w\-]+$)|^(\.)([\w\-\*]+$)|^(\w+$)/:/^([\w]*)#([\w\-]+)(?:\s+(.*))?$|(?:^|(>|.+\s+))([\w\-\*]+)(\S*$)/).exec(n);if(r=r||o,a){if(a[2]){if(!(d=e.byId?e.byId(a[2],o):o.getElementById(a[2]))||a[1]&&a[1]!=d.tagName.toLowerCase())return[];if(r!=o)for(var c=d;c!=r;)if(!(c=c.parentNode))return[];return a[3]?t(a[3],d):[d]}if(a[3]&&r.getElementsByClassName)return r.getElementsByClassName(a[4]);var d;if(a[5]){if(d=r.getElementsByTagName(a[5]),!a[4]&&!a[6])return d;n=(a[4]||"")+a[6]}}if(i)return 1===r.nodeType&&"object"!==r.nodeName.toLowerCase()?s(r,n,r.querySelectorAll):r.querySelectorAll(n);d||(d=r.getElementsByTagName("*"));for(var h=[],f=0,p=d.length;f<p;f++){var g=d[f];1==g.nodeType&&u(g,n,r)&&h.push(g)}return h},s=function(t,e,n){var r=t,i=t.getAttribute("id"),a=i||"__dojo__",s=t.parentNode,u=/^\s*[+~]/.test(e);if(u&&!s)return[];i?a=a.replace(/'/g,"\\$&"):t.setAttribute("id",a),u&&s&&(t=t.parentNode);for(var l=e.match(o),c=0;c<l.length;c++)l[c]="[id='"+a+"'] "+l[c];e=l.join(",");try{return n.call(t,e)}finally{i||r.removeAttribute("id")}};if(!t("dom-matches-selector"))var u=function(){function t(t,e,n){var r=e.charAt(0);'"'!=r&&"'"!=r||(e=e.slice(1,-1)),e=e.replace(/\\/g,"");var i=s[n||""];return function(n){var r=n.getAttribute(t);return r&&i(r,e)}}function e(t){return function(e,n){for(;(e=e.parentNode)!=n;)if(t(e,n))return!0}}function r(t){return function(e,n){return e=e.parentNode,t?e!=n&&t(e,n):e==n}}function i(t,e){return t?function(n,r){return e(n)&&t(n,r)}:e}var o="div"==n.tagName?"toLowerCase":"toUpperCase",a={"":function(t){return t=t[o](),function(e){return e.tagName==t}},".":function(t){var e=" "+t+" ";return function(n){return n.className.indexOf(t)>-1&&(" "+n.className+" ").indexOf(e)>-1}},"#":function(t){return function(e){return e.id==t}}},s={"^=":function(t,e){return 0==t.indexOf(e)},"*=":function(t,e){return t.indexOf(e)>-1},"$=":function(t,e){return t.substring(t.length-e.length,t.length)==e},"~=":function(t,e){return(" "+t+" ").indexOf(" "+e+" ")>-1},"|=":function(t,e){return 0==(t+"-").indexOf(e+"-")},"=":function(t,e){return t==e},"":function(t,e){return!0}},u={};return function(n,o,s){var l=u[o];if(!l){if(o.replace(/(?:\s*([> ])\s*)|(#|\.)?((?:\\.|[\w-])+)|\[\s*([\w-]+)\s*(.?=)?\s*("(?:\\.|[^"])+"|'(?:\\.|[^'])+'|(?:\\.|[^\]])*)\s*\]/g,(function(n,o,s,u,c,d,h){return u?l=i(l,a[s||""](u.replace(/\\/g,""))):o?l=(" "==o?e:r)(l):c&&(l=i(l,t(c,h,d))),""})))throw new Error("Syntax error in query");if(!l)return!0;u[o]=l}return l(n,s)}}();if(!t("dom-qsa"))var l=function(t,e){for(var n=t.match(o),r=[],i=0;i<n.length;i++){(t=new String(n[i].replace(/\s*$/,""))).indexOf=escape;for(var s=a(t,e),u=0,l=s.length;u<l;u++){var c=s[u];r[c.sourceIndex]=c}}var d=[];for(i in r)d.push(r[i]);return d};return a.match=r?function(t,e,n){return n&&9!=n.nodeType?s(n,e,(function(e){return r.call(t,e)})):r.call(t,e)}:u,a}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(32),n(25)],void 0===(i=function(t,e){"use strict";return function(n,r,i,o){var a=n&&"function"==typeof n.then,s=a&&n instanceof e;if(!a)return arguments.length>1?r?r(n):n:(new t).resolve(n);if(!s){var u=new t(n.cancel);n.then(u.resolve,u.reject,u.progress),n=u.promise}return r||i||o?n.then(r,i,o):n}}.apply(e,r))||(t.exports=i)},function(t,e){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(t){return"function"==typeof t}function i(t){return"object"==_typeof(t)&&null!==t}function o(t){return void 0===t}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if(!function(t){return"number"==typeof t}(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,n,a,s,u,l;if(this._events||(this._events={}),"error"===t&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var c=new Error('Uncaught, unspecified "error" event. ('+e+")");throw c.context=e,c}if(o(n=this._events[t]))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(i(n))for(s=Array.prototype.slice.call(arguments,1),a=(l=n.slice()).length,u=0;u<a;u++)l[u].apply(this,s);return!0},n.prototype.addListener=function(t,e){var a;if(!r(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,r(e.listener)?e.listener:e),this._events[t]?i(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,i(this._events[t])&&!this._events[t].warned&&(a=o(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&a>0&&this._events[t].length>a&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(t,e){function n(){this.removeListener(t,n),i||(i=!0,e.apply(this,arguments))}if(!r(e))throw TypeError("listener must be a function");var i=!1;return n.listener=e,this.on(t,n),this},n.prototype.removeListener=function(t,e){var n,o,a,s;if(!r(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(a=(n=this._events[t]).length,o=-1,n===e||r(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(i(n)){for(s=a;s-- >0;)if(n[s]===e||n[s].listener&&n[s].listener===e){o=s;break}if(o<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(o,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(r(n=this._events[t]))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){return this._events&&this._events[t]?r(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(r(e))return 1;if(e)return e.length}return 0},n.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e,n){!function(){var n={VERSION:"2.4.0",Result:{SUCCEEDED:1,NOTRANSITION:2,CANCELLED:3,PENDING:4},Error:{INVALID_TRANSITION:100,PENDING_TRANSITION:200,INVALID_CALLBACK:300},WILDCARD:"*",ASYNC:"async",create:function(t,e){var r="string"==typeof t.initial?{state:t.initial}:t.initial,i=t.terminal||t.final,o=e||t.target||{},a=t.events||[],s=t.callbacks||{},u={},l={},c=function(t){var e=Array.isArray(t.from)?t.from:t.from?[t.from]:[n.WILDCARD];u[t.name]=u[t.name]||{};for(var r=0;r<e.length;r++)l[e[r]]=l[e[r]]||[],l[e[r]].push(t.name),u[t.name][e[r]]=t.to||e[r];t.to&&(l[t.to]=l[t.to]||[])};r&&(r.event=r.event||"startup",c({name:r.event,from:"none",to:r.state}));for(var d=0;d<a.length;d++)c(a[d]);for(var h in u)u.hasOwnProperty(h)&&(o[h]=n.buildEvent(h,u[h]));for(var h in s)s.hasOwnProperty(h)&&(o[h]=s[h]);return o.current="none",o.is=function(t){return Array.isArray(t)?t.indexOf(this.current)>=0:this.current===t},o.can=function(t){return!this.transition&&void 0!==u[t]&&(u[t].hasOwnProperty(this.current)||u[t].hasOwnProperty(n.WILDCARD))},o.cannot=function(t){return!this.can(t)},o.transitions=function(){return(l[this.current]||[]).concat(l[n.WILDCARD]||[])},o.isFinished=function(){return this.is(i)},o.error=t.error||function(t,e,n,r,i,o,a){throw a||o},o.states=function(){return Object.keys(l).sort()},r&&!r.defer&&o[r.event](),o},doCallback:function(t,e,r,i,o,a){if(e)try{return e.apply(t,[r,i,o].concat(a))}catch(e){return t.error(r,i,o,a,n.Error.INVALID_CALLBACK,"an exception occurred in a caller-provided callback function",e)}},beforeAnyEvent:function(t,e,r,i,o){return n.doCallback(t,t.onbeforeevent,e,r,i,o)},afterAnyEvent:function(t,e,r,i,o){return n.doCallback(t,t.onafterevent||t.onevent,e,r,i,o)},leaveAnyState:function(t,e,r,i,o){return n.doCallback(t,t.onleavestate,e,r,i,o)},enterAnyState:function(t,e,r,i,o){return n.doCallback(t,t.onenterstate||t.onstate,e,r,i,o)},changeState:function(t,e,r,i,o){return n.doCallback(t,t.onchangestate,e,r,i,o)},beforeThisEvent:function(t,e,r,i,o){return n.doCallback(t,t["onbefore"+e],e,r,i,o)},afterThisEvent:function(t,e,r,i,o){return n.doCallback(t,t["onafter"+e]||t["on"+e],e,r,i,o)},leaveThisState:function(t,e,r,i,o){return n.doCallback(t,t["onleave"+r],e,r,i,o)},enterThisState:function(t,e,r,i,o){return n.doCallback(t,t["onenter"+i]||t["on"+i],e,r,i,o)},beforeEvent:function(t,e,r,i,o){if(!1===n.beforeThisEvent(t,e,r,i,o)||!1===n.beforeAnyEvent(t,e,r,i,o))return!1},afterEvent:function(t,e,r,i,o){n.afterThisEvent(t,e,r,i,o),n.afterAnyEvent(t,e,r,i,o)},leaveState:function(t,e,r,i,o){var a=n.leaveThisState(t,e,r,i,o),s=n.leaveAnyState(t,e,r,i,o);return!1!==a&&!1!==s&&(n.ASYNC===a||n.ASYNC===s?n.ASYNC:void 0)},enterState:function(t,e,r,i,o){n.enterThisState(t,e,r,i,o),n.enterAnyState(t,e,r,i,o)},buildEvent:function(t,e){return function(){var r=this.current,i=e[r]||(e[n.WILDCARD]!=n.WILDCARD?e[n.WILDCARD]:r)||r,o=Array.prototype.slice.call(arguments);if(this.transition)return this.error(t,r,i,o,n.Error.PENDING_TRANSITION,"event "+t+" inappropriate because previous transition did not complete");if(this.cannot(t))return this.error(t,r,i,o,n.Error.INVALID_TRANSITION,"event "+t+" inappropriate in current state "+this.current);if(!1===n.beforeEvent(this,t,r,i,o))return n.Result.CANCELLED;if(r===i)return n.afterEvent(this,t,r,i,o),n.Result.NOTRANSITION;var a=this;this.transition=function(){return a.transition=null,a.current=i,n.enterState(a,t,r,i,o),n.changeState(a,t,r,i,o),n.afterEvent(a,t,r,i,o),n.Result.SUCCEEDED},this.transition.cancel=function(){a.transition=null,n.afterEvent(a,t,r,i,o)};var s=n.leaveState(this,t,r,i,o);return!1===s?(this.transition=null,n.Result.CANCELLED):n.ASYNC===s?n.Result.PENDING:this.transition?this.transition():void 0}}};void 0!==t&&t.exports&&(e=t.exports=n),e.StateMachine=n}()},function(t,e){t.exports={gettingStationInformation:"Obteniendo informaciÃ³n de la estaciÃ³n...",paused:"Pausado",onAir:"En el aire",disconnected:"Desconectado",streamUnavailable:"TransmisiÃ³n no disponible",buffering:"Buffering",connecting:"ConexiÃ³n de transmisiÃ³n en vivo en progreso...",reconnecting:"ConexiÃ³n de transmisiÃ³n en vivo en progreso...",seekfailed:"OperaciÃ³n imposible",seekinvalidtime:"OperaciÃ³n imposible: tiempo no vÃ¡lido",ended:"Terminado",pause:"Pausado",play:"En vivo",stop:"Desconectado",error:"Erro",streamGeoBlocked:"Lo sentimos, este contenido no estÃ¡ disponible en su Ã¡rea",stationNotFound:"No se encontrÃ³ la estaciÃ³n",flashPluginOutOfDate:"Su versiÃ³n Flash plugin detectada es obsoleta. La versiÃ³n mÃ­nima requerida es: 10.2.0",browserNotSupported:"Su navegador no es compatible con la funciÃ³n HTML5",playbackNotAllowed:"No se permite la reproducciÃ³n de medios en el contexto o situaciÃ³n actual"}},function(t,e){t.exports={gettingStationInformation:"Chargement des informations de la station...",paused:"En pause",onAir:"En ondes",disconnected:"DÃ©connectÃ©",streamUnavailable:"Flux indisponible",buffering:"Mise en mÃ©moire tampon",connecting:"Connexion en cours...",reconnecting:"Connexion en cours...",seekfailed:"OpÃ©ration impossible",seekinvalidtime:"OpÃ©ration impossible : temps invalide",ended:"TerminÃ©",pause:"En pause",play:"En lecture",stop:"DÃ©connectÃ©",error:"Erreur",streamGeoBlocked:"DÃ©solÃ©, ce flux n'est pas disponible dans votre rÃ©gion",stationNotFound:"Station inexistante",flashPluginOutOfDate:"La version de votre plugin Flash est obsolÃ¨te. La version minimale requise est: 10.2.0",browserNotSupported:"Votre navigateur ne supporte pas HTML5",playbackNotAllowed:"La lecture de contenu multimÃ©dia dans le contexte ou la situation actuels n'est pas autorisÃ©e"}},function(t,e){t.exports={gettingStationInformation:"Obtendo informaÃ§Ãµes da estaÃ§Ã£o...",paused:"Em Pausa",onAir:"No Ar",disconnected:"Desconectado",streamUnavailable:"Streaming nÃ£o disponÃ­vel",buffering:"Em Buffer",connecting:"ConexÃ£o com stream ao vivo em andamento...",reconnecting:"ConexÃ£o com stream ao vivo em andamento...",seekfailed:"OperaÃ§Ã£o impossÃ­vel",seekinvalidtime:"OperaÃ§Ã£o impossÃ­vel: hora invÃ¡lida",ended:"Terminou",pause:"Pausa",play:"Tocando",stop:"Interrompido",error:"Erro",streamGeoBlocked:"Infelizmente, este conteÃºdo nÃ£o estÃ¡ disponÃ­vel na sua Ã¡rea",stationNotFound:"EstaÃ§Ã£o nÃ£o encontrada",flashPluginOutOfDate:"A versÃ£o detectada do seu plug-in Flash estÃ¡ desatualizada. A versÃ£o mÃ­nima necessÃ¡ria Ã©: 10.2.0",browserNotSupported:"Seu navegador nÃ£o oferece suporte para o recurso HTML5",playbackNotAllowed:"A reproduÃ§Ã£o de mÃ­dia no contexto ou situaÃ§Ã£o atual nÃ£o Ã© permitida"}},function(t,e,n){(function(e,n){
/*!
	 *
	 * Copyright 2009-2017 Kris Kowal under the terms of the MIT
	 * license found at https://github.com/kriskowal/q/blob/v1/LICENSE
	 *
	 * With parts by Tyler Close
	 * Copyright 2007-2009 Tyler Close under the terms of the MIT X license found
	 * at http://www.opensource.org/licenses/mit-license.html
	 * Forked at ref_send.js version: 2009-05-11
	 *
	 * With parts by Mark Miller
	 * Copyright (C) 2011 Google Inc.
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 * http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 *
	 */
!function(e){"use strict";"function"==typeof bootstrap?bootstrap("promise",e):t.exports=e()}((function(){"use strict";function t(t){return function(){return O.apply(t,arguments)}}function r(t){return"[object StopIteration]"===V(t)||t instanceof L}function i(t,e){if(D&&e.stack&&"object"==_typeof(t)&&null!==t&&t.stack){for(var n=[],r=e;r;r=r.source)r.stack&&(!t.__minimumStackCounter__||t.__minimumStackCounter__>r.stackCounter)&&(B(t,"__minimumStackCounter__",{value:r.stackCounter,configurable:!0}),n.unshift(r.stack));n.unshift(t.stack);var i=function(t){for(var e=t.split("\n"),n=[],r=0;r<e.length;++r){var i=e[r];s(i)||o(i)||!i||n.push(i)}return n.join("\n")}(n.join("\n"+W+"\n"));B(t,"stack",{value:i,configurable:!0})}}function o(t){return-1!==t.indexOf("(module.js:")||-1!==t.indexOf("(node.js:")}function a(t){var e=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(t);if(e)return[e[1],Number(e[2])];var n=/at ([^ ]+):(\d+):(?:\d+)$/.exec(t);if(n)return[n[1],Number(n[2])];var r=/.*@(.+):(\d+)$/.exec(t);return r?[r[1],Number(r[2])]:void 0}function s(t){var e=a(t);if(!e)return!1;var n=e[0],r=e[1];return n===x&&r>=P&&r<=$}function u(){if(D)try{throw new Error}catch(n){var t=n.stack.split("\n"),e=a(t[0].indexOf("@")>0?t[1]:t[2]);if(!e)return;return x=e[0],e[1]}}function l(t){return t instanceof f?t:v(t)?function(t){var e=c();return l.nextTick((function(){try{t.then(e.resolve,e.reject,e.notify)}catch(t){e.reject(t)}})),e.promise}(t):A(t)}function c(){function t(t){e=t,l.longStackSupport&&D&&(o.source=t),N(n,(function(e,n){l.nextTick((function(){t.promiseDispatch.apply(t,n)}))}),void 0),n=void 0,r=void 0}var e,n=[],r=[],i=U(c.prototype),o=U(f.prototype);if(o.promiseDispatch=function(t,i,o){var a=M(arguments);n?(n.push(a),"when"===i&&o[1]&&r.push(o[1])):l.nextTick((function(){e.promiseDispatch.apply(e,a)}))},o.valueOf=function(){if(n)return o;var t=g(e);return m(t)&&(e=t),t},o.inspect=function(){return e?e.inspect():{state:"pending"}},l.longStackSupport&&D)try{throw new Error}catch(t){o.stack=t.stack.substring(t.stack.indexOf("\n")+1),o.stackCounter=q++}return i.promise=o,i.resolve=function(n){e||t(l(n))},i.fulfill=function(n){e||t(A(n))},i.reject=function(n){e||t(E(n))},i.notify=function(t){e||N(r,(function(e,n){l.nextTick((function(){n(t)}))}),void 0)},i}function d(t){if("function"!=typeof t)throw new TypeError("resolver must be a function.");var e=c();try{t(e.resolve,e.reject,e.notify)}catch(t){e.reject(t)}return e.promise}function h(t){return d((function(e,n){for(var r=0,i=t.length;r<i;r++)l(t[r]).then(e,n)}))}function f(t,e,n){void 0===e&&(e=function(t){return E(new Error("Promise does not support operation: "+t))}),void 0===n&&(n=function(){return{state:"unknown"}});var r=U(f.prototype);if(r.promiseDispatch=function(n,i,o){var a;try{a=t[i]?t[i].apply(r,o):e.call(r,i,o)}catch(t){a=E(t)}n&&n(a)},r.inspect=n,n){var i=n();"rejected"===i.state&&(r.exception=i.reason),r.valueOf=function(){var t=n();return"pending"===t.state||"rejected"===t.state?r:t.value}}return r}function p(t,e,n,r){return l(t).then(e,n,r)}function g(t){if(m(t)){var e=t.inspect();if("fulfilled"===e.state)return e.value}return t}function m(t){return t instanceof f}function v(t){return function(t){return t===Object(t)}(t)&&"function"==typeof t.then}function y(){K.length=0,Y.length=0,X||(X=!0)}function _(t,n){X&&("object"==_typeof(e)&&"function"==typeof e.emit&&l.nextTick.runAfter((function(){-1!==F(Y,t)&&(e.emit("unhandledRejection",n,t),z.push(t))})),Y.push(t),n&&void 0!==n.stack?K.push(n.stack):K.push("(no stack) "+n))}function b(t){if(X){var n=F(Y,t);-1!==n&&("object"==_typeof(e)&&"function"==typeof e.emit&&l.nextTick.runAfter((function(){var r=F(z,t);-1!==r&&(e.emit("rejectionHandled",K[n],t),z.splice(r,1))})),Y.splice(n,1),K.splice(n,1))}}function E(t){var e=f({when:function(e){return e&&b(this),e?e(t):this}},(function(){return this}),(function(){return{state:"rejected",reason:t}}));return _(e,t),e}function A(t){return f({when:function(){return t},get:function(e){return t[e]},set:function(e,n){t[e]=n},delete:function(e){delete t[e]},post:function(e,n){return null==e?t.apply(void 0,n):t[e].apply(t,n)},apply:function(e,n){return t.apply(e,n)},keys:function(){return G(t)}},void 0,(function(){return{state:"fulfilled",value:t}}))}function T(t,e,n){return l(t).spread(e,n)}function S(t,e,n){return l(t).dispatch(e,n)}function w(t){return p(t,(function(t){var e=0,n=c();return N(t,(function(r,i,o){var a;m(i)&&"fulfilled"===(a=i.inspect()).state?t[o]=a.value:(++e,p(i,(function(r){t[o]=r,0==--e&&n.resolve(t)}),n.reject,(function(t){n.notify({index:o,value:t})})))}),void 0),0===e&&n.resolve(t),n.promise}))}function C(t){if(0===t.length)return l.resolve();var e=l.defer(),n=0;return N(t,(function(r,i,o){var a=t[o];n++,p(a,(function(t){e.resolve(t)}),(function(t){if(0==--n){var r=t||new Error(""+t);r.message="Q can't get fulfillment value from any promise, all promises were rejected. Last error message: "+r.message,e.reject(r)}}),(function(t){e.notify({index:o,value:t})}))}),void 0),e.promise}function k(t){return p(t,(function(t){return t=j(t,l),p(w(j(t,(function(t){return p(t,I,I)}))),(function(){return t}))}))}var D=!1;try{throw new Error}catch(t){D=!!t.stack}var x,L,P=u(),I=function(){},R=function(){function t(){for(var t,e;i.next;)t=(i=i.next).task,i.task=void 0,(e=i.domain)&&(i.domain=void 0,e.enter()),r(t,e);for(;l.length;)r(t=l.pop());a=!1}function r(e,n){try{e()}catch(e){if(u)throw n&&n.exit(),setTimeout(t,0),n&&n.enter(),e;setTimeout((function(){throw e}),0)}n&&n.exit()}var i={task:void 0,next:null},o=i,a=!1,s=void 0,u=!1,l=[];if(R=function(t){o=o.next={task:t,domain:u&&e.domain,next:null},a||(a=!0,s())},"object"==_typeof(e)&&"[object process]"===e.toString()&&e.nextTick)u=!0,s=function(){e.nextTick(t)};else if("function"==typeof n)s="undefined"!=typeof window?n.bind(window,t):function(){n(t)};else if("undefined"!=typeof MessageChannel){var c=new MessageChannel;c.port1.onmessage=function(){s=d,c.port1.onmessage=t,t()};var d=function(){c.port2.postMessage(0)};s=function(){setTimeout(t,0),d()}}else s=function(){setTimeout(t,0)};return R.runAfter=function(t){l.push(t),a||(a=!0,s())},R}(),O=Function.call,M=t(Array.prototype.slice),N=t(Array.prototype.reduce||function(t,e){var n=0,r=this.length;if(1===arguments.length)for(;;){if(n in this){e=this[n++];break}if(++n>=r)throw new TypeError}for(;n<r;n++)n in this&&(e=t(e,this[n],n));return e}),F=t(Array.prototype.indexOf||function(t){for(var e=0;e<this.length;e++)if(this[e]===t)return e;return-1}),j=t(Array.prototype.map||function(t,e){var n=this,r=[];return N(n,(function(i,o,a){r.push(t.call(e,o,a,n))}),void 0),r}),U=Object.create||function(t){function e(){}return e.prototype=t,new e},B=Object.defineProperty||function(t,e,n){return t[e]=n.value,t},H=t(Object.prototype.hasOwnProperty),G=Object.keys||function(t){var e=[];for(var n in t)H(t,n)&&e.push(n);return e},V=t(Object.prototype.toString);L="undefined"!=typeof ReturnValue?ReturnValue:function(t){this.value=t};var W="From previous event:";l.resolve=l,l.nextTick=R,l.longStackSupport=!1;var q=1;"object"==_typeof(e)&&e&&e.env&&e.env.Q_DEBUG&&(l.longStackSupport=!0),l.defer=c,c.prototype.makeNodeResolver=function(){var t=this;return function(e,n){e?t.reject(e):arguments.length>2?t.resolve(M(arguments,1)):t.resolve(n)}},l.Promise=d,l.promise=d,d.race=h,d.all=w,d.reject=E,d.resolve=l,l.passByCopy=function(t){return t},f.prototype.passByCopy=function(){return this},l.join=function(t,e){return l(t).join(e)},f.prototype.join=function(t){return l([this,t]).spread((function(t,e){if(t===e)return t;throw new Error("Q can't join: not the same: "+t+" "+e)}))},l.race=h,f.prototype.race=function(){return this.then(l.race)},l.makePromise=f,f.prototype.toString=function(){return"[object Promise]"},f.prototype.then=function(t,e,n){function r(e){try{return"function"==typeof t?t(e):e}catch(t){return E(t)}}function o(t){return"function"==typeof n?n(t):t}var a=this,s=c(),u=!1;return l.nextTick((function(){a.promiseDispatch((function(t){u||(u=!0,s.resolve(r(t)))}),"when",[function(t){u||(u=!0,s.resolve(function(t){if("function"==typeof e){i(t,a);try{return e(t)}catch(t){return E(t)}}return E(t)}(t)))}])})),a.promiseDispatch(void 0,"when",[void 0,function(t){var e,n=!1;try{e=o(t)}catch(t){if(n=!0,!l.onerror)throw t;l.onerror(t)}n||s.notify(e)}]),s.promise},l.tap=function(t,e){return l(t).tap(e)},f.prototype.tap=function(t){return t=l(t),this.then((function(e){return t.fcall(e).thenResolve(e)}))},l.when=p,f.prototype.thenResolve=function(t){return this.then((function(){return t}))},l.thenResolve=function(t,e){return l(t).thenResolve(e)},f.prototype.thenReject=function(t){return this.then((function(){throw t}))},l.thenReject=function(t,e){return l(t).thenReject(e)},l.nearer=g,l.isPromise=m,l.isPromiseAlike=v,l.isPending=function(t){return m(t)&&"pending"===t.inspect().state},f.prototype.isPending=function(){return"pending"===this.inspect().state},l.isFulfilled=function(t){return!m(t)||"fulfilled"===t.inspect().state},f.prototype.isFulfilled=function(){return"fulfilled"===this.inspect().state},l.isRejected=function(t){return m(t)&&"rejected"===t.inspect().state},f.prototype.isRejected=function(){return"rejected"===this.inspect().state};var K=[],Y=[],z=[],X=!0;l.resetUnhandledRejections=y,l.getUnhandledReasons=function(){return K.slice()},l.stopUnhandledRejectionTracking=function(){y(),X=!1},y(),l.reject=E,l.fulfill=A,l.master=function(t){return f({isDef:function(){}},(function(e,n){return S(t,e,n)}),(function(){return l(t).inspect()}))},l.spread=T,f.prototype.spread=function(t,e){return this.all().then((function(e){return t.apply(void 0,e)}),e)},l.async=function(t){return function(){function e(t,e){var a;if("undefined"==typeof StopIteration){try{a=n[t](e)}catch(t){return E(t)}return a.done?l(a.value):p(a.value,i,o)}try{a=n[t](e)}catch(t){return r(t)?l(t.value):E(t)}return p(a,i,o)}var n=t.apply(this,arguments),i=e.bind(e,"next"),o=e.bind(e,"throw");return i()}},l.spawn=function(t){l.done(l.async(t)())},l.return=function(t){throw new L(t)},l.promised=function(t){return function(){return T([this,w(arguments)],(function(e,n){return t.apply(e,n)}))}},l.dispatch=S,f.prototype.dispatch=function(t,e){var n=this,r=c();return l.nextTick((function(){n.promiseDispatch(r.resolve,t,e)})),r.promise},l.get=function(t,e){return l(t).dispatch("get",[e])},f.prototype.get=function(t){return this.dispatch("get",[t])},l.set=function(t,e,n){return l(t).dispatch("set",[e,n])},f.prototype.set=function(t,e){return this.dispatch("set",[t,e])},l.del=l.delete=function(t,e){return l(t).dispatch("delete",[e])},f.prototype.del=f.prototype.delete=function(t){return this.dispatch("delete",[t])},l.mapply=l.post=function(t,e,n){return l(t).dispatch("post",[e,n])},f.prototype.mapply=f.prototype.post=function(t,e){return this.dispatch("post",[t,e])},l.send=l.mcall=l.invoke=function(t,e){return l(t).dispatch("post",[e,M(arguments,2)])},f.prototype.send=f.prototype.mcall=f.prototype.invoke=function(t){return this.dispatch("post",[t,M(arguments,1)])},l.fapply=function(t,e){return l(t).dispatch("apply",[void 0,e])},f.prototype.fapply=function(t){return this.dispatch("apply",[void 0,t])},l.try=l.fcall=function(t){return l(t).dispatch("apply",[void 0,M(arguments,1)])},f.prototype.fcall=function(){return this.dispatch("apply",[void 0,M(arguments)])},l.fbind=function(t){var e=l(t),n=M(arguments,1);return function(){return e.dispatch("apply",[this,n.concat(M(arguments))])}},f.prototype.fbind=function(){var t=this,e=M(arguments);return function(){return t.dispatch("apply",[this,e.concat(M(arguments))])}},l.keys=function(t){return l(t).dispatch("keys",[])},f.prototype.keys=function(){return this.dispatch("keys",[])},l.all=w,f.prototype.all=function(){return w(this)},l.any=C,f.prototype.any=function(){return C(this)},l.allResolved=function(t,e,n){return function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(e+" is deprecated, use "+n+" instead.",new Error("").stack),t.apply(t,arguments)}}(k,"allResolved","allSettled"),f.prototype.allResolved=function(){return k(this)},l.allSettled=function(t){return l(t).allSettled()},f.prototype.allSettled=function(){return this.then((function(t){return w(j(t,(function(t){function e(){return t.inspect()}return(t=l(t)).then(e,e)})))}))},l.fail=l.catch=function(t,e){return l(t).then(void 0,e)},f.prototype.fail=f.prototype.catch=function(t){return this.then(void 0,t)},l.progress=function(t,e){return l(t).then(void 0,void 0,e)},f.prototype.progress=function(t){return this.then(void 0,void 0,t)},l.fin=l.finally=function(t,e){return l(t).finally(e)},f.prototype.fin=f.prototype.finally=function(t){if(!t||"function"!=typeof t.apply)throw new Error("Q can't apply finally callback");return t=l(t),this.then((function(e){return t.fcall().then((function(){return e}))}),(function(e){return t.fcall().then((function(){throw e}))}))},l.done=function(t,e,n,r){return l(t).done(e,n,r)},f.prototype.done=function(t,n,r){var o=function(t){l.nextTick((function(){if(i(t,a),!l.onerror)throw t;l.onerror(t)}))},a=t||n||r?this.then(t,n,r):this;"object"==_typeof(e)&&e&&e.domain&&(o=e.domain.bind(o)),a.then(void 0,o)},l.timeout=function(t,e,n){return l(t).timeout(e,n)},f.prototype.timeout=function(t,e){var n=c(),r=setTimeout((function(){e&&"string"!=typeof e||((e=new Error(e||"Timed out after "+t+" ms")).code="ETIMEDOUT"),n.reject(e)}),t);return this.then((function(t){clearTimeout(r),n.resolve(t)}),(function(t){clearTimeout(r),n.reject(t)}),n.notify),n.promise},l.delay=function(t,e){return void 0===e&&(e=t,t=void 0),l(t).delay(e)},f.prototype.delay=function(t){return this.then((function(e){var n=c();return setTimeout((function(){n.resolve(e)}),t),n.promise}))},l.nfapply=function(t,e){return l(t).nfapply(e)},f.prototype.nfapply=function(t){var e=c(),n=M(t);return n.push(e.makeNodeResolver()),this.fapply(n).fail(e.reject),e.promise},l.nfcall=function(t){var e=M(arguments,1);return l(t).nfapply(e)},f.prototype.nfcall=function(){var t=M(arguments),e=c();return t.push(e.makeNodeResolver()),this.fapply(t).fail(e.reject),e.promise},l.nfbind=l.denodeify=function(t){if(void 0===t)throw new Error("Q can't wrap an undefined function");var e=M(arguments,1);return function(){var n=e.concat(M(arguments)),r=c();return n.push(r.makeNodeResolver()),l(t).fapply(n).fail(r.reject),r.promise}},f.prototype.nfbind=f.prototype.denodeify=function(){var t=M(arguments);return t.unshift(this),l.denodeify.apply(void 0,t)},l.nbind=function(t,e){var n=M(arguments,2);return function(){function r(){return t.apply(e,arguments)}var i=n.concat(M(arguments)),o=c();return i.push(o.makeNodeResolver()),l(r).fapply(i).fail(o.reject),o.promise}},f.prototype.nbind=function(){var t=M(arguments,0);return t.unshift(this),l.nbind.apply(void 0,t)},l.nmapply=l.npost=function(t,e,n){return l(t).npost(e,n)},f.prototype.nmapply=f.prototype.npost=function(t,e){var n=M(e||[]),r=c();return n.push(r.makeNodeResolver()),this.dispatch("post",[t,n]).fail(r.reject),r.promise},l.nsend=l.nmcall=l.ninvoke=function(t,e){var n=M(arguments,2),r=c();return n.push(r.makeNodeResolver()),l(t).dispatch("post",[e,n]).fail(r.reject),r.promise},f.prototype.nsend=f.prototype.nmcall=f.prototype.ninvoke=function(t){var e=M(arguments,1),n=c();return e.push(n.makeNodeResolver()),this.dispatch("post",[t,e]).fail(n.reject),n.promise},l.nodeify=function(t,e){return l(t).nodeify(e)},f.prototype.nodeify=function(t){return t?void this.then((function(e){l.nextTick((function(){t(null,e)}))}),(function(e){l.nextTick((function(){t(e)}))})):this},l.noConflict=function(){throw new Error("Q.noConflict only works when Q is used as a global")};var $=u();return l}))}).call(e,n(58),n(99).setImmediate)},function(t,e,n){var r,i;
/*!
	  * $script.js JS loader & dependency manager
	  * https://github.com/ded/script.js
	  * (c) Dustin Diaz 2014 | License MIT
	  */!function(o,a){void 0!==t&&t.exports?t.exports=a():void 0===(i="function"==typeof(r=a)?r.call(e,n,e,t):r)||(t.exports=i)}(0,(function(){function t(t,e){for(var n=0,r=t.length;n<r;++n)if(!e(t[n]))return u;return 1}function e(e,n){t(e,(function(t){return!n(t)}))}function n(o,a,s){function u(t){return t.call?t():h[t]}function c(){if(!--y)for(var n in h[v]=1,m&&m(),p)t(n.split("|"),u)&&!e(p[n],u)&&(p[n]=[])}o=o[l]?o:[o];var d=a&&a.call,m=d?a:s,v=d?o.join(""):a,y=o.length;return setTimeout((function(){e(o,(function t(e,n){return null===e?c():(n||/^https?:\/\//.test(e)||!i||(e=-1===e.indexOf(".js")?i+e+".js":i+e),g[e]?(v&&(f[v]=1),2==g[e]?c():setTimeout((function(){t(e,!0)}),0)):(g[e]=1,v&&(f[v]=1),void r(e,c)))}))}),0),n}function r(t,e){var n,r=a.createElement("script");r.onload=r.onerror=r[d]=function(){r[c]&&!/^c|loade/.test(r[c])||n||(r.onload=r[d]=null,n=1,g[t]=2,e())},r.async=1,r.src=o?t+(-1===t.indexOf("?")?"?":"&")+o:t,s.insertBefore(r,s.lastChild)}var i,o,a=document,s=a.getElementsByTagName("head")[0],u=!1,l="push",c="readyState",d="onreadystatechange",h={},f={},p={},g={};return n.get=r,n.order=function(t,e,r){!function i(o){o=t.shift(),t.length?n(o,i):n(o,e,r)}()},n.path=function(t){i=t},n.urlArgs=function(t){o=t},n.ready=function(r,i,o){r=r[l]?r:[r];var a=[];return!e(r,(function(t){h[t]||a[l](t)}))&&t(r,(function(t){return h[t]}))?i():function(t){p[t]=p[t]||[],p[t][l](i),o&&o(a)}(r.join("|")),n},n.done=function(t){n([null],t)},n}))},function(t,e,n){(function(t,e){!function(t,n){"use strict";function r(t){delete s[t]}function i(t){if(u)setTimeout(i,0,t);else{var e=s[t];if(e){u=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(void 0,n)}}(e)}finally{r(t),u=!1}}}}if(!t.setImmediate){var o,a=1,s={},u=!1,l=t.document,c=Object.getPrototypeOf&&Object.getPrototypeOf(t);c=c&&c.setTimeout?c:t,"[object process]"==={}.toString.call(t.process)?o=function(t){e.nextTick((function(){i(t)}))}:function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?function(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"==typeof n.data&&0===n.data.indexOf(e)&&i(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),o=function(n){t.postMessage(e+n,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){i(t.data)},o=function(e){t.port2.postMessage(e)}}():l&&"onreadystatechange"in l.createElement("script")?function(){var t=l.documentElement;o=function(e){var n=l.createElement("script");n.onreadystatechange=function(){i(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}():o=function(t){setTimeout(i,0,t)},c.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var r={callback:t,args:e};return s[a]=r,o(a),a++},c.clearImmediate=r}}("undefined"==typeof self?void 0===t?this:t:self)}).call(e,function(){return this}(),n(58))},function(t,e,n){(function(t){function r(t,e){this._id=t,this._clearFn=e}var i=void 0!==t&&t||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;e.setTimeout=function(){return new r(o.call(setTimeout,i,arguments),clearTimeout)},e.setInterval=function(){return new r(o.call(setInterval,i,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(i,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n(98),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(e,function(){return this}())},function(t,e,n){!function(t){"use strict";function e(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function n(t){return"string"!=typeof t&&(t=String(t)),t}function r(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return g.iterable&&(e[Symbol.iterator]=function(){return e}),e}function i(t){this.map={},t instanceof i?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function o(t){return t.bodyUsed?Promise.reject(new TypeError("Already read")):void(t.bodyUsed=!0)}function a(t){return new Promise((function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function s(t){var e=new FileReader,n=a(e);return e.readAsArrayBuffer(t),n}function u(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function l(){return this.bodyUsed=!1,this._initBody=function(t){this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:g.blob&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:g.formData&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:g.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():g.arrayBuffer&&g.blob&&function(t){return t&&DataView.prototype.isPrototypeOf(t)}(t)?(this._bodyArrayBuffer=u(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):g.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(t)||v(t))?this._bodyArrayBuffer=u(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):g.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},g.blob&&(this.blob=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?o(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(s)}),this.text=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return function(t){var e=new FileReader,n=a(e);return e.readAsText(t),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},g.formData&&(this.formData=function(){return this.text().then(d)}),this.json=function(){return this.text().then(JSON.parse)},this}function c(t,e){var n=(e=e||{}).body;if(t instanceof c){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new i(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,n||null==t._bodyInit||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new i(e.headers)),this.method=function(t){var e=t.toUpperCase();return y.indexOf(e)>-1?e:t}(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function d(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}})),e}function h(t){var e=new i;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var n=t.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();e.append(r,i)}})),e}function f(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new i(e.headers),this.url=e.url||"",this._initBody(t)}function p(e,n){return new Promise((function(r,i){function o(){s.abort()}var a=new c(e,n);if(a.signal&&a.signal.aborted)return i(new t.DOMException("Aborted","AbortError"));var s=new XMLHttpRequest;s.onload=function(){var t={status:s.status,statusText:s.statusText,headers:h(s.getAllResponseHeaders()||"")};t.url="responseURL"in s?s.responseURL:t.headers.get("X-Request-URL");var e="response"in s?s.response:s.responseText;r(new f(e,t))},s.onerror=function(){i(new TypeError("Network request failed"))},s.ontimeout=function(){i(new TypeError("Network request failed"))},s.onabort=function(){i(new t.DOMException("Aborted","AbortError"))},s.open(a.method,a.url,!0),"include"===a.credentials?s.withCredentials=!0:"omit"===a.credentials&&(s.withCredentials=!1),"responseType"in s&&g.blob&&(s.responseType="blob"),a.headers.forEach((function(t,e){s.setRequestHeader(e,t)})),a.signal&&(a.signal.addEventListener("abort",o),s.onreadystatechange=function(){4===s.readyState&&a.signal.removeEventListener("abort",o)}),s.send(void 0===a._bodyInit?null:a._bodyInit)}))}var g={searchParams:"URLSearchParams"in self,iterable:"Symbol"in self&&"iterator"in Symbol,blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self};if(g.arrayBuffer)var m=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],v=ArrayBuffer.isView||function(t){return t&&m.indexOf(Object.prototype.toString.call(t))>-1};i.prototype.append=function(t,r){t=e(t),r=n(r);var i=this.map[t];this.map[t]=i?i+", "+r:r},i.prototype.delete=function(t){delete this.map[e(t)]},i.prototype.get=function(t){return t=e(t),this.has(t)?this.map[t]:null},i.prototype.has=function(t){return this.map.hasOwnProperty(e(t))},i.prototype.set=function(t,r){this.map[e(t)]=n(r)},i.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},i.prototype.keys=function(){var t=[];return this.forEach((function(e,n){t.push(n)})),r(t)},i.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),r(t)},i.prototype.entries=function(){var t=[];return this.forEach((function(e,n){t.push([n,e])})),r(t)},g.iterable&&(i.prototype[Symbol.iterator]=i.prototype.entries);var y=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];c.prototype.clone=function(){return new c(this,{body:this._bodyInit})},l.call(c.prototype),l.call(f.prototype),f.prototype.clone=function(){return new f(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new i(this.headers),url:this.url})},f.error=function(){var t=new f(null,{status:0,statusText:""});return t.type="error",t};var _=[301,302,303,307,308];f.redirect=function(t,e){if(-1===_.indexOf(e))throw new RangeError("Invalid status code");return new f(null,{status:e,headers:{location:t}})},t.DOMException=self.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(t,e){this.message=t,this.name=e;var n=Error(t);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}p.polyfill=!0,self.fetch||(self.fetch=p,self.Headers=i,self.Request=c,self.Response=f),t.Headers=i,t.Request=c,t.Response=f,t.fetch=p,Object.defineProperty(t,"__esModule",{value:!0})}(e)},function(t,e,n){var r,i;r=[n(12),n(6),n(1),n(14),n(2),n(3),n(130),n(108),n(117),n(114),n(64),n(115),n(116),n(118),n(119)],void 0===(i=function(t,e,n,r,i,o,a,s,u,l,c,d,h,f,p){return n([t],{constructor:function(t,e){this.coreModules=[],this.modulesQueue=this.config&&this.config.coreModules?i.clone(this.config.coreModules):[],this.moduleReadyHandler=o(this.target,"module-ready",i.hitch(this,this._onModuleComplete)),this.moduleErrorHandler=o(this.target,"module-error",i.hitch(this,this._onModuleComplete)),this.inherited(arguments)},loadModules:function(){if(0!=this.modulesQueue.length)for(var t=0;t<this.config.coreModules.length;t++)this.loadModule(this.config.coreModules[t].id,this._getModuleConfigById(this.config.coreModules[t].id))},loadModule:function(t,e){var n=null;switch(t){case"SyncBanners":n=u;break;case"MediaPlayer":n=l;break;case"Npe":n=d;break;case"NowPlayingApi":n=c;break;case"PlayerWebAdmin":n=h;break;case"TargetSpot":n=f;break;case"UserRegistration":n=p}n&&this._instanciateCurrentModule(n,t,e)},getModuleById:function(t){var n=null;return e.forEach(this.coreModules,(function(e,r){e.id==t&&(n=e.module)}),this),n},_instanciateCurrentModule:function(t,e,n){var r=new t(n,this.target);this.coreModules.push({id:e,module:r}),r.start()},_removeCurrentModuleFromQueue:function(t){var n=-1;e.forEach(this.modulesQueue,(function(e,r){e.id==t&&(n=r)}),this),n>-1&&this.modulesQueue.splice(n,1)},_onModuleComplete:function(t){this._removeCurrentModuleFromQueue(t.data.id);var e=this;if(0==this.modulesQueue.length){this.moduleReadyHandler.remove(),this.moduleErrorHandler.remove(),this.getModuleById("UserRegistration")&&this.getModuleById("MediaPlayer")&&new a(i.hitch(this,this.getModuleById),this.target);var n=this.getModuleById("MediaPlayer");null==n||"Html5"!=n.tech.type||this.config.adBlockerDetected?this.emit("player-ready"):(new s).init().then((function(){e.emit("player-ready")}),(function(t){e.emit("player-ready")})),this.config.adBlockerDetected&&this.emit("ad-blocker-detected",{message:"Ad Blocker is activated"})}},_getModuleConfigById:function(t){var n={};return this.config&&this.config.coreModules&&e.forEach(this.config.coreModules,(function(e){e.id==t&&(n=e)}),this),n}})}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(1),n(3)],void 0===(i=function(t,e){return t([],{AD_MODULE_PLAYBACK_START:"ad-module-playback-start",AD_MODULE_PLAYBACK_COMPLETE:"ad-module-playback-complete",AD_MODULE_PLAYBACK_DESTROY:"ad-module-playback-destroy",AD_MODULE_PLAYBACK_ERROR:"ad-module-playback-error",AD_MODULE_COUNTDOWN:"ad-module-countdown",AD_MODULE_MEDIA_READY:"ad-module-media-ready",AD_MODULE_MEDIA_EMPTY:"ad-module-media-empty",AD_MODULE_QUARTILE:"ad-module-quartile",AD_MODULE_COMPANIONS:"ad-module-companions",AD_MODULE_CLICK_TRACKING:"ad-module-click-tracking",AD_MODULE_VAST_ERROR:"ad-module-vast-error",AD_MODULE_VAST_EMPTY:"ad-module-vast-empty",AD_MODULE_VAST_PROCESS_COMPLETE:"ad-module-vast-process-complete",emit:function(t,n,r){r&&this.config.playerId!=r.id||e.emit(this.target,t,{data:n,bubbles:!0,cancelable:!0})}})}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(1)],void 0===(i=function(t){return t([],{quartileMap:["start","firstQuartile","midpoint","thirdQuartile","complete"],constructor:function(){},getQuartileByIndex:function(t){return this.quartileMap[t]},isValidType:function(t){for(var e=0;e<this.length();e++)if(this.quartileMap[e]==t)return!0;return!1},length:function(){return this.quartileMap.length}})}.apply(e,r))||(t.exports=i)},function(t,e,n){var r;void 0===(r=function(){return["970x250","120x60","300x600","728x90","970x100","300x250","88x31","300x1050","970x90","180x150","320x480","300x50","320x50","300x300","970x66","160x600"]}.apply(e,[]))||(t.exports=r)},function(t,e,n){var r,i,o=n(21).getProtocol();r=[n(1)],void 0===(i=function(t){return t([],{ENDPOINT:o+"//{host}/ondemand/ars?type={type}",getVastUri:function(t){if(null==t.host||null==t.type||null==t.stationName&&null==t.stationId)return null;var e=this.ENDPOINT;return e=(e=e.replace("{host}",t.host)).replace("{type}",t.type),null!=t.format&&(e=e+"&fmt="+t.format),null!=t.stationName?e=e+"&stn="+t.stationName:null!=t.stationId&&(e=e+"&stid="+parseInt(t.stationId)),null!=t.maxAds&&(e=e+"&Max_ads="+parseInt(t.maxAds)),null!=t.assetType&&(e=e+"&at="+t.assetType),null!=t.minFileSize&&(e=e+"&minsz="+parseInt(t.minFileSize)),null!=t.maxFileSize&&(e=e+"&maxsz="+parseInt(t.maxFileSize)),null!=t.fileFormat&&(e=e+"&cntnr="+t.fileFormat),null!=t.minDuration&&(e=e+"&mindur="+parseInt(t.minDuration)),null!=t.maxDuration&&(e=e+"&maxdur="+parseInt(t.maxDuration)),null!=t.minBitrate&&(e=e+"&minbr="+parseInt(t.minBitrate)),null!=t.maxBitrate&&(e=e+"&maxbr="+parseInt(t.maxBitrate)),null!=t.minWidth&&(e=e+"&minw="+parseInt(t.minWidth)),null!=t.maxWidth&&(e=e+"&maxw="+parseInt(t.maxWidth)),null!=t.minHeight&&(e=e+"&minh="+parseInt(t.minHeight)),null!=t.maxHeight&&(e=e+"&maxh="+parseInt(t.maxHeight)),null!=t.audioCodec&&(e=e+"&acodec="+t.audioCodec),null!=t.audioMinChannels&&(e=e+"&minach="+parseInt(t.audioMinChannels)),null!=t.audioMaxChannels&&(e=e+"&maxach="+parseInt(t.audioMaxChannels)),null!=t.audioSampleRates&&(e=e+"&asr="+t.audioSampleRates),null!=t.videoCodec&&(e=e+"&vcodec="+t.videoCodec),null!=t.videoAspectRatio&&(e=e+"&vaspect="+t.videoAspectRatio),null!=t.minFrameRate&&(e=e+"&minfps="+parseFloat(t.minFrameRate)),null!=t.maxFrameRate&&(e=e+"&maxfps="+parseFloat(t.maxFrameRate)),null!=t.excludedCategories&&(e=e+"&iab-categories-to-exclude="+t.excludedCategories),e}})}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i,o=n(20);r=[n(1)],void 0===(i=function(t){var e=!0,n=function(){var t=this,n={};this.errors={throwError:function(t,e,n){throw'Argument "'+t+'" of method "'+e+'" is not an "'+n+'"'},isObject:function(t,e,n){"object"==_typeof(t)&&!0!==Array.isArray(t)&&null!==t||this.throwError(e,n,"object")},isArray:function(t,e,n){!1===Array.isArray(t)&&this.throwError(e,n,"array")},isFunction:function(t,e,n){"function"!=typeof t&&this.throwError(e,n,"function")},isString:function(t,e,n){"string"!=typeof t&&this.throwError(e,n,"string")},isBoolean:function(t,e,n){"boolean"!=typeof t&&this.throwError(e,n,"boolean")}},this.options={set:function(e){for(var r in t.errors.isObject(e,"optionsList","options.set"),e)n[r]=e[r],t.debug.log("options.set",'Set "'+r+'" to "'+e[r]+'"');return t},get:function(t){return n[t]}},this.debug={set:function(n){return e=n,t.debug.log("debug.set",'Set debug to "'+e+'"'),t},isEnable:function(){return e},log:function(n,r){!0===e&&(t.errors.isString(n,"method","debug.log"),t.errors.isString(r,"message","debug.log"))}},this.versionToInt=function(t){for(var e="",n=0;n<3;n++){var r=t[n]||0;1===(""+r).length&&(r="0"+r),e+=r}return parseInt(e)}},r=function(){n.apply(this);var t=null,e=null;this.setDetected=function(e){return t=e,this},this.callDetected=function(){return null!==t&&(t(),t=null,!0)},this.setUndetected=function(t){return e=t,this},this.callUndetected=function(){return null!==e&&(e(),e=null,!0)}},i=function(){n.apply(this),this.options.set({timeout:200});var t=this,e=[4,0,0,"beta",3],r={},i={};this.getVersion=function(t){return!0!==t?e:void this.versionToInt(e)},this.addEvent=function(t,e){return this.errors.isString(t,"name","addEvent"),this.errors.isFunction(e,"callback","addEvent"),void 0===r[t]&&(r[t]=[]),r[t].push(e),this.debug.log("set",'Event "'+t+'" added'),this},this.on=function(t,e){return this.errors.isBoolean(t,"detected","on"),this.errors.isFunction(e,"callback","on"),this.addEvent(!0===t?"detected":"undetected",e)},this.onDetected=function(t){return this.errors.isFunction(t,"callback","onDetected"),this.addEvent("detected",t)},this.onNotDetected=function(t){return this.errors.isFunction(t,"callback","onNotDetected"),this.addEvent("undetected",t)};var u=function(e){var n=r[e];if(!0===t.debug.isEnable()){var i=void 0!==n?n.length:0;t.debug.log("dispatchEvent",'Starts dispatch of events "'+e+'" (0/'+i+")")}if(void 0!==n)for(var o in n)!0===t.debug.isEnable()&&t.debug.log("dispatchEvent",'Dispatch event "'+e+'" ('+(parseInt(o)+1)+"/"+i+")"),n[o]();return this};this.check=function(e,n){e instanceof Array==0&&void 0===n&&(n=e,e=void 0),void 0===e&&(e=Object.keys(i)),void 0===n&&(n={}),this.errors.isArray(e,"pluginsList","check"),this.errors.isObject(n,"optionsList","check"),this.debug.log("check","Starting check");var r={},o=e.length,a=0,s=function(e,n,i){if(a++,t.debug.log("check",(!0===n?"Positive":"Negative")+'" check of plugin "'+e+'"'),!0===i||!0===n||a===o){for(var s in clearTimeout(h),r)r[s].instance.stop();u(!0===n?"detected":"undetected")}};if(this.debug.log("check","Starting loading plugins (0/"+o+") ("+e.join()+")"),0===o)return s("#NoPlugin",!1,!0),this;for(var l in e){var c=e[l];this.debug.log("check",'Load plugin "'+c+'" ('+(parseInt(l)+1)+"/"+o+")");var d=r[c]={name:c,instance:new i[c],detected:null};void 0!==n[c]&&d.instance.options.set(n[c]),function(t,e){e.instance.setDetected((function(){e.detected=!0,t(e.name,!0)})).setUndetected((function(){e.detected=!1,t(e.name,!1)}))}(s,d)}for(var c in r)r[c].instance.start();var h=setTimeout((function(){s("#Timeout",!1,!0)}),this.options.get("timeout"));return this},this.registerPlugin=function(t){if(this.errors.isFunction(t,"pluginClass","registerPlugin"),this.errors.isString(t.pluginName,"pluginClass.pluginName","registerPlugin"),this.errors.isArray(t.versionMin,"pluginClass.versionMin","registerPlugin"),3!==t.versionMin.length&&this.errors.throwError("pluginClass.versionMin","registerPlugin","array with 3 values"),void 0===i[t.pluginName]){if(this.versionToInt(e)>=this.versionToInt(t.versionMin))return i[t.pluginName]=t,this.debug.log("registerPlugin",'Plugin "'+t.pluginName+'" registered'),!0;throw'The plugin "'+t.pluginName+'" ('+t.versionMin.join(".")+") is too recent for this version of FuckAdBlock ("+e.join(".")+")"}throw'The plugin "'+t.pluginName+'" is already registered'},"iOS"===o.os.family?this.registerPlugin(s):this.registerPlugin(a)};i.getPluginClass=function(){return r};var a=function(){i.getPluginClass().apply(this,arguments),this.options.set({loopTime:50,baitElement:null,baitClass:"pub_300x250 pub_300x250m pub_728x90 text-ad textAd text_ad text_ads text-ads text-ad-links",baitStyle:"width:1px!important;height:1px!important;position:absolute!important;left:-10000px!important;top:-1000px!important;",baitParent:null});var t={};this.start=function(){var e=this;if(null===this.options.get("baitElement")){t.bait=this.createBait({class:this.options.get("baitClass"),style:this.options.get("baitStyle")});var n=this.options.get("baitParent");null===n?window.document.body.appendChild(t.bait):n.appendChild(t.bait)}else t.bait=this.options.get("baitElement");var r=function(){!0===e.checkBait(t.bait,!0)&&e.callDetected()};return t.loopTimeout=setTimeout(r,1),t.loopInterval=setInterval(r,this.options.get("loopTime")),this},this.stop=function(){clearInterval(t.loopTimeout),clearInterval(t.loopInterval);var e=this.options.get("baitParent");return null===e?window.document.body.removeChild(t.bait):e.removeChild(t.bait),this},this.createBait=function(t){var e=window.document.createElement("div");return e.setAttribute("class",t.class),e.setAttribute("style",t.style),e.offsetParent,e.offsetHeight,e.offsetLeft,e.offsetTop,e.offsetWidth,e.clientHeight,e.clientWidth,e},this.checkBait=function(t,e){var n=!1;if(!0===e&&null!==window.document.body.getAttribute("abp")||null===t.offsetParent||0==t.offsetHeight||0==t.offsetLeft||0==t.offsetTop||0==t.offsetWidth||0==t.clientHeight||0==t.clientWidth)n=!0;else{var r=window.getComputedStyle(t);"none"!=r.getPropertyValue("display")&&"hidden"!=r.getPropertyValue("visibility")||(n=!0)}return n}};a.pluginName="html",a.version=[1,0,0],a.versionMin=[4,0,0];var s=function(){i.getPluginClass().apply(this,arguments),this.options.set({baitMode:"ajax",baitUrl:"https://sdk.listenlive.co/ad/banner/_adsense_/_adserver/_adview_.ad.json?adzone=top&adsize=300x250&advid={RANDOM}"});var t={};this.start=function(){var e=this;t.end=!1;var n=this.options.get("baitUrl").replace(/\{RANDOM\}/g,(function(){return parseInt(1e8*Math.random())}));return this._urlCheck(n,this.options.get("baitMode"),(function(){!1===t.end&&(t.end=!0,e.callDetected())}),(function(){!1===t.end&&(t.end=!0,e.callUndetected())})),this},this.stop=function(){return t.end=!0,this},this._urlCheck=function(t,e,n,r){var i=!1,o=function(t){!1===i&&(i=!0,!0===t?n():r())};if("ajax"===e){var a=[!1,!1,!1,!1],s=null,u=function(t){if(void 0!==t)o(t);else{if(0===s)return void o(!0);for(var e=0;e<4;e++)if(!1===a[e]&&404!=s)return void o(!0);o(!1)}},l=new XMLHttpRequest;l.onreadystatechange=function(){a[l.readyState-1]=!0;try{s=l.status}catch(t){}4===l.readyState&&u()};try{l.open("GET",t,!0),l.send()}catch(t){"2153644038"==t.result&&u(!0)}}else if("import"===e){var c=document.createElement("script");c.src=t,c.onerror=function(){o(!0),window.document.body.removeChild(c)},c.onload=function(){o(!1),window.document.body.removeChild(c)},window.document.body.appendChild(c)}else o(!1)}};return s.pluginName="http",a.version=[1,0,0],s.versionMin=[4,0,0],t([],{constructor:function(){this.fab=new i}})}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;(function(o){r=[n(1),n(2),n(3),n(13),n(6),n(7),n(11),n(52),n(10)],void 0===(i=function(t,e,r,i,a,s,u,l,c){return n(100),window.TdCompanions=t([i],{JS_BANNER_URL:"https://player.tritondigital.com/tpl/default/jsbanner.php",constructor:function(){this.listeners=[]},loadCompanionIframe:function(t,e,n,r){var i=s.byId(t,document);u.empty(i),u.create("iframe",{src:e,width:n,height:r,scrolling:"no",frameborder:0,marginheight:0,marginwidth:0,allowtransparency:!0,style:{margin:0,padding:0}},i)},loadCompanionStatic:function(t,e,n,r,i,a,l){a=a||"",l=l||"";var c=s.byId(t,document);u.empty(c);var d=e.substring(e.lastIndexOf(".")+1).toLowerCase();if("application/x-shockwave-flash"==l||"swf"==d){if(!o.getFlashPlayerVersion().major>0)return console.error("companions::loadCompanionStatic - SWF file embed error: Flash is not available. containerId="+t+", adSpotUrl="+e),void this.emit("companion-load-error",{containerId:t,adSpotUrl:e});e=e+(e.indexOf("?")>-1?"&":"?")+"cb_"+(new Date).getTime();var h=(encodeURIComponent(i),"td_flash_companions");u.create("div",{id:h},c),o.embedSWF(e,h,n,r,"10.2.0",!1,{clickTAG:encodeURIComponent(i)},{scale:"showall",wmode:"opaque",allowScriptAccess:"always",allowNetworking:"all"},!1,!1)}else{var f="";null!=i&&(f='<a href="'+i+'" target="_blank">'),f+='<img src="'+e+'" width="'+n+'" height="'+r+'" title="'+a+'" border="0"/>',null!=i&&(f+="</a>"),c.innerHTML=f}},loadVASTCompanionAd:function(t,e){if(e.content)s.byId(t,document).innerHTML=e.content;else{switch(e.resourceType.name){case"html":e.code.indexOf("document.write")>-1?(e.resourceType.name="iframe",e.url=this.JS_BANNER_URL+"?code="+encodeURIComponent(e.code),this.loadVASTCompanionAd(t,e)):s.byId(t,document).innerHTML=e.code;break;case"iframe":this.loadCompanionIframe(t,e.url,e.width,e.height);break;case"static":"text/javascript"==e.creativeType?(e.resourceType.name="iframe",e.url=this.JS_BANNER_URL+"?url="+encodeURIComponent(e.url),this.loadVASTCompanionAd(t,e)):this.loadCompanionStatic(t,e.url,e.width,e.height,e.clickThroughURL,e.altText,e.creativeType)}e.creativeView&&e.creativeView.length&&e.creativeView.forEach((function(t){window.fetch(t,{mode:"no-cors"})}))}},addEventListener:function(t,n){var i=-1;a.forEach(this.listeners,(function(e,r){e.eventName==t&&e.callback==n&&(i=r)}),this),-1==i&&this.listeners.push({eventName:t,callback:n,listener:r(this,t,e.hitch(this,n))})},removeEventListener:function(t,e){var n=-1;a.forEach(this.listeners,(function(r,i){r.eventName==t&&r.callback==e&&(n=i)}),this),n>-1&&(this.listeners[n].listener.remove(),this.listeners.splice(n,1))}})}.apply(e,r))||(t.exports=i)}).call(e,n(37))},function(t,e,n){var r,i,o=n(97);r=[n(1),n,n(14)],void 0===(i=function(t,e,n){return t([],{constructor:function(){},init:function(){var t=new n;return o("//imasdk.googleapis.com/js/sdkloader/ima3.js",(function(){t.resolve()})),t}})}.apply(e,r))||(t.exports=i)},function(t,e){t.exports=new function(t){function e(e,n){var r,i=t.createElement(e);for(r in n)n.hasOwnProperty(r)&&i.setAttribute(r,n[r]);return i}function n(t){var e,n,i=u[t];i&&(e=i.callback,(n=i.urls).shift(),l=0,n.length||(e&&e.call(i.context,i.obj),u[t]=null,c[t].length&&r(t)))}function r(r,l,d,h,f){var p,g,m,v,y,_,b=function(){n(r)},E="css"===r,A=[];if(a||function(){var e=navigator.userAgent;((a={async:!0===t.createElement("script").async}).webkit=/AppleWebKit\//.test(e))||(a.ie=/MSIE|Trident/.test(e))||(a.opera=/Opera/.test(e))||(a.gecko=/Gecko\//.test(e))||(a.unknown=!0)}(),l)if(l="string"==typeof l?[l]:l.concat(),E||a.async||a.gecko||a.opera)c[r].push({urls:l,callback:d,obj:h,context:f});else for(p=0,g=l.length;p<g;++p)c[r].push({urls:[l[p]],callback:p===g-1?d:null,obj:h,context:f});if(!u[r]&&(v=u[r]=c[r].shift())){for(s||(s=t.head||t.getElementsByTagName("head")[0]),p=0,g=(y=v.urls.concat()).length;p<g;++p)_=y[p],E?m=a.gecko?e("style"):e("link",{href:_,rel:"stylesheet"}):(m=e("script",{src:_})).async=!1,m.className="lazyload",m.setAttribute("charset","utf-8"),a.ie&&!E&&"onreadystatechange"in m&&!("draggable"in m)?m.onreadystatechange=function(){/loaded|complete/.test(m.readyState)&&(m.onreadystatechange=null,b())}:E&&(a.gecko||a.webkit)?a.webkit?(v.urls[p]=m.href,o()):(m.innerHTML='@import "'+_+'";',i(m)):m.onload=m.onerror=b,A.push(m);for(p=0,g=A.length;p<g;++p)s.appendChild(A[p])}}function i(t){var e;try{e=!!t.sheet.cssRules}catch(r){return void((l+=1)<200?setTimeout((function(){i(t)}),50):e&&n("css"))}n("css")}function o(){var t,e=u.css;if(e){for(t=d.length;--t>=0;)if(d[t].href===e.urls[0]){n("css");break}l+=1,e&&(l<200?setTimeout(o,50):n("css"))}}var a,s,u={},l=0,c={css:[],js:[]},d=t.styleSheets;return{css:function(t,e,n,i){r("css",t,e,n,i)},js:function(t,e,n,i){r("js",t,e,n,i)}}}(window.document)},function(t,e,n){var r;(function(t){var i=function(){this.version="1.3";var t={mergeCDATA:!0,grokAttr:!0,grokText:!0,normalize:!0,xmlns:!0,namespaceKey:"_ns",textKey:"_text",valueKey:"_value",attrKey:"_attr",cdataKey:"_cdata",attrsAsObject:!0,stripAttrPrefix:!0,stripElemPrefix:!0,childrenAsArray:!0},e=new RegExp(/(?!xmlns)^.*:/),n=new RegExp(/^\s+|\s+$/g);return this.grokType=function(t){return/^\s*$/.test(t)?null:/^(?:true|false)$/i.test(t)?"true"===t.toLowerCase():isFinite(t)?parseFloat(t):t},this.parseString=function(t,e){return this.parseXML(this.stringToXML(t),e)},this.parseXML=function(r,o){for(var a in o)t[a]=o[a];var s={},u=0,l="";if(t.xmlns&&r.namespaceURI&&(s[t.namespaceKey]=r.namespaceURI),r.attributes&&r.attributes.length>0){for(var c={};u<r.attributes.length;u++){var d,h=r.attributes.item(u);g={},d=t.stripAttrPrefix?h.name.replace(e,""):h.name,t.grokAttr?g[t.valueKey]=this.grokType(h.value.replace(n,"")):g[t.valueKey]=h.value.replace(n,""),t.xmlns&&h.namespaceURI&&(g[t.namespaceKey]=h.namespaceURI),t.attrsAsObject?c[d]=g:s[t.attrKey+d]=g}t.attrsAsObject&&(s[t.attrKey]=c)}if(r.hasChildNodes())for(var f,p,g,m=0;m<r.childNodes.length;m++)4===(f=r.childNodes.item(m)).nodeType?t.mergeCDATA?l+=f.nodeValue:s.hasOwnProperty(t.cdataKey)?(s[t.cdataKey].constructor!==Array&&(s[t.cdataKey]=[s[t.cdataKey]]),s[t.cdataKey].push(f.nodeValue)):t.childrenAsArray?(s[t.cdataKey]=[],s[t.cdataKey].push(f.nodeValue)):s[t.cdataKey]=f.nodeValue:3===f.nodeType?l+=f.nodeValue:1===f.nodeType&&(0===u&&(s={}),p=t.stripElemPrefix?f.nodeName.replace(e,""):f.nodeName,g=i.parseXML(f),s.hasOwnProperty(p)?(s[p].constructor!==Array&&(s[p]=[s[p]]),s[p].push(g)):(t.childrenAsArray?(s[p]=[],s[p].push(g)):s[p]=g,u++));else l||(t.childrenAsArray?(s[t.textKey]=[],s[t.textKey].push(null)):s[t.textKey]=null);if(l)if(t.grokText){var v=this.grokType(l.replace(n,""));null!=v&&(s[t.textKey]=v)}else t.normalize?s[t.textKey]=l.replace(n,"").replace(/\s+/g," "):s[t.textKey]=l.replace(n,"");return s},this.xmlToString=function(t){try{return t.xml?t.xml:(new XMLSerializer).serializeToString(t)}catch(t){return null}},this.stringToXML=function(t){try{var e=null;return window.DOMParser?(new DOMParser).parseFromString(t,"text/xml"):((e=new ActiveXObject("Microsoft.XMLDOM")).async=!1,e.loadXML(t),e)}catch(t){return null}},this}.call({});null!=t&&t.exports?t.exports=i:void 0===(r=function(){return i}.call(e,n,e,t))||(t.exports=r)}).call(e,n(28)(t))},function(t,e,n){function r(t){return n(i(t))}function i(t){return o[t]||function(){throw new Error("Cannot find module '"+t+"'.")}()}var o={"./en.json":57,"./es.json":93,"./fr.json":94,"./pt.json":95};r.keys=function(){return Object.keys(o)},r.resolve=i,t.exports=r,r.id=111},function(t,e){var n=function(){function t(){if(!B){try{var t=R.getElementsByTagName("body")[0].appendChild(g("span"));t.parentNode.removeChild(t)}catch(t){return}B=!0;for(var e=N.length,n=0;n<e;n++)N[n]()}}function e(t){B?t():N[N.length]=t}function r(t){if(_typeof(I.addEventListener)!=C)I.addEventListener("load",t,!1);else if(_typeof(R.addEventListener)!=C)R.addEventListener("load",t,!1);else if(_typeof(I.attachEvent)!=C)!function(t,e,n){t.attachEvent(e,n),U[U.length]=[t,e,n]}(I,"onload",t);else if("function"==typeof I.onload){var e=I.onload;I.onload=function(){e(),t()}}else I.onload=t}function i(){var t=F.length;if(t>0)for(var e=0;e<t;e++){var n=F[e].id,r=F[e].callbackFn,i={success:!1,id:n};if(V.pv[0]>0){var l=p(n);if(l)if(!m(F[e].swfVersion)||V.wk&&V.wk<312)if(F[e].expressInstall&&a()){var c={};c.data=F[e].expressInstall,c.width=l.getAttribute("width")||"0",c.height=l.getAttribute("height")||"0",l.getAttribute("class")&&(c.styleclass=l.getAttribute("class")),l.getAttribute("align")&&(c.align=l.getAttribute("align"));for(var d={},h=l.getElementsByTagName("param"),f=h.length,g=0;g<f;g++)"movie"!=h[g].getAttribute("name").toLowerCase()&&(d[h[g].getAttribute("name")]=h[g].getAttribute("value"));s(c,d,n,r)}else u(l),r&&r(i);else y(n,!0),r&&(i.success=!0,i.ref=o(n),r(i))}else if(y(n,!0),r){var v=o(n);v&&_typeof(v.SetVariable)!=C&&(i.success=!0,i.ref=v),r(i)}}}function o(t){var e=null,n=p(t);if(n&&"OBJECT"==n.nodeName)if(_typeof(n.SetVariable)!=C)e=n;else{var r=n.getElementsByTagName(k)[0];r&&(e=r)}return e}function a(){return!H&&m("6.0.65")&&(V.win||V.mac)&&!(V.wk&&V.wk<312)}function s(t,e,n,r){H=!0,A=r||null,T={success:!1,id:n};var i=p(n);if(i){"OBJECT"==i.nodeName?(b=l(i),E=null):(b=i,E=n),t.id=L,(_typeof(t.width)==C||!/%$/.test(t.width)&&parseInt(t.width,10)<310)&&(t.width="310"),(_typeof(t.height)==C||!/%$/.test(t.height)&&parseInt(t.height,10)<137)&&(t.height="137"),R.title=R.title.slice(0,47)+" - Flash Player Installation";var o=V.ie&&V.win?"ActiveX":"PlugIn",a="MMredirectURL="+I.location.toString().replace(/&/g,"%26")+"&MMplayerType="+o+"&MMdoctitle="+R.title;if(_typeof(e.flashvars)!=C?e.flashvars+="&"+a:e.flashvars=a,V.ie&&V.win&&4!=i.readyState){var s=g("div");n+="SWFObjectNew",s.setAttribute("id",n),i.parentNode.insertBefore(s,i),i.style.display="none",function(){4==i.readyState?i.parentNode.removeChild(i):setTimeout(arguments.callee,10)}()}c(t,e,n)}}function u(t){if(V.ie&&V.win&&4!=t.readyState){var e=g("div");t.parentNode.insertBefore(e,t),e.parentNode.replaceChild(l(t),e),t.style.display="none",function(){4==t.readyState?t.parentNode.removeChild(t):setTimeout(arguments.callee,10)}()}else t.parentNode.replaceChild(l(t),t)}function l(t){var e=g("div");if(V.win&&V.ie)e.innerHTML=t.innerHTML;else{var n=t.getElementsByTagName(k)[0];if(n){var r=n.childNodes;if(r)for(var i=r.length,o=0;o<i;o++)1==r[o].nodeType&&"PARAM"==r[o].nodeName||8==r[o].nodeType||e.appendChild(r[o].cloneNode(!0))}}return e}function c(t,e,n){var r,i=p(n);if(V.wk&&V.wk<312)return r;if(i)if(_typeof(t.id)==C&&(t.id=n),V.ie&&V.win){var o="";for(var a in t)t[a]!=Object.prototype[a]&&("data"==a.toLowerCase()?e.movie=t[a]:"styleclass"==a.toLowerCase()?o+=' class="'+t[a]+'"':"classid"!=a.toLowerCase()&&(o+=" "+a+'="'+t[a]+'"'));var s="";for(var u in e)e[u]!=Object.prototype[u]&&(s+='<param name="'+u+'" value="'+e[u]+'" />');i.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+o+">"+s+"</object>",j[j.length]=t.id,r=p(t.id)}else{var l=g(k);for(var c in l.setAttribute("type",x),t)t[c]!=Object.prototype[c]&&("styleclass"==c.toLowerCase()?l.setAttribute("class",t[c]):"classid"!=c.toLowerCase()&&l.setAttribute(c,t[c]));for(var h in e)e[h]!=Object.prototype[h]&&"movie"!=h.toLowerCase()&&d(l,h,e[h]);i.parentNode.replaceChild(l,i),r=l}return r}function d(t,e,n){var r=g("param");r.setAttribute("name",e),r.setAttribute("value",n),t.appendChild(r)}function h(t){var e=p(t);e&&"OBJECT"==e.nodeName&&(V.ie&&V.win?(e.style.display="none",function(){4==e.readyState?f(t):setTimeout(arguments.callee,10)}()):e.parentNode.removeChild(e))}function f(t){var e=p(t);if(e){for(var n in e)"function"==typeof e[n]&&(e[n]=null);e.parentNode.removeChild(e)}}function p(t){var e=null;try{e=R.getElementById(t)}catch(t){}return e}function g(t){return R.createElement(t)}function m(t){var e=V.pv,n=t.split(".");return n[0]=parseInt(n[0],10),n[1]=parseInt(n[1],10)||0,n[2]=parseInt(n[2],10)||0,e[0]>n[0]||e[0]==n[0]&&e[1]>n[1]||e[0]==n[0]&&e[1]==n[1]&&e[2]>=n[2]}function v(t,e,n,r){if(!V.ie||!V.mac){var i=R.getElementsByTagName("head")[0];if(i){var o=n&&"string"==typeof n?n:"screen";if(r&&(S=null,w=null),!S||w!=o){var a=g("style");a.setAttribute("type","text/css"),a.setAttribute("media",o),S=i.appendChild(a),V.ie&&V.win&&_typeof(R.styleSheets)!=C&&R.styleSheets.length>0&&(S=R.styleSheets[R.styleSheets.length-1]),w=o}V.ie&&V.win?S&&_typeof(S.addRule)==k&&S.addRule(t,e):S&&_typeof(R.createTextNode)!=C&&S.appendChild(R.createTextNode(t+" {"+e+"}"))}}}function y(t,e){if(G){var n=e?"visible":"hidden";B&&p(t)?p(t).style.visibility=n:v("#"+t,"visibility:"+n)}}function _(t){return null!=/[\\\"<>\.;]/.exec(t)&&("undefined"==typeof encodeURIComponent?"undefined":_typeof(encodeURIComponent))!=C?encodeURIComponent(t):t}var b,E,A,T,S,w,C="undefined",k="object",D="Shockwave Flash",x="application/x-shockwave-flash",L="SWFObjectExprInst",P="onreadystatechange",I=window,R=document,O=navigator,M=!1,N=[function(){M?function(){var t=R.getElementsByTagName("body")[0],e=g(k);e.setAttribute("type",x);var n=t.appendChild(e);if(n){var r=0;!function(){if(_typeof(n.GetVariable)!=C){var o=n.GetVariable("$version");o&&(o=o.split(" ")[1].split(","),V.pv=[parseInt(o[0],10),parseInt(o[1],10),parseInt(o[2],10)])}else if(r<10)return r++,void setTimeout(arguments.callee,10);t.removeChild(e),n=null,i()}()}else i()}():i()}],F=[],j=[],U=[],B=!1,H=!1,G=!0,V=function(){var t=_typeof(R.getElementById)!=C&&_typeof(R.getElementsByTagName)!=C&&_typeof(R.createElement)!=C,e=O.userAgent.toLowerCase(),n=O.platform.toLowerCase(),r=/win/.test(n||e),i=/mac/.test(n||e),o=!!/webkit/.test(e)&&parseFloat(e.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")),a=!1,s=[0,0,0],u=null;if(_typeof(O.plugins)!=C&&_typeof(O.plugins[D])==k)!(u=O.plugins[D].description)||_typeof(O.mimeTypes)!=C&&O.mimeTypes[x]&&!O.mimeTypes[x].enabledPlugin||(M=!0,a=!1,u=u.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),s[0]=parseInt(u.replace(/^(.*)\..*$/,"$1"),10),s[1]=parseInt(u.replace(/^.*\.(.*)\s.*$/,"$1"),10),s[2]=/[a-zA-Z]/.test(u)?parseInt(u.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(_typeof(I.ActiveXObject)!=C)try{var l=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");l&&(u=l.GetVariable("$version"))&&(a=!0,u=u.split(" ")[1].split(","),s=[parseInt(u[0],10),parseInt(u[1],10),parseInt(u[2],10)])}catch(t){}return{w3:t,pv:s,wk:o,ie:a,win:r,mac:i}}();return V.w3&&((_typeof(R.readyState)!=C&&"complete"==R.readyState||_typeof(R.readyState)==C&&(R.getElementsByTagName("body")[0]||R.body))&&t(),B||(_typeof(R.addEventListener)!=C&&R.addEventListener("DOMContentLoaded",t,!1),V.ie&&V.win&&(R.attachEvent(P,(function(){"complete"==R.readyState&&(R.detachEvent(P,arguments.callee),t())})),I==top&&function(){if(!B){try{R.documentElement.doScroll("left")}catch(t){return void setTimeout(arguments.callee,0)}t()}}()),V.wk&&function(){B||(/loaded|complete/.test(R.readyState)?t():setTimeout(arguments.callee,0))}(),r(t))),V.ie&&V.win&&window.attachEvent("onunload",(function(){for(var t=U.length,e=0;e<t;e++)U[e][0].detachEvent(U[e][1],U[e][2]);for(var r=j.length,i=0;i<r;i++)h(j[i]);for(var o in V)V[o]=null;for(var a in V=null,n)n[a]=null;n=null})),{registerObject:function(t,e,n,r){if(V.w3&&t&&e){var i={};i.id=t,i.swfVersion=e,i.expressInstall=n,i.callbackFn=r,F[F.length]=i,y(t,!1)}else r&&r({success:!1,id:t})},getObjectById:function(t){if(V.w3)return o(t)},embedSWF:function(t,n,r,i,o,u,l,d,h,f){var p={success:!1,id:n};V.w3&&!(V.wk&&V.wk<312)&&t&&n&&r&&i&&o?(y(n,!1),e((function(){r+="",i+="";var e={};if(h&&_typeof(h)===k)for(var g in h)e[g]=h[g];e.data=t,e.width=r,e.height=i;var v={};if(d&&_typeof(d)===k)for(var _ in d)v[_]=d[_];if(l&&_typeof(l)===k)for(var b in l)_typeof(v.flashvars)!=C?v.flashvars+="&"+b+"="+l[b]:v.flashvars=b+"="+l[b];if(m(o)){var E=c(e,v,n);e.id==n&&y(n,!0),p.success=!0,p.ref=E}else{if(u&&a())return e.data=u,void s(e,v,n,f);y(n,!0)}f&&f(p)}))):f&&f(p)},switchOffAutoHideShow:function(){G=!1},ua:V,getFlashPlayerVersion:function(){return{major:V.pv[0],minor:V.pv[1],release:V.pv[2]}},hasFlashPlayerVersion:m,createSWF:function(t,e,n){return V.w3?c(t,e,n):void 0},showExpressInstall:function(t,e,n,r){V.w3&&a()&&s(t,e,n,r)},removeSWF:function(t){V.w3&&h(t)},createCSS:function(t,e,n,r){V.w3&&v(t,e,n,r)},addDomLoadEvent:e,addLoadEvent:r,getQueryParamValue:function(t){var e=R.location.search||R.location.hash;if(e){if(/\?/.test(e)&&(e=e.split("?")[1]),null==t)return _(e);for(var n=e.split("&"),r=0;r<n.length;r++)if(n[r].substring(0,n[r].indexOf("="))==t)return _(n[r].substring(n[r].indexOf("=")+1))}return""},expressInstallCallback:function(){if(H){var t=p(L);t&&b&&(t.parentNode.replaceChild(b,t),E&&(y(E,!0),V.ie&&V.win&&(b.style.display="block")),A&&A(T)),H=!1}}}}()},function(t,e,n){(function(t){var e=n(1),r=n(2),i=n(3),o=n(13),a=n(6),s=n(101),u=n(104),l=n(106),c=n(18),d=n(22),h=!1,f=function(){h=!0};document.addEventListener("touchend",(function t(){h||(document.removeEventListener("touchend",t,!1),document.removeEventListener("touchmove",f,!1),d.init()),h=!1}),!1),document.addEventListener("touchmove",f,!1),window.TDSdk=e([],{NAME:"TDSdk",constructor:function(t){this.listeners=[],this.target=new o,this.abBlockProcessFinish=!1,this.MediaElement=d,i(this.target,"module-ready",r.hitch(this,this._onModuleReady));var e=new l;void 0===e.fab?this._onAdBlock(t,!0):(e.fab.onDetected(r.hitch(this,this._onAdBlock,t,!0)),e.fab.onNotDetected(r.hitch(this,this._onAdBlock,t,!1)),e.fab.check()),t.playerReady&&this.addEventListener("player-ready",t.playerReady),t.configurationError&&this.addEventListener("configuration-error",t.configurationError),t.moduleError&&this.addEventListener("module-error",t.moduleError),t.adBlockerDetected&&this.addEventListener("ad-blocker-detected",t.adBlockerDetected),this.loadModules()},_parseConfig:function(t,e){if(!t||!t.coreModules)return{coreModules:[]};var n=[],r={},i=a.filter(t.coreModules,(function(t){return"SyncBanners"==t.id}));if(i.length&&!e){var o=i[0];r=o,a.forEach(o.elements,(function(t){if(null!=t.width&&null!=t.height){var e=t.width+"x"+t.height;-1!=a.indexOf(u,e)&&n.push(e)}}),this)}if((i=a.filter(t.coreModules,(function(t){return"MediaPlayer"==t.id}))).length){var s=i[0];s.adBlockerDetected=e,s.adBlockerDetected&&null!=s.plugins&&(this._removeMediaplayerPlugins("vastAd",s.plugins),this._removeMediaplayerPlugins("mediaAd",s.plugins)),s.companionAdSelectionSettings=r,null==s.defaultTrackingParameters&&(s.defaultTrackingParameters={}),s.defaultTrackingParameters.banners=null!=s.defaultTrackingParameters.banners?this._unique(s.defaultTrackingParameters.banners.concat(n)):n,s.defaultTrackingParameters.log={},s.defaultTrackingParameters.log.tdsdk="js-"+this.version.value.substring(0,3),s.defaultTrackingParameters.log.pname=this.NAME,s.defaultTrackingParameters.log.pversion=this.version.value.substring(0,3)}return"string"==typeof t.locale&&c.setLocalization(t.locale),t},_removeMediaplayerPlugins:function(t,e){a.forEach(e,(function(n,r){n&&n.id==t&&e.splice(r,1)}))},_onModuleReady:function(t){t.data.module.api&&e.safeMixin(this,t.data.module.api),this[t.data.id]=t.data.module},_onAdBlock:function(t,e){t&&(this.abBlockProcessFinish=!0,t.adBlockerDetected=e,this.moduleManager=new s(this._parseConfig(t,e),this.target),this.loadModulesCalled&&this.moduleManager.loadModules())},loadModules:function(){this.abBlockProcessFinished?this.moduleManager.loadModules():this.loadModulesCalled=!0},loadModule:function(t,e){this.moduleManager.loadModule(t,e)},getModuleById:function(t){return this.moduleManager.getModuleById(t)},addEventListener:function(t,e){var n=-1;a.forEach(this.listeners,(function(r,i){r.eventName==t&&r.callback==e&&(n=i)}),this),-1==n&&this.listeners.push({eventName:t,callback:e,listener:i(this.target,t,r.hitch(this,e))})},removeEventListener:function(t,e){var n=-1;a.forEach(this.listeners,(function(r,i){r.eventName==t&&r.callback==e&&(n=i)}),this),n>-1&&(this.listeners[n].listener.remove(),this.listeners.splice(n,1))},_unique:function(t){var e={};return a.filter(t,(function(t){return!e[t]&&(e[t]=!0)}))},version:{value:"@tdversion@",build:"@tdbuild@",codename:"bitter lime"},flash:{available:t.getFlashPlayerVersion().major>0,version:t.getFlashPlayerVersion()}})}).call(e,n(37))},function(t,e,n){var r,i,o=(n(72),n(20)),a=n(18),s=n(138),u=n(139),l=n(21),c=n(22),d=n(8);r=[n(6),n(1),n(14),n(2),n(4),n(3),n(26),n(17),n(7),n(11),n(19),n(120),n(12),n(132),n(131)],void 0===(i=function(t,e,n,r,i,h,f,p,g,m,v,y,_,b,E){return e([_],{LIVE_PLAYING:"livePlaying",LIVE_STOPPED:"liveStopped",statusMap:{GETTING_STATION_INFORMATION:{status:"gettingStationInformation",code:"GETTING_STATION_INFORMATION"},STREAM_GEO_BLOCKED:{status:"streamGeoBlocked",code:"STREAM_GEO_BLOCKED"},STATION_NOT_FOUND:{status:"stationNotFound",code:"STATION_NOT_FOUND"},PLAY_NOT_ALLOWED:{status:"playbackNotAllowed",code:"PLAY_NOT_ALLOWED"}},constructor:function(t,e){this.inherited(arguments);var n=this;"function"==typeof __cmp?__cmp("getConsentData",null,(function(t){n.consentData=t,null!=n.config.idSync&&n._loadIdSync(n.config.idSync)})):null!=this.config.idSync&&this._loadIdSync(this.config.idSync),this.liveStreamConfig=null,this.streamingConnections=null,this.liveStreamConfiguration=null,this.tech=null,this.techErrors=[],this.techPriority=this.config.techPriority&&this.config.techPriority.length>0?this.config.techPriority:["Html5","Flash"],(i("ios")||i("android")||i("bb")||i("safari")>7||l.currentProtocolIsHttps())&&(this.techPriority=["Html5"]),this.geoTargeting=null!=this.config.geoTargeting?this.config.geoTargeting:{desktop:{isActive:!0},iOS:{isActive:!1},android:{isActive:!1}},this.isGeoTargetingActive=!1,this.position=null,this.geoTargeting&&this._initGeoTargeting(),this.hls=null==t.hls||t.hls,this.audioAdaptive=null!=t.audioAdaptive&&t.audioAdaptive,this.adManager=null,this._lowActivated=!1,this._isPlaying=!1,this.fallbackTried=!1,this.api={play:r.hitch(this,this._play),pause:r.hitch(this,this._pause),stop:r.hitch(this,this._stop),resume:r.hitch(this,this._resume),seek:r.hitch(this,this._seek),seekLive:r.hitch(this,this.seekLive),restartConnectionTimeOut:r.hitch(this,this.restartConnectionTimeOut),setVolume:r.hitch(this,this.setVolume),getVolume:r.hitch(this,this.getVolume),mute:r.hitch(this,this.mute),unMute:r.hitch(this,this.unMute),playAd:r.hitch(this,this.playAd),skipAd:r.hitch(this,this.skipAd),destroyAd:r.hitch(this,this.destroyAd),initMediaElement:r.hitch(this,this._initMediaElement),destroy:r.hitch(this,this._destroy)},f.subscribe("api/request",r.hitch(this,this._onApiInternalRequest))},start:function(){h(this.target,"tech-ready",r.hitch(this,this._onTechReady)),h(this.target,"tech-error",r.hitch(this,this._onTechError)),this._loadTech(this.techPriority[0])},_onApiInternalRequest:function(){var t=arguments[0],e=r.hitch(this,this.INTERNAL_REQUEST_API_FUNCTIONS[t]);"function"==typeof e&&e(arguments[1])},_onApiRequestGetAlternateContent:function(t){if(t){var e=this._getCurrentLiveApiParams();t.mount?(e.station=null,e.mount=t.mount,this._play(e)):t.url&&(e.station=null,e.mount=null,e.url=t.url,this.tech.isLiveStream=!0,this.tech.play({file:e.url}))}},_onApiRequestGetVastInstream:function(t){null!=t.vastUrl?this._getAdManager().playAd("vastAd",{url:t.vastUrl,skipMediaAdPlayback:!0,adBreak:!0}):null!=t.adVast&&this._getAdManager().playAd("vastAd",{rawXML:t.adVast,skipMediaAdPlayback:!0,adBreak:!0})},_hqTags:[],addHqTag:function(e){-1==t.indexOf(this._hqTags,e)&&this._hqTags.push(e)},removeHqTag:function(e){var n=t.indexOf(this._hqTags,e);-1!=n&&this._hqTags.splice(n,1)},_lowTags:["low-bw"],addLowTag:function(e){-1==t.indexOf(this._lowTags,e)&&this._lowTags.push(e)},removeLowTag:function(e){var n=t.indexOf(this._lowTags,e);-1!=n&&this._lowTags.splice(n,1)},_hqEnabled:!1,enableHQ:function(){this._hqEnabled=!0,!this.isHQ()&&this.isPlaying()&&(this._stop(),this._play(this._getCurrentLiveApiParams()))},disableHQ:function(){this._hqEnabled=!1,this.isHQ()&&this.isPlaying()&&(this._stop(),this._play(this._getCurrentLiveApiParams()))},_lowEnabled:!0,enableLow:function(){this._lowEnabled=!0,this._refreshConnectionIterator()},disableLow:function(){this._lowEnabled=!1,this.isLow()&&this.isPlaying()&&(this._stop(),this._play(this._getCurrentLiveApiParams()))},activateLow:function(){this._lowEnabled&&(this._lowActivated=!0,!this.isLow()&&this.isPlaying()?(this._stop(),this._play(this._getCurrentLiveApiParams())):this._refreshConnectionIterator())},deactivateLow:function(){this._lowActivated=!1,this.isLow()&&this.isPlaying()?(this._stop(),this._play(this._getCurrentLiveApiParams())):this._refreshConnectionIterator()},_refreshConnectionIterator:function(t){if(t){if(t.length>0)return this.emit("stream-config-ready"),this.tech.setConnectionIterator(new s(t)),!0;this.emit("stream-config-error",{errors:this.liveStreamConfig.mountPointsError}),this.tech.setConnectionIterator(null);var e=!1,n=!1;return d.forEach(this.liveStreamConfig.mountPointsError,(function(t){t.status.isGeoBlocked&&(e=!0),t.alternateContent&&(n=t.alternateContent)})),e?(this._emitStreamStatusByCode(this.statusMap.STREAM_GEO_BLOCKED),n&&f.publish("api/request","get-alternate-content",n)):this._emitStreamStatusByCode(this.statusMap.STATION_NOT_FOUND),!1}},_loadTech:function(t){switch(r.hitch(this,this._techLoaded),r.hitch(this,this._techLoadingError),t){case"Html5":this._techLoaded(b,t);break;case"Flash":this._techLoaded(E,t)}},_techLoaded:function(t,e){this.tech=new t(this.config,this.target,e),this.tech.start()},_techLoadingError:function(t){console.error("mediaPlayer::_techError - "+t),this.emit("module-error",{id:"MediaPlayer",error:t})},_onTechReady:function(t){this.liveStreamConfig=new u(this.config.platformId,o,this.tech.type,this.config.hls,this.config.audioAdaptive,this.config.forceHls,this.config.forceHslts,this.config.playerServicesRegion),h(this.target,"stream-start",r.hitch(this,this._onStreamStart)),h(this.target,"stream-stop",r.hitch(this,this._onStreamStop)),this.emit("module-ready",{id:"MediaPlayer",module:this})},_onStreamStart:function(){this._isPlaying=!0},_onStreamStop:function(){this._isPlaying=!1},_onTechError:function(t){console.error("mediaPlayer::_onTechError"),this.techPriority.length>1&&0==this.fallbackTried?(this.techErrors.push(t),this.fallbackTried=!0,this._loadTech(this.techPriority[1])):(this.techErrors.push(t),this.emit("module-error",{id:"MediaPlayer",errors:this.techErrors}))},_initGeoTargeting:function(){(null!=i("ios")&&null!=this.geoTargeting.iOS&&null!=this.geoTargeting.iOS.isActive&&1==this.geoTargeting.iOS.isActive||null!=i("android")&&null!=this.geoTargeting.android&&null!=this.geoTargeting.android.isActive&&1==this.geoTargeting.android.isActive||null==i("ios")&&null==i("android")&&null!=this.geoTargeting.desktop&&null!=this.geoTargeting.desktop.isActive&&1==this.geoTargeting.desktop.isActive)&&(this.isGeoTargetingActive=!0),1==this.isGeoTargetingActive&&this._getLocation()},_play:function(t){if(null!=t){this.tech.prepare(),this._initMediaElement();var e=this;if(t.trackingParameters=this._getFinalTrackingParameters(t.trackingParameters),null!=t.file&&""!=t.file)e.tech.play(t);else{this._emitStreamStatusByCode(this.statusMap.GETTING_STATION_INFORMATION),this._liveApiParams=t;var n=("Flash"==this.tech.type?this.liveStreamConfig.RTMP_TRANSPORTS:[]).concat(this.liveStreamConfig.DEFAULT_TRANSPORTS),r={station:t.station,mount:t.mount,transports:n},i=[];this._hqEnabled&&(i=i.concat(this._hqTags)),this._lowEnabled&&(i=i.concat(this._lowTags)),this.liveStreamConfig.getStreamingConnections(r,i).then((function(n){this.streamingConnections=n,e._refreshConnectionIterator(n)&&e.tech.play(t)})).catch((function(t){e.emit("stream-config-load-error",{error:t})}))}}},isPlaying:function(){return this._isPlaying},hasHQ:function(){var t=this;return d.some(this._hqTags,(function(e){t.tagsToLookup(e,t.streamingConnections)}))},tagsToLookup:function(t,e){return d.some(e,(function(e){return d.some(e.tags,(function(e){return e.name===t}))}))},isHQ:function(){var t=this;return!!this.tech.currentConnection()&&null!=this.tech.currentConnection()&&d.some(this._hqTags,(function(e){t.tagsToLookup(e,[t.tech.currentConnection()])}))},hasLow:function(){var t=this;return d.some(this._lowTags,(function(e){t.tagsToLookup(e,t.streamingConnections)}))},isLow:function(){var t=this;return!!this.tech.currentConnection()&&null!=this.tech.currentConnection()&&d.some(this._lowTags,(function(e){t.tagsToLookup(e,[t.tech.currentConnection()])}))},_pause:function(){this.tech.pause()},_stop:function(){this.tech.stop()},_resume:function(){this.tech.resume()},_seek:function(t){this.tech.seek(t)},seekLive:function(){this.tech.seekLive()},restartConnectionTimeOut:function(){this.tech.restartConnectionTimeOut()},setVolume:function(t){this.tech.setVolume(t)},getVolume:function(){return this.tech.getVolume()},mute:function(){this.tech.mute()},unMute:function(){this.tech.unMute()},playAd:function(t,e){e.trackingParameters=this._getFinalTrackingParameters(e.trackingParameters),this._getAdManager().playAd(t,e),this.tech.playAdCalled=!0},skipAd:function(){this._getAdManager().skipAd()},destroyAd:function(){this._getAdManager().destroyAd(!0)},_initMediaElement:function(){c.init()},_destroy:function(){this._stop(),setTimeout((function(){var t=document.getElementById("tdplayer_ondemand");t&&(c.destroyAudioElement(),c.resetAudioNode(),m.destroy(t))}),500)},_getAdManager:function(){return null==this.adManager&&(this.adManager=new y(this.tech,this.tech.type,this.target,this.config)),this.adManager},_emitStreamStatusByCode:function(t){var e=a.getLocalization();null!=e&&e[t.status]&&this.emit("stream-status",{code:t.code,status:e[t.status]})},_getLocation:function(){window.navigator.geolocation&&window.navigator.geolocation.getCurrentPosition(r.hitch(this,this._setPosition),r.hitch(this,this._getPositionErrorHandler),{enableHighAccuracy:!0,timeout:2e3})},_setPosition:function(t){this.position=null!=t&&null!=t.coords.latitude&&null!=t.coords.longitude?t:null},_getPositionErrorHandler:function(t){console.info("mediaPlayer::_getPositionErrorHandler, code : "+t.code+", message : "+t.message),this.position=null},_getGeoTargetingPos:function(t){return null!=this.position&&null!=this.position&&null!=this.position.coords.latitude&&null!=this.position.coords.longitude?null!=t?(t.lat=parseFloat(this.position.coords.latitude.toFixed(1)),t.long=parseFloat(this.position.coords.longitude.toFixed(1)),t):{lat:parseFloat(this.position.coords.latitude.toFixed(1)),long:parseFloat(this.position.coords.longitude.toFixed(1))}:t},_getFinalTrackingParameters:function(e){for(var n in null==e&&(e={}),e.tdsdk=this.config.defaultTrackingParameters.log.tdsdk,this.isGeoTargetingActive&&(e=this._getGeoTargetingPos(e)),d.isEmpty(this.config.defaultTrackingParameters.banners)&&(this.config.defaultTrackingParameters.banners=[],this.config.defaultTrackingParameters.banners.push("none")),"Flash"!=this.tech.type||this.config.adBlockerDetected||-1!==this.config.defaultTrackingParameters.banners.indexOf("none")||(-1==t.indexOf(this.config.defaultTrackingParameters.banners,"swf")&&this.config.defaultTrackingParameters.banners.push("swf"),-1==t.indexOf(this.config.defaultTrackingParameters.banners,"vpaid")&&this.config.defaultTrackingParameters.banners.push("vpaid")),e.pname||(e.pname=this.config.defaultTrackingParameters.log.pname,e.pversion=this.config.defaultTrackingParameters.log.pversion),null!=this.config.defaultTrackingParameters.banners&&this.config.defaultTrackingParameters.banners.length&&(null!=e.banners&&e.banners.length&&-1==e.banners.indexOf(this.config.defaultTrackingParameters.banners.join())?e.banners+=","+this.config.defaultTrackingParameters.banners.join():e.banners=this.config.defaultTrackingParameters.banners.join()),this.config.defaultTrackingParameters.user)e[n]=this.config.defaultTrackingParameters.user[n];return e},_getCurrentLiveApiParams:function(){return this._liveApiParams},_loadIdSync:function(t){var e=this._getIdSyncQueryParam(t);g.byId("idSyncScript",document)&&m.destroy(g.byId("idSyncScript",document)),scriptTag=m.create("script",{id:"idSyncScript"},g.byId(this.config.playerId,document)),v.set(scriptTag,"type","text/javascript"),v.set(scriptTag,"src","//playerservices.live.streamtheworld.com/api/idsync.js?"+e),document.getElementsByTagName("body")[0].appendChild(scriptTag)},_getIdSyncQueryParam:function(t){var e;if(t.station?e="station="+t.station:t.stationId?e="stationId="+t.stationId:t.mount&&(e="mount="+t.mount),null!=e){this.consentData&&(t.gdpr=this.consentData.gdprApplies?1:0,t.gdpr_consent=this.consentData.consentData),e=t.gdpr&&t.gdpr.toString().match(/^[0,1]$/g)?e+"&gdpr="+t.gdpr:e,e=t.gdpr_consent?e+"&gdpr_consent="+t.gdpr_consent:e;var n=t.dob&&!isNaN(Date.parse(t.dob))?new Date(t.dob.replace(/-/g,"/")):null;if(n){var r=n.getFullYear(),i=n.getMonth()+1<10?"0"+(n.getMonth()+1):n.getMonth()+1,o=n.getDate()<10?"0"+n.getDate():n.getDate();e=n?e+"&dob="+r+"-"+i+"-"+o:e}return e=t.yob&&!isNaN(t.yob)&&-1===e.indexOf("dob")?e+"&yob="+t.yob:e,e=t.age&&!isNaN(t.age)&&t.age>0&&t.age<=125&&-1===e.indexOf("dob")&&-1===e.indexOf("yob")?e+"&age="+t.age:e,e=t.gender&&t.gender.match(/[m,f]/g)&&1===t.gender.length?e+"&gender="+t.gender:e,t.ip&&t.ip.match(/^(?!0)(?!.*\.$)((1?\d?\d|25[0-5]|2[0-4]\d)(\.|$)){4}$/g)?e+"&ip="+t.ip:e}}})}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i,o=n(15);r=[n(1),n(14),n(2),n(10),n(12),n(153)],void 0===(i=function(t,e,n,r,i,a){return t([i],{constructor:function(t,e){this.platform=new o(t.platformId),this.library=[],this.inherited(arguments)},start:function(){this.emit("module-ready",{id:"Npe",module:this})},loadNpeMetadata:function(t,n,r){var i=this._urlToNPEId(t),o=this.getSongByNpeId(i);if(null!=o){this.emit("npe-song",{song:o});var a=new e;return a.resolve({song:o}),a}return this._fetchData(!1,i,t,n,r,new e)},getSongByNpeId:function(t){for(var e=this.library.length,n=0;n<e;n++)if(this.library[n].npeId==t)return this.library[n];return null},getDynamicUrl:function(){return this.platform.endpoint.npe},_getDynamicSongUrl:function(t,e){return this.getDynamicUrl()+"song?artist="+encodeURIComponent(t)+"&title="+encodeURIComponent(e)},_fetchData:function(t,e,i,o,a,s){return t&&(i=this._getDynamicSongUrl(o,a)),(new r).request(i,{npeId:e,npUrl:i,isDynamicCall:t,artist:o,title:a,deferred:s},this._getRequestArgs(),n.hitch(this,this._onLoadComplete),n.hitch(this,this._onLoadError)),s},_onLoadError:function(t,e){return console.error("npe::_onLoadError - npUrl="+t.npUrl+" - error="+e),0!=t.isDynamicCall?(this.emit("npe-song-error",{npeId:this._urlToNPEId(t.npUrl)}),t.deferred.reject({npeId:this._urlToNPEId(t.npUrl)})):void this._fetchData(!0,t.npeId,null,t.artist,t.title,t.deferred)},_onLoadComplete:function(t,e){var n=new a(e.song,this._urlToNPEId(t.npUrl),this.config.platformId);return this.library.push(n),this.emit("npe-song",{song:n}),t.deferred.resolve({song:n})},_getRequestArgs:function(){return{handleAs:"json",preventCache:!1,headers:{"X-Requested-With":null,"Content-Type":"text/plain; charset=utf-8"}}},_urlToNPEId:function(t){if(null==t||null==t||""==t)return null;var e=t.lastIndexOf("/");return t.substr(e-2,2)+t.substring(e+1,t.lastIndexOf("."))}})}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i,o=n(15);r=[n(1),n(2),n(12),n(10)],void 0===(i=function(t,e,n,r){return t([n],{constructor:function(t,e){this.platform=new o(t.platformId),this.inherited(arguments)},start:function(){this.emit("module-ready",{id:"PlayerWebAdmin",module:this})},load:function(t,n){var i=e.hitch(this,this._onLoadComplete),o=e.hitch(this,this._onLoadError),a=new r,s=this._getRequestArgs(t,n);a.request(this.platform.endpoint.playerWebAdmin,s.query,{handleAs:"xml",preventCache:!0,query:s.query,headers:{"X-Requested-With":null,"Content-Type":"text/plain; charset=utf-8"}},(function(e,n){i(t,JSON.parse(n))}),(function(e,n){o(t,"An unexpected error occurred: "+n)}))},_onLoadError:function(t,e){console.error("playerWebAdmin::_onLoadError - mount="+t+" - error="+e),this.emit("pwa-data-error",{mount:t,error:e})},_onLoadComplete:function(t,e){this.emit("pwa-data-loaded",{mount:t,config:e})},_getRequestArgs:function(t,e){return{jsonp:"callback",preventCache:!0,query:{callsign:t,streamid:e}}}})}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(1),n(2),n(6),n(7),n(3),n(11),n(12),n(107)],void 0===(i=function(t,e,n,r,i,o,a,s){return t([a],{LEGACY:"legacy",VAST:"vast",constructor:function(t,e){this.inherited(arguments),this._vastCompanionPriority=t.vastCompanionPriority||["static","iframe","html"],this.companions=new s},start:function(){this.config.elements&&(i(this.target,"vast-process-complete",e.hitch(this,this._onVastProcessComplete)),i(this.target,"vast-companions-ready",e.hitch(this,this._onVastCompanionsReady)),i(this.target,"ad-break-cue-point",e.hitch(this,this._onAdBreakCuePoint)),i(this.target,"ad-break-cue-point-complete",e.hitch(this,this._onAdBreakCuePointComplete)),i(this.target,"stream-stop",e.hitch(this,this._onStreamStop))),this.emit("module-ready",{id:"SyncBanners",module:this})},getSyncedElementBySize:function(t,e){var r=null;return n.forEach(this.config.elements,(function(n){n.width==t&&n.height==e&&(r=n)}),this),r},_onAdBreakCuePoint:function(t){var n=t.data.adBreakData,r=n.url;if(n.isVastInStream)this._cleanAdVastListeners(),this.vastProcessCompleteListener=i(this.target,"vast-process-complete",e.hitch(this,this._onVastProcessComplete)),this.vastErrorListener=i(this.target,"ad-playback-error",e.hitch(this,this._onVastAdPlaybackError));else if(r&&r.length>1&&-1!=r.indexOf("|")){var o=r.split("|")[1],a=r.split("|")[0];o&&o.length>1&&null!=this.getSyncedElementBySize(300,250)&&(this.emit("ad-break-synced-element",{type:this.LEGACY,id:this.getSyncedElementBySize(300,250).id,url:o}),this._loadElementIframe(this.getSyncedElementBySize(300,250).id,o,300,250)),a&&a.length>1&&null!=this.getSyncedElementBySize(728,90)&&(this.emit("ad-break-synced-element",{type:this.LEGACY,id:this.getSyncedElementBySize(728,90).id,url:a}),this._loadElementIframe(this.getSyncedElementBySize(728,90).id,a,728,90))}},_onAdBreakCuePointComplete:function(t){this.config.keepElementsVisible||this._hideElements()},_onStreamStop:function(){this._hideElements()},_hideElements:function(){var t=this.getSyncedElementBySize(300,250);null!=t&&null!=r.byId(t.id,document)&&o.empty(r.byId(t.id,document));var e=this.getSyncedElementBySize(728,90);null!=e&&null!=r.byId(e.id,document)&&o.empty(r.byId(e.id,document))},_loadElementIframe:function(t,e,n,i){var a=r.byId(t,document);null!=a&&(o.empty(a),o.create("iframe",{src:e,width:n,height:i,scrolling:"no",frameborder:0,marginheight:0,marginwidth:0,allowtransparency:!0,style:{margin:0,padding:0}},a))},_showVastCompanions:function(t){this._cleanAdVastListeners();var e=this._filterCompanionAds(t.data.companions);e&&e.length&&n.forEach(e,(function(t,n){var i=this.getSyncedElementBySize(t.width,t.height);null!=i&&null!=r.byId(i.id,document)&&(this.emit("ad-break-synced-element",{type:this.VAST,id:i.id,data:e[n]}),this.companions.loadVASTCompanionAd(i.id,e[n]))}),this)},_onVastProcessComplete:function(t){this._showVastCompanions(t)},_onVastCompanionsReady:function(t){this._showVastCompanions(t)},_onVastAdPlaybackError:function(t){console.error("syncBanners::_onVastAdPlaybackError"),console.error(t),this._cleanAdVastListeners()},_cleanAdVastListeners:function(){this.vastProcessCompleteListener&&this.vastProcessCompleteListener.remove(),this.vastErrorListener&&this.vastErrorListener.remove()},_filterCompanionAds:function(t){if(!t||!t.length)return t;var e=[],r=[];return n.forEach(this._vastCompanionPriority,(function(i){n.forEach(t,(function(t){var o=t.width+t.height;t.resourceType.name==i&&n.indexOf(r,o)<0&&(e.push(t),r.push(o))}),this)}),this),e}})}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(1),n(2),n(12),n(7),n(11)],void 0===(i=function(t,e,n,r,i){return t([n],{constructor:function(t,e){this.inherited(arguments)},start:function(){this.emit("module-ready",{id:"TargetSpot",module:this})},embed:function(t,n,o,a){var s=i.create("div",{id:"tsWrapper"},r.byId(t,document));window.ts_ready=e.hitch(this,this._tsReady);try{window.ts_swf_embed(s.id,this._getComponentSettings(n,o,a))}catch(t){this.emit("module-error",{id:"TargetSpot",error:"Error in targetSpot::embed: "+t.message})}},_getComponentSettings:function(t,e,n){return{w:300,h:250,prl:n,pageDomain:"player.tritondigital.com",htmlBanner:0,s:t,v:e}},playAd:function(t){window.ts_streamEvent({eventType:"playAd",eventDuration:t})},playPreroll:function(){window.ts_streamEvent({eventType:"tsPlayPreroll"})},interruptAd:function(){window.ts_streamEvent({eventType:"interruptAd"})},setStationId:function(t){window.ts_setStation({stationId:t})},setVolume:function(t){window.ts_setVolume({volume:t})},ts_setTargeting:function(t,e){window.ts_setTargeting({eventType:t,eventData:e})},_tsReady:function(){window.ts_mutePlayer=e.hitch(this,this._ts_mutePlayer),window.ts_unmutePlayer=e.hitch(this,this._ts_unmutePlayer),window.ts_noAds=e.hitch(this,this._ts_noAds),window.ts_noPreRoll=e.hitch(this,this._ts_noPreRoll),window.ts_adStarted=e.hitch(this,this._ts_adStarted),window.ts_adFinished=e.hitch(this,this._ts_adFinished),this.emit("targetspot-ready")},_ts_mutePlayer:function(t){this.emit("targetspot-mute")},_ts_unmutePlayer:function(){this.emit("targetspot-unmute")},_ts_noAds:function(){this.emit("targetspot-no-ads")},_ts_noPreRoll:function(){this.emit("targetspot-no-preroll")},_ts_adStarted:function(t){this.emit("targetspot-ad-started")},_ts_adFinished:function(t){this.emit("targetspot-ad-finished")}})}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i,o=n(109),a=n(15);r=[n(1),n(2),n(14),n(12)],void 0===(i=function(t,e,n,r){return t([r],{constructor:function(t,e){this.inherited(arguments),this.see=null,this.seeRegApi=null,this.seeMetaApi=null,this.tenantId=t.tenantId,this.seeApiUrl=t.seeApiUrl,this.platform=new a(t.platformId)},start:function(){this.emit("module-ready",{id:"UserRegistration",module:this})},init:function(){var t=(null!=this.seeApiUrl?this.seeApiUrl:this.platform.endpoint.see).replace("{tenantId}",this.tenantId),r=new n;o.js(t,(function(){r.resolve()}));var i=e.hitch(this,this._seeApiLoaded),a=e.hitch(this,this._seeApiError);r.then((function(){window._See.bindEvent("RegApiReady",i)}),(function(t){a()}),(function(t){}))},_seeApiLoaded:function(){this.see=window._See,this.seeRegApi=window._See?window._See.regApi:void 0,this.seeMetaApi=window._See?window._See.metaApi:void 0,this.see.source="StreamingPlayer",null!=this.see?this.see.bindOrFireEvent("metaApiReady",e.hitch(this,(function(){this.emit("see-api-loaded"),this.isLoggedIn()&&this.emit("user-logged-in")}))):this._seeApiError()},_seeApiError:function(){this.emit("see-api-error")},login:function(t){if(null!=this.seeRegApi)switch(t.method){case"Userpwd":this.seeRegApi.login(t.username,t.password,t.persist,e.hitch(this,this._onLoginHandler));break;case"Facebook":this.seeRegApi.loginFacebook(e.hitch(this,this._onLoginHandler));break;case"Google":this.seeRegApi.loginGoogle(e.hitch(this,this._onLoginHandler))}else this.emit("see-regapi-not-ready")},connectSocial:function(t){if(null!=this.seeRegApi)switch(t){case"Facebook":this.seeRegApi.loginFacebook(e.hitch(this,this._onConnectSocialHandler));break;case"Google":this.seeRegApi.loginGoogle(e.hitch(this,this._onConnectSocialHandler))}else this.emit("see-regapi-not-ready")},removeSocial:function(t){if(null!=this.seeRegApi)switch(t){case"Facebook":this.seeRegApi.removeSocial("facebook",e.hitch(this,this._onRemoveSocialHandler));break;case"Google":this.seeRegApi.removeSocial("google",e.hitch(this,this._onRemoveSocialHandler))}else this.emit("see-regapi-not-ready")},isLoggedIn:function(){return this.see.config.user.is_loggedin},logout:function(){return null==this.seeRegApi?void this.emit("see-regapi-not-ready"):void this.seeRegApi.logout(e.hitch(this,this._onLogoutHandler))},forgotPassword:function(t,n){return null==this.seeRegApi?void this.emit("see-regapi-not-ready"):void this.seeRegApi.forgotPassword(t,e.hitch(this,this._onForgotPasswordHandler),n)},resetPassword:function(t,n){return null==this.seeRegApi?void this.emit("see-regapi-not-ready"):void this.seeRegApi.resetPassword(t,n,e.hitch(this,this._onResetPasswordHandler))},getUserDetails:function(t){return null==this.seeRegApi?void this.emit("see-regapi-not-ready"):void this.seeRegApi.getUserDetails(e.hitch(this,this._onGetUserDetailsHandler),t)},registerFields:function(){return null==this.seeRegApi?void this.emit("see-regapi-not-ready"):void this.seeRegApi.registerFields(e.hitch(this,this._onRegisterFieldsHandler))},registerUser:function(t,n){return null==this.seeRegApi?void this.emit("see-regapi-not-ready"):void this.seeRegApi.registerUser(t,n,e.hitch(this,this._onRegisterUserHandler))},updateUser:function(t){return null==this.seeRegApi?void this.emit("see-regapi-not-ready"):void this.seeRegApi.updateUser(t,e.hitch(this,this._onUpdateUserHandler))},completeRegisterUser:function(t){return null==this.seeRegApi?void this.emit("see-regapi-not-ready"):void this.seeRegApi.completeRegister(t,e.hitch(this,this._onLoginHandler))},setLanguage:function(t){this.see.setLanguage(t,e.hitch(this,this._onSetLanguageHandler))},getStatusLevel:function(t,n){return null==this.seeRegApi?void this.emit("see-regapi-not-ready"):void this.seeRegApi.getStatusLevel(t,n,e.hitch(this,this._onGetStatusLevel))},getLadderStatusLevels:function(t){return null==this.seeRegApi?void this.emit("see-regapi-not-ready"):void this.seeRegApi.getLadderStatusLevels(t,e.hitch(this,this._onGetLadderStatusLevels))},metaSet:function(t,n,r){return this.seeMetaApi?((r="object"==_typeof(r)?r:{}).callback=e.hitch(this,this._onMetaSetHandler),void this.seeMetaApi.set(t,n,r)):void this.emit("see-metaapi-not-ready")},metaGet:function(t,n){return this.seeMetaApi?((n="object"==_typeof(n)?n:{}).callback=e.hitch(this,this._onMetaGetHandler),void this.seeMetaApi.get(t,n)):void this.emit("see-metaapi-not-ready")},metaUpdate:function(t,n){if(this.seeMetaApi){var r={callback:e.hitch(this,this._onMetaUpdateHandler)};this.seeMetaApi.update(t,n,r)}else this.emit("see-metaapi-not-ready")},metaDelete:function(t){if(this.seeMetaApi){var n={callback:e.hitch(this,this._onMetaDeleteHandler)};this.seeMetaApi.del(t,n)}else this.emit("see-metaapi-not-ready")},metaClear:function(t){if(this.seeMetaApi){var n={callback:e.hitch(this,this._onMetaClearHandler)};this.seeMetaApi.clear(t,n)}else this.emit("see-metaapi-not-ready")},metaList:function(t,n){return this.seeMetaApi?((n="object"==_typeof(n)?n:{}).callback=e.hitch(this,this._onMetaListHandler),void this.seeMetaApi.list(t,n)):void this.emit("see-metaapi-not-ready")},triggerEvent:function(t){return this.see?void this.see.triggerEvent(t):void this.emit("see-not-ready")},bindEvent:function(t,e,n){return this.see?void this.see.bindEvent(t,e,n):void this.emit("see-not-ready")},bindOrFireEvent:function(t,e,n){return this.see?void this.see.bindOrFireEvent(t,e,n):void this.emit("see-not-ready")},cookieTest:function(){return this.see?(callback=e.hitch(this,this._onCookieTest),void this.see.cookieTest(callback)):void this.emit("see-not-ready")},isGamesEnabled:function(){return this.see?this.see.config.tenant.playerShowGames:(this.emit("see-not-ready"),!1)},getUserConfig:function(){return this.see?this.see.config.user:(this.emit("see-not-ready"),!1)},getConfig:function(){return this.see?this.see.config:(this.emit("see-not-ready"),!1)},initWidgets:function(t){return this.see?void this.see.initWidgets(t):(this.emit("see-not-ready"),!1)},_onLoginHandler:function(t){switch(t.status){case"PASS":this.emit("user-logged-in",t.context);break;case"FAIL":this.emit("user-login-error",t.context)}},_onConnectSocialHandler:function(t){switch(t.status){case"PASS":this.emit("social-connect",t.context);break;case"FAIL":this.emit("social-connect-error",t.context)}},_onRemoveSocialHandler:function(t){switch(t.status){case"PASS":this.emit("social-remove",t.context);break;case"FAIL":this.emit("social-remove-error",t.context)}},_onLogoutHandler:function(t){switch(t.status){case"PASS":this.emit("user-logged-out",t.context);break;case"FAIL":this.emit("user-logout-error",t.context)}},_onForgotPasswordHandler:function(t){switch(t.status){case"PASS":this.emit("forgot-password",t.context);break;case"FAIL":this.emit("forgot-password-error",t.context)}},_onResetPasswordHandler:function(t){switch(t.status){case"PASS":this.emit("reset-password",t.context);break;case"FAIL":this.emit("reset-password-error",t.context)}},_onGetUserDetailsHandler:function(t){switch(t.status){case"PASS":this.emit("user-details",t.context);break;case"FAIL":this.emit("user-details-error",t.context)}},_onRegisterFieldsHandler:function(t){switch(t.status){case"PASS":this.emit("register-fields",t.context);break;case"FAIL":this.emit("register-fields-error",t.context)}},_onRegisterUserHandler:function(t){switch(t.status){case"PASS":this.emit("register-user",t.context);break;case"FAIL":this.emit("register-user-error",t.context)}},_onUpdateUserHandler:function(t){switch(t.status){case"PASS":this.emit("user-update",t.context);break;case"FAIL":this.emit("user-update-error",t.context)}},_onSetLanguageHandler:function(t){switch(t.status){case"PASS":this.emit("language-change-success",t.context);break;case"FAIL":this.emit("language-change-error",t.context)}},_onGetStatusLevel:function(t){switch(t.status){case"PASS":this.emit("user-status",t.context);break;case"FAIL":this.emit("user-status-error",t.context)}},_onGetLadderStatusLevels:function(t){switch(t.status){case"PASS":this.emit("status-levels",t.context);break;case"FAIL":this.emit("status-levels-error",t.context)}},_onMetaSetHandler:function(t){switch(t.status){case"PASS":this.emit("meta-set",t.context);break;case"FAIL":this.emit("meta-set-error",t.context)}},_onMetaGetHandler:function(t){switch(t.status){case"PASS":this.emit("meta-get",t.context);break;case"FAIL":this.emit("meta-get-error",t.context)}},_onMetaUpdateHandler:function(t){switch(t.status){case"PASS":this.emit("meta-update",t.context);break;case"FAIL":this.emit("meta-update-error",t.context)}},_onMetaDeleteHandler:function(t){switch(t.status){case"PASS":this.emit("meta-delete",t.context);break;case"FAIL":this.emit("meta-delete-error",t.context)}},_onMetaClearHandler:function(t){switch(t.status){case"PASS":this.emit("meta-clear",t.context);break;case"FAIL":this.emit("meta-clear-error",t.context)}},_onMetaListHandler:function(t){switch(t.status){case"PASS":this.emit("meta-list",t.context);break;case"FAIL":this.emit("meta-list-error",t.context)}},_onCookieTest:function(t){switch(t.status){case"PASS":this.emit("cookie-test-pass");break;case"FAIL":this.emit("cookie-test-fail")}}})}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i,o=n(22);r=[n(1),n(2),n,n(14),n(3),n(11),n(7),n(29),n(105),n(10),n(121),n(123),n(122)],void 0===(i=function(t,e,n,r,i,a,s,u,l,c,d,h,f){return t([],{AD_PLAYBACK_START:"ad-playback-start",AD_PLAYBACK_COMPLETE:"ad-playback-complete",AD_PLAYBACK_DESTROY:"ad-playback-destroy",AD_PLAYBACK_ERROR:"ad-playback-error",AD_COUNTDOWN:"ad-countdown",AD_QUARTILE:"ad-quartile",VAST_COMPANIONS_READY:"vast-companions-ready",VAST_COMPANIONS_VPAID:"vast-companions-vpaid",AD_BLOCKER_DETECTED:"ad-blocker-detected",STREAMING_GUIDE_VERSION:"1.5.1",constructor:function(t,n,r,o){this.target=r,this.config=o,this.playerNode=s.byId(this.config.playerId,document),this.tech=t,this.techType=n,this.adModules=[],this.currentAdModule=null,this.xhrProv=new c,o.adBlockerDetected||(this.imaSdkModule=new d(r,o),this.VASTAdModule=new h(r,o),this.mediaAdModule=new f(r,o)),this.inherited(arguments),this._adParser=null,this._adSource=null,this._adFormat=null,i(this.target,"ad-playback-start",e.hitch(this,this._onAdPlaybackStart)),i(this.target,"ad-playback-error",e.hitch(this,this._onAdPlaybackError))},playAd:function(t,e){if(!0!==e.adBreak&&o.init(),this.config.adBlockerDetected)1!=e.adBreak&&this.target.emit(this.AD_BLOCKER_DETECTED,{data:{message:"playAd function has been disabled because Ad Blocker is activated"}});else if(this.destroyAd(!1),t==u.TRITON_AD_PLATFORM&&(t=u.VAST_AD,e=this._convertTAPConfigToVast(e)),e.url&&(e.url=this._generateUrl(e)),null!=e.url||null!=e.mediaUrl||null!=e.rawXML||null!=e.sid)if(e.url?(e.fallbackToVastPlugin=e.url.toLowerCase().indexOf("daast")>-1||e.url.toLowerCase().indexOf("/ondemand/ars")>-1,this._adFormat=e.url.toLowerCase().indexOf("daast")>-1?"DAAST":"VAST",this._adSource=e.url.toLowerCase().indexOf("daast")>-1?"TAP":e.sid?"CM3":"Others"):e.rawXML&&(e.fallbackToVastPlugin=e.rawXML.toLowerCase().indexOf("daast")>-1,this._adFormat=e.rawXML.toLowerCase().indexOf("daast")>-1?"DAAST":"VAST",this._adSource=e.rawXML.toLowerCase().indexOf("daast")>-1?"TAP":e.sid?"CM3":"Others"),"Flash"!=this.techType)switch(this.tech.prepare("adModule"),t){case u.VAST_AD:e.adBreak||e.fallbackToVastPlugin?(this._initAdModule(this.VASTAdModule,e),this._adParser="VASTModule"):(this._initAdModule(this.imaSdkModule,e),this._adParser="IMA");break;case u.MEDIA_AD:this._initAdModule(this.mediaAdModule,e),this._adParser="Direct";break;default:this.target.emit(this.AD_PLAYBACK_COMPLETE,{data:{type:null,error:!1}})}else this.tech.playAd(t,e);else this.target.emit(this.AD_PLAYBACK_ERROR,{data:{type:null,error:!0}})},skipAd:function(){return"Flash"==this.techType?void this.tech.skipAd():void(this.currentAdModule&&this.currentAdModule.skipAd())},destroyAd:function(t){return"Flash"==this.techType?void this.tech.destroyAd(t):void(this.currentAdModule&&this.currentAdModule.destroyAd(t))},_initAdModule:function(t,n){this._removeListeners(),this.currentAdModule=t,this._mediaAdReadyHandler=i(this.target,this.currentAdModule.AD_MODULE_MEDIA_READY,e.hitch(this,this._onMediaAdReady)),this._mediaAdEmptyHandler=i(this.target,this.currentAdModule.AD_MODULE_MEDIA_EMPTY,e.hitch(this,this._onMediaAdEmpty)),this._adCountdownHandler=i(this.target,this.currentAdModule.AD_MODULE_COUNTDOWN,e.hitch(this,this._onAdModuleCountdown)),this._adModulePlaybackStartHandler=i(this.target,this.currentAdModule.AD_MODULE_PLAYBACK_START,e.hitch(this,this._onAdModulePlaybackStart)),this._adModulePlaybackCompleteHandler=i(this.target,this.currentAdModule.AD_MODULE_PLAYBACK_COMPLETE,e.hitch(this,this._onAdModulePlaybackComplete)),this._adModulePlaybackDestroyHandler=i(this.target,this.currentAdModule.AD_MODULE_PLAYBACK_DESTROY,e.hitch(this,this._onAdModulePlaybackDestroy)),this._adModulePlaybackErrorHandler=i(this.target,this.currentAdModule.AD_MODULE_PLAYBACK_ERROR,e.hitch(this,this._onAdModulePlaybackError)),this._adModuleQuartileHandler=i(this.target,this.currentAdModule.AD_MODULE_QUARTILE,e.hitch(this,this._onAdModuleQuartile)),this._adModuleCompanionsHandler=i(this.target,this.currentAdModule.AD_MODULE_COMPANIONS,e.hitch(this,this._onAdModuleCompanions)),this._adModuleClickTrackingHandler=i(this.target,this.currentAdModule.AD_MODULE_CLICK_TRACKING,e.hitch(this,this._onAdModuleClickTracking)),this._adModuleVastEmptyHandler=i(this.target,this.currentAdModule.AD_MODULE_VAST_EMPTY,e.hitch(this,this._onAdError)),this._adModuleVastErrorHandler=i(this.target,this.currentAdModule.AD_MODULE_VAST_ERROR,e.hitch(this,this._onAdError)),this.currentAdModule.init(n),this.currentAdModule.initAdListeners(this.tech.html5OnDemand)},_onAdPlaybackStart:function(t){},_onAdPlaybackError:function(t){},_onAdModuleCompanions:function(t){this.currentAdModule.emit(this.VAST_COMPANIONS_READY,t.data)},_onAdModulePlaybackStart:function(t){this._callImpressions(),this.currentAdModule.emit(this.AD_PLAYBACK_START,{type:t.data.type})},_onAdModulePlaybackComplete:function(t){this._removeListeners(),this.currentAdModule.emit(this.AD_PLAYBACK_COMPLETE,{type:t.data.type})},_onAdModulePlaybackDestroy:function(t){this._removeListeners(),this.currentAdModule.emit(this.AD_PLAYBACK_DESTROY)},_onAdModulePlaybackError:function(t){this._removeListeners(),this.currentAdModule.emit(this.AD_PLAYBACK_ERROR,{type:t.data.type})},_onAdModuleCountdown:function(t){this.currentAdModule.emit(this.AD_COUNTDOWN,{countDown:t.data.countDown})},_onAdModuleClickTracking:function(t){if(null!=t&&null!=t.data){var e=null!=t.data.clickThrough?t.data.clickThrough:null,n=null!=t.data.clickTrackings?t.data.clickTrackings:null,r=/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/.test(e);if(null!=e&&1==r&&window.open(e),n)for(var i=n.length,o=0;o<i;o++)this.xhrProv.request(n[o],null,{method:"GET",handleAs:"text",headers:{"X-Requested-With":null,"Content-Type":"text/plain; charset=utf-8"}})}},_onAdModuleQuartile:function(t){if(this.currentAdModule.getVastInlineAd())for(var e=this.currentAdModule.getVastInlineAd().getLinearTrackingEvents(this.currentAdModule._defaultSequence),n=e.length,r=0;r<n;r++)if(e[r].type==t.adQuartile)for(var i=e[r].urls,o=i.length,a=0;a<o;a++)this.xhrProv.request(i[a],null,{method:"GET",handleAs:"text",headers:{"X-Requested-With":null,"Content-Type":"text/plain; charset=utf-8"}})},_onMediaAdReady:function(t){var e=t.data,n=this._getSupportedMediaFile(e);null!=n?this.tech.html5OnDemand.playAd({adServerType:e.adServerType,mediaUrl:n.url,mediaFormat:n.format,clickThrough:e.clickThrough,clickTrackings:e.clickTrackings}):this.target.emit(this.AD_PLAYBACK_ERROR,{data:{type:e.adServerType,error:!1}})},_onMediaAdEmpty:function(t){var e=t.data;this._removeListeners(),this.currentAdModule.emit(this.AD_PLAYBACK_COMPLETE,{type:e.adServerType,error:!1})},_onAdError:function(t){var e=t.data;this._removeListeners(),this.currentAdModule.emit(this.AD_PLAYBACK_ERROR,{type:e.adServerType,error:!1})},_removeListeners:function(){this._mediaAdReadyHandler&&this._mediaAdReadyHandler.remove(),this._mediaAdEmptyHandler&&this._mediaAdEmptyHandler.remove(),this._adCountdownHandler&&this._adCountdownHandler.remove(),this._adModulePlaybackStartHandler&&this._adModulePlaybackStartHandler.remove(),this._adModulePlaybackCompleteHandler&&this._adModulePlaybackCompleteHandler.remove(),this._adModulePlaybackErrorHandler&&this._adModulePlaybackErrorHandler.remove(),this._adModuleQuartileHandler&&this._adModuleQuartileHandler.remove(),this._adModuleClickTrackingHandler&&this._adModuleClickTrackingHandler.remove(),this._adModuleVastEmptyHandler&&this._adModuleVastEmptyHandler.remove(),this._adModuleVastErrorHandler&&this._adModuleVastErrorHandler.remove(),this._adModuleVastProcessCompleteHandler&&this._adModuleVastProcessCompleteHandler.remove(),this._adModuleCompanionsHandler&&this._adModuleCompanionsHandler.remove(),this._adModulePlaybackDestroyHandler&&this._adModulePlaybackDestroyHandler.remove()},_callImpressions:function(){if(this.currentAdModule.getVastInlineAd()){var t=this.currentAdModule.getVastInlineAd().impressions;if(t){var e=t.length;if(0==e)return;for(var n=0;n<e;n++)this.xhrProv.request(t[n],null,{method:"GET",handleAs:"text",headers:{"X-Requested-With":null,"Content-Type":"text/plain; charset=utf-8"}})}}},_getAdModuleById:function(t,e){var n=this.adModules.length;if(0==n){var r=new t(this.target,this.config);return this.adModules.push({moduleId:e,module:r}),r}for(var i=0;i<n;i++)if(this.adModules[i].moduleId==e)return this.adModules[i].module;return r=new t(this.target,this.config),this.adModules.push({moduleId:e,module:r}),r},_getSupportedMediaFile:function(t){if(null==t)return null;switch(t.adServerType){case u.VAST_AD:case u.MEDIA_AD:if(null==t.mediaFiles||0==t.mediaFiles.length)return null;for(var e=t.mediaFiles,n=e.length,r=0;r<n;r++){if(this._isTypeSupported("video","video/mp4;"),("audio/aac"==e[r].type||"aac"==e[r].url.split(".").pop())&&this._isTypeSupported("audio","audio/aac;"))return{url:e[r].url,format:"audio"};if(("audio/mp4"==e[r].type||"m4a"==e[r].url.split(".").pop())&&this._isTypeSupported("audio","audio/mp4;"))return{url:e[r].url,format:"audio"};if(("audio/mpeg"==e[r].type||"mp3"==e[r].url.split(".").pop())&&this._isTypeSupported("audio","audio/mpeg;"))return{url:e[r].url,format:"audio"};if(("audio/wav"==e[r].type||"wav"==e[r].url.split(".").pop())&&this._isTypeSupported("audio","audio/wav;"))return{url:e[r].url,format:"audio"};if(("audio/ogg"==e[r].type||"oga"==e[r].url.split(".").pop()||"ogg"==e[r].url.split(".").pop())&&this._isTypeSupported("audio","audio/ogg;"))return{url:e[r].url,format:"audio"};if("audio/webm"==e[r].type&&this._isTypeSupported("audio","audio/webm;"))return{url:e[r].url,format:"audio"};if(("video/mp4"==e[r].type||"mp4"==e[r].url.split(".").pop()||"m4v"==e[r].url.split(".").pop())&&this._isTypeSupported("video","video/mp4;"))return{url:e[r].url,format:"video"};if(("video/ogg"==e[r].type||"ogv"==e[r].url.split(".").pop())&&this._isTypeSupported("video","video/ogg;"))return{url:e[r].url,format:"video"};if(("video/webm"==e[r].type||"webm"==e[r].url.split(".").pop())&&this._isTypeSupported("video","video/webm;"))return{url:e[r].url,format:"video"}}return null;default:return null}},_isTypeSupported:function(t,e){var n=s.byId("tdplayer_od_videonode",document);return!!n.canPlayType&&n.canPlayType(e)},_convertTAPConfigToVast:function(t){var e=new l;return t.url=e.getVastUri(t),t},_generateUrl:function(t){if(null!=t&&null!=t.url){if(t.url.indexOf("/ondemand/ars")>-1&&null!=t.trackingParameters){var n;null!=t.trackingParameters.tdsdk&&(n=t.url.indexOf("?")>-1?"&":"?",t.url+=n+"tdsdk="+t.trackingParameters.tdsdk),null!=t.trackingParameters.position&&null!=t.trackingParameters.position.coords.latitude&&null!=t.trackingParameters.position.coords&&null!=t.trackingParameters.position.coords.longitude&&(n=t.url.indexOf("?")>-1?"&":"?",t.url+=n+"lat="+parseFloat(t.trackingParameters.position.coords.latitude.toFixed(1))+"&long="+parseFloat(t.trackingParameters.position.coords.longitude.toFixed(1))),null!=t.trackingParameters.banners&&(n=t.url.indexOf("?")>-1?"&":"?",t.url+=n+"banners="+t.trackingParameters.banners);var r=e.clone(t.trackingParameters);for(var i in delete r.tdsdk,delete r.position,delete r.banners,delete r.pname,delete r.pversion,r)n=t.url.indexOf("?")>-1?"&":"?",t.url+=n+i+"="+encodeURIComponent(r[i]);return t.url+=n+"version="+this.STREAMING_GUIDE_VERSION,t.url}return t.url}}})}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(1),n(2),n(40),n(59),n(29),n(4)],void 0===(i=function(t,e,n,r,i,o){return t([n],{VAST_COMPANIONS_PRIORITY:["static","iframe","html"],IMA_LIBRARY_URL:"//imasdk.googleapis.com/js/sdkloader/ima3.js",_videoContent:null,_countdownTimer:null,_adDisplayContainer:null,_currentAd:null,_adsLoader:null,_adsRequest:null,_adsManager:null,_currentAdConfig:null,constructor:function(t,e){this.config=e,this._imaSdkLoaded=!1},init:function(t){this._destroy(),this._currentAdConfig=t,this.createAdDisplayContainer()},destroyAd:function(t){this._destroy(t),0!=t&&this.emit(this.AD_MODULE_PLAYBACK_DESTROY)},skipAd:function(){this._adsManager&&this._adsManager.getAdSkippableState()?this._adsManager.skip():this.emit(this.AD_MODULE_SKIPPABLE_STATE,{state:this._adsManager.getAdSkippableState()})},createAdDisplayContainer:function(){this._videoContent=document.getElementById("tdplayer_od_videonode"),this._adDisplayContainer||(this._adDisplayContainer=new google.ima.AdDisplayContainer(document.getElementById(this.config.playerId),this._videoContent),this._adDisplayContainer.initialize()),this.requestAds()},requestAds:function(){if(this._adsLoader=new google.ima.AdsLoader(this._adDisplayContainer),this._adsLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,e.hitch(this,this._onAdsManagerLoaded),!1),this._adsLoader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,e.hitch(this,this._onAdError),!1),this._adsRequest=new google.ima.AdsRequest,void 0!==this._currentAdConfig.url)this._adsRequest.adTagUrl=encodeURI(this._currentAdConfig.url+(null==this.config.allowPersonalisedAds||this.config.allowPersonalisedAds?"":"&npa=1"));else if(void 0!==this._currentAdConfig.sid){var t=new r,n=t.getVastUri(t.ENDPOINT,this._currentAdConfig.sid,this._currentAdConfig.mediaformat);this._adsRequest.adTagUrl=encodeURI(n)}else void 0!==this._currentAdConfig.rawXML&&(this._adsRequest.adsResponse=this._currentAdConfig.rawXML);this._adsLoader.requestAds(this._adsRequest)},_onAdsManagerLoaded:function(t){var n=this,r=new google.ima.AdsRenderingSettings;if(this._adsManager=t.getAdsManager(this._videoContent,r),void 0!==this._adsManager){this._adsManager.addEventListener(google.ima.AdEvent.Type.STARTED,e.hitch(this,this._onCompanionsReady)),this._adsManager.addEventListener(google.ima.AdEvent.Type.STARTED,e.hitch(this,this._onStarted)),this._adsManager.addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,e.hitch(this,this._onAllAdsCompleted)),this._adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,e.hitch(this,this._onContentResumeRequested)),this._adsManager.addEventListener(google.ima.AdEvent.Type.RESUMED,e.hitch(this,this._onResumed)),this._adsManager.addEventListener(google.ima.AdEvent.Type.PAUSED,e.hitch(this,this._onAdPaused)),this._adsManager.addEventListener(google.ima.AdEvent.Type.STARTED,e.hitch(this,this._onQuartileEvent)),this._adsManager.addEventListener(google.ima.AdEvent.Type.FIRST_QUARTILE,e.hitch(this,this._onQuartileEvent)),this._adsManager.addEventListener(google.ima.AdEvent.Type.MIDPOINT,e.hitch(this,this._onQuartileEvent)),this._adsManager.addEventListener(google.ima.AdEvent.Type.THIRD_QUARTILE,e.hitch(this,this._onQuartileEvent)),this._adsManager.addEventListener(google.ima.AdEvent.Type.COMPLETED,e.hitch(this,this._onQuartileEvent)),this._adsManager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,e.hitch(this,this._onAdError));var i=document.getElementById(this.config.playerId).offsetWidth,o=document.getElementById(n.config.playerId).offsetHeight;this.resizeHandler=setInterval((function(){i!=document.getElementById(n.config.playerId).offsetWidth&&(i=document.getElementById(n.config.playerId).offsetWidth,o=document.getElementById(n.config.playerId).offsetHeight,n._adsManager.resize(i,o,google.ima.ViewMode.NORMAL),n._resizeVideoTag(i,o))}),250),this._resizeVideoTag(i,o);try{var a=document.getElementById(this.config.playerId).offsetWidth,s=document.getElementById(this.config.playerId).offsetHeight;this._adsManager.init(a,s,google.ima.ViewMode.NORMAL),this._adsManager.start()}catch(t){}}},_resizeVideoTag:function(t,e){var n=document.getElementById("tdplayer_od_videonode");null!=o("ios")&&n?(n.width=t,n.height=e):n&&(n.style.width="0px",n.style.height="0px")},_onAdPaused:function(){this._removeCountdownTimer(),this._adsManager.resume()},_onResumed:function(t){var e=this;this._adsManager&&(this._countdownTimer=setInterval((function(){var t=parseInt(e._adsManager.getRemainingTime());e._onRemainingTimeChanged(t)}),250))},_onStarted:function(t){var e=this;this._removeCountdownTimer(),this._currentAd=t.getAd(),this._countdownTimer=setInterval((function(){var t=parseInt(e._adsManager.getRemainingTime());e._onRemainingTimeChanged(t)}),250),this.emit(this.AD_MODULE_PLAYBACK_START,{type:i.VAST_AD})},_onAllAdsCompleted:function(t){this._destroy(),this.emit(this.AD_MODULE_PLAYBACK_COMPLETE,{type:i.VAST_AD})},_onRemainingTimeChanged:function(t){this.emit(this.AD_MODULE_COUNTDOWN,{countDown:t})},_onContentResumeRequested:function(t){this._removeCountdownTimer()},_removeCountdownTimer:function(){this._countdownTimer&&clearInterval(this._countdownTimer)},_onAdError:function(t){this.emit(this.AD_MODULE_PLAYBACK_ERROR,{error:{message:t.getError().getMessage(),code:t.getError().getErrorCode()}}),this._destroy()},_onCompanionsReady:function(t){if(null!=this.config.companionAdSelectionSettings&&null!=this.config.companionAdSelectionSettings.elements){for(var e=new google.ima.CompanionAdSelectionSettings,n=void 0!==this.config.companionAdSelectionSettings.vastCompanionPriority?this.config.companionAdSelectionSettings.vastCompanionPriority:this.VAST_COMPANIONS_PRIORITY,r=[],i=0;i<this.config.companionAdSelectionSettings.elements.length;i++)for(var o=this.config.companionAdSelectionSettings.elements[i],a=0;a<n.length;a++){var s=n[a];switch(e.creativeType=google.ima.CompanionAdSelectionSettings.CreativeType.ALL,e.sizeCriteria=google.ima.CompanionAdSelectionSettings.SizeCriteria.SELECT_EXACT_MATCH,s){case"static":e.resourceType=google.ima.CompanionAdSelectionSettings.ResourceType.STATIC;break;case"html":e.resourceType=google.ima.CompanionAdSelectionSettings.ResourceType.HTML;break;case"iframe":e.resourceType=google.ima.CompanionAdSelectionSettings.ResourceType.IFRAME}var u=t.getAd().getCompanionAds(o.width,o.height,e);if(u.length>0){var l=new Object;l.width=o.width,l.height=o.height,l.content=u[0].getContent(),l.resourceType=new Object,l.resourceType.name=s,r.push(l);break}}r.length>0&&this.emit(this.AD_MODULE_COMPANIONS,{companions:r})}},_onQuartileEvent:function(t){switch(t.type){case google.ima.AdEvent.Type.STARTED:this.emit(this.AD_MODULE_QUARTILE,{adQuartile:this.adQuartile.getQuartileByIndex(0),error:!1});break;case google.ima.AdEvent.Type.FIRST_QUARTILE:this.emit(this.AD_MODULE_QUARTILE,{adQuartile:this.adQuartile.getQuartileByIndex(1),error:!1});break;case google.ima.AdEvent.Type.MIDPOINT:this.emit(this.AD_MODULE_QUARTILE,{adQuartile:this.adQuartile.getQuartileByIndex(2),error:!1});break;case google.ima.AdEvent.Type.THIRD_QUARTILE:this.emit(this.AD_MODULE_QUARTILE,{adQuartile:this.adQuartile.getQuartileByIndex(3),error:!1});break;case google.ima.AdEvent.Type.COMPLETED:this.emit(this.AD_MODULE_QUARTILE,{adQuartile:this.adQuartile.getQuartileByIndex(4),error:!1})}},_destroy:function(t){t&&(this._adDisplayContainer&&this._adDisplayContainer.destroy(),this._adsLoader&&this._adsLoader.destroy(),this._adsManager&&this._adsManager.destroy()),this.resizeHandler&&clearInterval(this.resizeHandler),this._resizeVideoTag(0,0),this._videoContent&&("function"==typeof this._videoContent.exitFullscreen?this._videoContent.exitFullscreen():"function"==typeof this._videoContent.webkitExitFullscreen?this._videoContent.webkitExitFullscreen():"function"==typeof this._videoContent.mozCancelFullScreen?this._videoContent.mozCancelFullScreen():"function"==typeof this._videoContent.msExitFullscreen&&this._videoContent.msExitFullscreen()),this._removeCountdownTimer()}})}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(1),n(2),n(40),n(29)],void 0===(i=function(t,e,n,r){return t([n],{constructor:function(t,e){this.target=t,this.config=e},init:function(t){this.inherited(arguments),null!=t.mediaUrl?this.playAdUrl(t):this.emit(this.AD_MODULE_MEDIA_EMPTY,{adServerType:r.MEDIA_AD})},playAdUrl:function(t){if(1==/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/.test(t.mediaUrl)){var e=null!=t.linkUrl?t.linkUrl:null;this.emit(this.AD_MODULE_MEDIA_READY,{adServerType:r.MEDIA_AD,mediaFiles:[{url:t.mediaUrl}],clickThrough:e,clickTrackings:null})}else this.emit(this.AD_MODULE_MEDIA_EMPTY,{adServerType:r.MEDIA_AD})}})}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i,o=n(16);r=[n(1),n(2),n(6),n(52),n(10),n(40),n(128),n(129),n(127),n(29),n(59)],void 0===(i=function(t,e,n,r,i,a,s,u,l,c,d){return t([a],{VAST_1_ROOT:"VideoAdServingTemplate",VAST_2_ROOT:"VAST",DAAST_ROOT:"DAAST",VERSION_1_0:"1.0",VERSION_2_0:"2.0",DAAST_VERSION_1_0:"DAAST_1.0",constructor:function(t,e){this.target=t,this._mediaAdBlankFiles=null,this._skipMediaAdPlayback=!1,this._adBreak=!1,this._defaultSequence=-1,this._vastWrapperAd=null,this._wrapperCachedData=null,this.vastParser=null,this.vastDocument=null,this.onPlaybackStartHandler=null,this.onQuartileReachedHandler=null,this.onClickTrackingElementClickedHandler=null,this.xhrProv=new i},init:function(t){this.inherited(arguments),this._adBreak=!!t.adBreak,this._skipMediaAdPlayback=null!=t.skipMediaAdPlayback&&t.skipMediaAdPlayback,this._defaultSequence=null!=t.sequence?t.sequence:-1,this.loadVast(t)},loadVast:function(t){if(null!=t.rawXML)this._parseVast(o.parse(t.rawXML).documentElement);else if(null!=t.url)this.setMediaAdBlankFiles(null),this.xhrProv.request(t.url,t.url,this._getRequestArgs(),e.hitch(this,this._onVastLoadComplete),e.hitch(this,this._onVastLoadError));else if(null!=t.sid){var n=new d,r=n.getVastUri(n.ENDPOINT,this.config.sid,t.mediaformat);this.setMediaAdBlankFiles(n.mediaAdBlankFiles),this.xhrProv.request(r,r,this._getRequestArgs(),e.hitch(this,this._onVastLoadComplete),e.hitch(this,this._onVastLoadError))}},setMediaAdBlankFiles:function(t){this._mediaAdBlankFiles=t},getVastInlineAd:function(){return this.vastDocument.vastAd.inlineAd},_onVastLoadComplete:function(t,e){this._parseVast(e)},_onVastLoadError:function(t,e){console.error("vastAdModule::_onVastLoadError - url ="+t+" - error="+e),null!=this._vastWrapperAd&&(null!=this._vastWrapperAd.error&&""!=this._vastWrapperAd.error&&this.xhrProv.request(this._vastWrapperAd.error,this._vastWrapperAd.error,this._getRequestArgs(),null,null),this._vastWrapperAd=null),0==this._adBreak&&this.emit(this.AD_MODULE_VAST_ERROR,{error:e})},_parseVast:function(t){if(this.vastDocument=null,this.vastParser=null,null!=t&&null!=t.nodeName){var e=this._getVersion(t.nodeName);if(this.vastParser=this._getVastParser(e),null!=this.vastParser&&(this.vastDocument=this.vastParser.parse(t)),null!=this.vastDocument)if(this._needToLoadVASTWrapper(this.vastDocument.vastAd))this._vastWrapperAd=this.vastDocument.vastAd.wrapperAd,this._cacheWrapperData(this._vastWrapperAd),this.loadVast({url:this.vastDocument.vastAd.wrapperAd.vastAdTagURL,skipMediaAdPlayback:this._skipMediaAdPlayback,sequence:this._defaultSequence});else{if(null!=this._vastWrapperAd&&(this.vastDocument.vastAd.inlineAd.addWrapperLinearTrackingEvents(this._wrapperCachedData.wrapperTrackingEvents),this.vastDocument.vastAd.inlineAd.addImpressions(this._wrapperCachedData.wrapperImpressions),this.vastDocument.vastAd.inlineAd.addWrapperLinearVideoClickTracking(this._wrapperCachedData.wrapperVideoClickTracking),this._vastWrapperAd=null,this._wrapperCachedData=null),this._vastWrapperAd=null,null!=this.vastDocument.vastAd.inlineAd.getCompanionAds(this._defaultSequence)&&this.vastDocument.vastAd.inlineAd.getCompanionAds(this._defaultSequence).length>0&&this.emit(this.AD_MODULE_COMPANIONS,{companions:this.vastDocument.vastAd.inlineAd.getCompanionAds(this._defaultSequence)}),1==this._skipMediaAdPlayback)return;var n=this._checkMediaAdBlankFiles(this.vastDocument.vastAd.inlineAd.getLinearMediaFiles(this._defaultSequence));if(null!=n){var r=this.vastDocument.vastAd.inlineAd.getLinearVideoClick(this._defaultSequence),i=null!=r?r.clickThrough:null,o=null!=r?r.clickTrackings:null;this.emit(this.AD_MODULE_MEDIA_READY,{adServerType:c.VAST_AD,mediaFiles:n,clickThrough:i,clickTrackings:o})}else this.emit(this.AD_MODULE_MEDIA_EMPTY,{adServerType:c.VAST_AD})}else this.emit(this.AD_MODULE_VAST_EMPTY,{adServerType:c.VAST_AD})}else this.emit(this.AD_MODULE_VAST_EMPTY,{adServerType:c.VAST_AD})},_getVersion:function(t){switch(t){case this.VAST_1_ROOT:return this.VERSION_1_0;case this.VAST_2_ROOT:return this.VERSION_2_0;case this.DAAST_ROOT:return this.DAAST_VERSION_1_0}return null},_cacheWrapperData:function(t){null==this._wrapperCachedData&&(this._wrapperCachedData={wrapperImpressions:[],wrapperTrackingEvents:[],wrapperVideoClickTracking:[]});var e=this._vastWrapperAd.getLinearTrackingEvents(this._defaultSequence);null!=e&&e.length>0&&(this._wrapperCachedData.wrapperTrackingEvents=this._wrapperCachedData.wrapperTrackingEvents.concat(e));var n=this._vastWrapperAd.impressions;null!=n&&n.length>0&&(this._wrapperCachedData.wrapperImpressions=this._wrapperCachedData.wrapperImpressions.concat(n));var r=this._vastWrapperAd.getLinearVideoClick(this._defaultSequence);null!=r&&r.clickTrackings.length>0&&(this._wrapperCachedData.wrapperVideoClickTracking=this._wrapperCachedData.wrapperVideoClickTracking.concat(r.clickTrackings))},_needToLoadVASTWrapper:function(t){return null!=t.wrapperAd&&null!=t.wrapperAd.vastAdTagURL},_getVastParser:function(t){switch(t){case this.VERSION_1_0:return null==this.vastParser&&(this.vastParser=new s(this.target)),this.vastParser;case this.VERSION_2_0:return null==this.vastParser&&(this.vastParser=new u(this.target)),this.vastParser;case this.DAAST_VERSION_1_0:return null==this.vastParser&&(this.vastParser=new l(this.target)),this.vastParser}return null},_checkMediaAdBlankFiles:function(t){if(null==t)return null;for(var e=[],n=t.length,r=0;r<n;r++)this._isMediaAdBlankFile(t[r].url)||e.push(t[r]);return e},_isMediaAdBlankFile:function(t){if(null==this._mediaAdBlankFiles||0==this._mediaAdBlankFiles.length)return!1;for(var e=t.substr(t.lastIndexOf("/")+1),n=this._mediaAdBlankFiles.length,r=0;r<n;r++)if(this._mediaAdBlankFiles[r]==e)return!0;return!1},_getRequestArgs:function(){return{handleAs:"xml",preventCache:!1,withCredentials:!0,headers:{"X-Requested-With":null,"Content-Type":"text/plain; charset=utf-8"}}}})}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(1),n(42)],void 0===(i=function(t,e){return t(e,{constructor:function(){this.logoTile=null,this.logoTitle=null,this.logoArtist=null,this.logoURL=null}})}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(1)],void 0===(i=function(t){return t([],{constructor:function(){this.trackingEvents=[],this.companionAds=[],this.nonLinearAds=[],this.video=null,this.inherited(arguments)},addWrapperLinearTrackingEvents:function(t){this.trackingEvents=this.trackingEvents.concat(t)},addWrapperLinearVideoClickTracking:function(t){null!=this.video&&(this.video.videoClick.clickTrackings=this.video.videoClick.clickTrackings.concat(t))},addImpression:function(t){this.impressions.push(t)},addImpressions:function(t){null!=t&&(this.impressions=this.impressions.concat(t))},getLinearTrackingEvents:function(t){return null==(t=t)&&(t=-1),this.trackingEvents},getCompanionAdUrl:function(t,e,n,r){var i=this.getCompanionAds(r);if(null==i)return null;for(var o=i.length,a=0;a<o;a++)if(1!=(i[a].width==t&&i[a].height==e)){if(null==n)return i[a];if(i[a].resourceType==n)return i[a]}return null},getCompanionAds:function(t){return null==(t=t)&&(t=-1),this.companionAds},getLinearMediaFiles:function(t){return null==(t=t)&&(t=-1),this.video.mediaFiles},getLinearMediaFileByIndex:function(t,e){return null==(e=e)&&(e=-1),null==(t=t)&&(t=0),null!=this.video&&null!=this.video.mediaFiles[t]?this.video.mediaFiles[t]:null},getLinearVideoClick:function(t){return null==(t=t)&&(t=-1),this.video.videoClick},getNonLinearAds:function(t){return null==(t=t)&&(t=-1),this.nonLinearAds},getLinearDuration:function(t){return null==(t=t)&&(t=-1),this.video.duration},addCompanionAd:function(t){this.companionAds.push(t)},addNonLinearAd:function(t){this.nonLinearAds.push(t)}})}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(1)],void 0===(i=function(t){return t([],{constructor:function(){this.duration=null,this.adID=null,this.videoClick=null,this.mediaFiles=[]}})}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i,o=n(16);r=[n(1),n(50),n(49),n(43),n(41),n(66),n(48),n(65),n(67),n(68),n(124),n(46),n(47),n(44),n(45)],void 0===(i=function(t,e,n,r,i,a,s,u,l,c,d,h,f,p,g){return t([e],{AD:"Ad",IMPRESSION:"Impression",DAAST_AD_TAG_URI:"DAASTAdTagURI",CREATIVES:"Creatives",CREATIVE:"Creative",constructor:function(){this.vastDocument=null,this.inherited(arguments)},parse:function(t){this.vastDocument=new r;var e=t.getElementsByTagName(this.AD);if(null==e[0])return null;var o=e[0].getAttribute(n.ID),a=new i(o);return this.vastDocument.vastAd=a,this._parseAdTag(e),this.vastDocument},_parseAdTag:function(t){for(var e=t.length,r=0;r<e;r++)t[r].getElementsByTagName(n.INLINE).length>0?this.vastDocument.vastAd.inlineAd=this._parseInLineTag(t[r].getElementsByTagName(n.INLINE)):t[r].getElementsByTagName(n.WRAPPER).length>0?this.vastDocument.vastAd.wrapperAd=this._parseWrapperTag(t[r].getElementsByTagName(n.WRAPPER)):console.error("VAST - parseAdTag() - Unsupported VAST tag")},_parseInLineTag:function(t){for(var e=new a,r=t[0].childNodes,i=r.length,s=0;s<i;s++)r[s].nodeName==n.AD_SYSTEM?e.adSystem=o.textContent(r[s]):r[s].nodeName==n.AD_TITLE?e.adTitle=o.textContent(r[s]):r[s].nodeName==n.ERROR?e.errorURL=this.trim(o.textContent(r[s])):r[s].nodeName==n.DESCRIPTION?e.description=o.textContent(r[s]):r[s].nodeName==n.EXPIRES?e.expires=o.textContent(r[s]):r[s].nodeName==n.CATEGORY?e.category=o.textContent(r[s]):r[s].nodeName==n.SURVEY?e.survey=o.textContent(r[s]):r[s].nodeName==n.ADVERTISER&&(e.advertiser=o.textContent(r[s]));return e.impressions=this._parseImpressionTag(t[0].getElementsByTagName(this.IMPRESSION)),e.creatives=this._parseCreatives(t[0].getElementsByTagName(this.CREATIVES)),e},_parseWrapperTag:function(t){for(var e=new s,r=t[0].childNodes,i=r.length,a=0;a<i;a++)r[a].nodeName==this.DAAST_AD_TAG_URI?e.vastAdTagURL=this.trim(o.textContent(r[a])):r[a].nodeName==n.ERROR&&(e.error=this.trim(o.textContent(r[a])));return e.impressions=this._parseImpressionTag(t[0].getElementsByTagName(this.IMPRESSION)),e.creatives=this._parseCreatives(t[0].getElementsByTagName(this.CREATIVES)),e},_parseImpressionTag:function(t){var e=[];if(null==t)return e;for(var n=t.length,r=0;r<n;r++)e.push(this.trim(o.textContent(t[r])));return e},_parseCreatives:function(t){var e=[];if(null==t[0]||null==t[0].getElementsByTagName(this.CREATIVE))return e;for(var n=t[0].getElementsByTagName(this.CREATIVE).length,r=t[0].getElementsByTagName(this.CREATIVE),i=0;i<n;i++){var o=this._parseCreative(r[i]);e.push(o)}return e},_parseCreative:function(t){var e=new u;return e.adID=t.getAttribute(n.AD_ID),e.id=t.getAttribute(n.ID),e.sequence=t.getAttribute(n.SEQUENCE),0!=t.getElementsByTagName(n.LINEAR).length?e.linearElement=this._parseCreativeLinear(t.getElementsByTagName(n.LINEAR)):0!=t.getElementsByTagName(n.NON_LINEAR_ADS).length?e.nonLinearAds=this._parseCreativeNonLinearAds(t.getElementsByTagName(n.NON_LINEAR_ADS)):0!=t.getElementsByTagName(n.COMPANION_ADS).length&&(e.companionAds=this._parseCreativeCompanionAds(t.getElementsByTagName(n.COMPANION_ADS))),e},_parseCreativeLinear:function(t){for(var e=new l,r=t[0].childNodes,i=r.length,a=0;a<i;a++)r[a].nodeName==n.DURATION?e.duration=o.textContent(r[a]):r[a].nodeName==n.TRACKING_EVENTS?e.trackingEvents=this._parseTrackingEvents(r[a]):r[a].nodeName==n.AUDIO_INTERACTIONS?e.videoClick=this._parseVideoClick(r[a]):r[a].nodeName==n.MEDIA_FILES&&(e.mediaFiles=this._parseMediaFiles(r[a]));return e},_parseCreativeNonLinearAds:function(t){for(var e=[],r=t[0].getElementsByTagName(n.NON_LINEAR),i=r.length,a=0;a<i;a++){var s=new c;s.id=r[a].getAttribute(n.ID),s.width=r[a].getAttribute(n.WIDTH),s.height=r[a].getAttribute(n.HEIGHT),s.expandedWidth=r[a].getAttribute(n.EXPANDED_WIDTH),s.expandedHeight=r[a].getAttribute(n.EXPANDED_HEIGHT),s.scalable="true"==r[a].getAttribute(n.SCALABLE),s.maintainAspectRatio="true"==r[a].getAttribute(n.MAINTAIN_ASPECT_RATIO),s.apiFramework=r[a].getAttribute(n.API_FRAMEWORK),s.minSuggestedDuration=r[a].getAttribute(n.MIN_SUGGESTED_DURATION);for(var u=r[a].childNodes,l=u.length,d=0;d<l;d++)if(u[d].nodeName==n.AD_PARAMETERS)s.adParameters=o.textContent(u[d]);else if(u[d].nodeName==n.NON_LINEAR_CLICK_THROUGH)s.clickThroughURL=this.trim(o.textContent(u[d]));else if(u[d].nodeName==n.IFRAME_RESOURCE)(h=new g).name=h.IFRAME,s.resourceType=h,s.url=this.trim(o.textContent(u[d]));else if(u[d].nodeName==n.HTML_RESOURCE)(h=new g).name=h.HTML,s.resourceType=h,s.code=o.textContent(u[d]);else if(u[d].nodeName==n.STATIC_RESOURCE){var h;(h=new g).name=h.STATIC,s.resourceType=h,s.creativeType=u[d].getAttribute(n.CREATIVE_TYPE),s.url=this.trim(o.textContent(u[d]))}e.push(s)}return s},_parseCreativeCompanionAds:function(t){for(var e=[],r=t[0].getElementsByTagName(n.COMPANION),i=r.length,a=0;a<i;a++){var s=new d;s.id=r[a].getAttribute(n.ID),s.width=r[a].getAttribute(n.WIDTH),s.height=r[a].getAttribute(n.HEIGHT),s.expandedWidth=r[a].getAttribute(n.EXPANDED_WIDTH),s.expandedHeight=r[a].getAttribute(n.EXPANDED_HEIGHT),s.logoTile=r[a].getAttribute(n.LOGO_TILE),s.logoTitle=r[a].getAttribute(n.LOGO_TITLE),s.logoArtist=r[a].getAttribute(n.LOGO_ARTIST),s.logoTile=r[a].getAttribute(n.LOGO_TILE);for(var u=r[a].childNodes,l=u.length,c=0;c<l;c++)if(u[c].nodeName==n.AD_PARAMETERS)s.adParameters=o.textContent(u[c]);else if(u[c].nodeName==n.ALT_TEXT)s.altText=o.textContent(u[c]);else if(u[c].nodeName==n.COMPANION_CLICK_THROUGH)s.clickThroughURL=this.trim(o.textContent(u[c]));else if(u[c].nodeName==n.IFRAME_RESOURCE)(h=new g).name=h.IFRAME,s.resourceType=h,s.url=this.trim(o.textContent(u[c]));else if(u[c].nodeName==n.HTML_RESOURCE)(h=new g).name=h.HTML,s.resourceType=h,s.code=o.textContent(u[c]);else if(u[c].nodeName==n.STATIC_RESOURCE){var h;(h=new g).name=h.STATIC,s.resourceType=h,s.creativeType=u[c].getAttribute(n.CREATIVE_TYPE),s.url=this.trim(o.textContent(u[c]))}else if(u[c].nodeName==n.TRACKING_EVENTS){var f=u[c].getElementsByTagName(n.TRACKING);f.length>0&&f[0].getAttribute(n.EVENT)==n.CREATIVE_VIEW&&(s.creativeView=this.trim(o.textContent(u[c])))}e.push(s)}return e},_parseTrackingEvents:function(t){for(var e=[],r=t.getElementsByTagName(n.TRACKING),i=r.length,a=0;a<i;a++){var s=new h;s.urls.push(o.textContent(r[a])),s.type=r[a].getAttribute(n.EVENT),e.push(s)}return e},_parseVideoClick:function(t){for(var e=new f,r=t.childNodes,i=r.length,a=0;a<i;a++)r[a].nodeName==n.CLICK_THROUGH?e.clickThrough=this.trim(o.textContent(r[a])):r[a].nodeName==n.CLICK_TRACKING?e.clickTrackings.push(this.trim(o.textContent(r[a]))):r[a].nodeName==n.CUSTOM_CLICK&&e.customClicks.push(this.trim(o.textContent(r[a])));return e},_parseMediaFiles:function(t){for(var e=[],r=t.getElementsByTagName(n.MEDIA_FILE),i=r.length,a=0;a<i;a++){var s=new p;s.id=r[a].getAttribute(n.ID),s.bitrate=r[a].getAttribute(n.BITRATE),s.minbitrate=r[a].getAttribute(n.MIN_BITRATE),s.maxbitrate=r[a].getAttribute(n.MAX_BITRATE),s.codec=r[a].getAttribute(n.CODEC),s.height=r[a].getAttribute(n.HEIGHT),s.width=r[a].getAttribute(n.WIDTH),s.delivery=r[a].getAttribute(n.DELIVERY),s.type=r[a].getAttribute(n.TYPE),s.scalable="true"==r[a].getAttribute(n.SCALABLE),s.maintainAspectRatio="true"==r[a].getAttribute(n.MAINTAIN_ASPECT_RATIO),s.apiFramework=r[a].getAttribute(n.API_FRAMEWORK),s.url=this.trim(o.textContent(r[a])),e.push(s)}return e}})}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i,o=n(16);r=[n(1),n(50),n(49),n(43),n(41),n(125),n(48),n(126),n(47),n(46),n(42),n(44),n(45)],void 0===(i=function(t,e,n,r,i,a,s,u,l,c,d,h,f){return t([e],{AD:"Ad",VAST_AD_TAG_URL:"VASTAdTagURL",VIDEO:"Video",URL:"URL",CODE:"Code",RESOURCE_TYPE:"resourceType",constructor:function(){this.vastDocument=null,this.inherited(arguments)},parse:function(t){this.vastDocument=new r;var e=t.getElementsByTagName(this.AD);if(null==e[0])return null;var o=e[0].getAttribute(n.ID),a=new i(o);return this.vastDocument.vastAd=a,this._parseAdTag(e),this.vastDocument},_parseAdTag:function(t){for(var e=t.length,r=0;r<e;r++)t[r].getElementsByTagName(n.INLINE).length>0?this.vastDocument.vastAd.inlineAd=this._parseInLineTag(t[r].getElementsByTagName(n.INLINE)):t[r].getElementsByTagName(n.WRAPPER).length>0?this.vastDocument.vastAd.wrapperAd=this._parseWrapperTag(t[r].getElementsByTagName(n.WRAPPER)):console.error("VAST - parseAdTag() - Unsupported VAST tag")},_parseInLineTag:function(t){for(var e=new a,r=t[0].childNodes,i=r.length,s=0;s<i;s++)r[s].nodeName==n.AD_SYSTEM?e.adSystem=o.textContent(r[s]):r[s].nodeName==n.AD_TITLE?e.adTitle=o.textContent(r[s]):r[s].nodeName==n.ERROR&&(e.errorURL=this.trim(o.textContent(r[s])));e.video=this._parseVideo(t[0].getElementsByTagName(this.VIDEO)),e.impressions=this._parseImpressions(t[0].getElementsByTagName(n.IMPRESSION));var u=t[0].getElementsByTagName(n.TRACKING_EVENTS);return null!=u&&u.length>0&&(e.trackingEvents=this._parseTrackingEvents(u[0])),e.companionAds=this._parseCompanionsAds(t[0].getElementsByTagName(n.COMPANION_ADS)),e.nonLinearAds=this._parseNonLinearAds(t[0].getElementsByTagName(n.NON_LINEAR_ADS)),e},_parseImpressions:function(t){var e=[];if(null==t||0==t.length)return e;for(var n=t[0].getElementsByTagName(this.URL).length,r=t[0].getElementsByTagName(this.URL),i=0;i<n;i++)e.push(o.textContent(r[i]));return e},_parseVideo:function(t){for(var e=new u,r=t[0].childNodes,i=r.length,a=0;a<i;a++)r[a].nodeName==n.DURATION?e.duration=o.textContent(r[a]):r[a].nodeName==n.AD_ID?e.adID=o.textContent(r[a]):r[a].nodeName==n.VIDEO_CLICKS?e.videoClick=this._parseVideoClick(r[a]):r[a].nodeName==n.MEDIA_FILES&&(e.mediaFiles=this._parseMediaFiles(r[a]));return e},_parseVideoClick:function(t){for(var e=new l,r=t.childNodes,i=r.length,o=null,a=0;a<i;a++)r[a].nodeName==n.CLICK_THROUGH?(o=this._parseURLTags(r[a])).length>0&&(e.clickThrough=o[0]):r[a].nodeName==n.CLICK_TRACKING?e.clickTrackings=this._parseURLTags(r[a]):r[a].nodeName==n.CUSTOM_CLICK&&(e.customClicks=this._parseURLTags(r[a]));return e},_parseMediaFiles:function(t){for(var e,r=[],i=t.getElementsByTagName(n.MEDIA_FILE),o=i.length,a=0;a<o;a++)(e=new h).id=i[a].getAttribute(n.ID),e.bitrate=i[a].getAttribute(n.BITRATE),e.height=i[a].getAttribute(n.HEIGHT),e.width=i[a].getAttribute(n.WIDTH),e.delivery=i[a].getAttribute(n.DELIVERY),e.type=i[a].getAttribute(n.TYPE),e.url=this.trim(this.getTagValue(i[a],"URL")),r.push(e);return r},_parseTrackingEvents:function(t){for(var e,r,i,a=[],s=t.getElementsByTagName(n.TRACKING),u=s.length,l=0;l<u;l++){e=new c,i=(r=s[l].getElementsByTagName(this.URL)).length;for(var d=0;d<i;d++)e.urls.push(this.trim(o.textContent(r[d])));e.type=s[l].getAttribute(n.EVENT),a.push(e)}return a},_parseCompanionsAds:function(t){for(var e,r,i=[],a=t[0].getElementsByTagName(n.COMPANION),s=a.length,u=null,l=0;l<s;l++){(r=new d).id=a[l].getAttribute(n.ID),r.width=a[l].getAttribute(n.WIDTH),r.height=a[l].getAttribute(n.HEIGHT),r.expandedWidth=a[l].getAttribute(n.EXPANDED_WIDTH),r.expandedHeight=a[l].getAttribute(n.EXPANDED_HEIGHT);var c=new f;c.name=a[l].getAttribute(this.RESOURCE_TYPE).toLowerCase(),r.resourceType=c,r.creativeType=a[l].getAttribute(n.CREATIVE_TYPE),e=(u=a[l].childNodes).length;for(var h=0;h<e;h++)u[h].nodeName==n.AD_PARAMETERS?r.adParameters=o.textContent(u[h]):u[h].nodeName==n.ALT_TEXT?r.altText=o.textContent(u[h]):u[h].nodeName==n.COMPANION_CLICK_THROUGH?r.clickThroughURL=this.trim(o.textContent(u[h])):u[h].nodeName==this.URL?r.url=this.trim(o.textContent(u[h])):u[h].nodeName==this.CODE&&(r.code=this.trim(o.textContent(u[h])));i.push(r)}return i},_parseNonLinearAds:function(t){return null},_parseWrapperTag:function(t){for(var e=new s,r=t[0].childNodes,i=r.length,a=0;a<i;a++)r[a].nodeName==this.VAST_AD_TAG_URL?e.vastAdTagURL=this.trim(o.textContent(r[a])):r[a].nodeName==n.VIDEO_CLICKS?e.videoClicks=this._parseVideoClick(r[a]):r[a].nodeName==n.ERROR?e.error=this.trim(o.textContent(r[a])):r[a].nodeName==n.TRACKING_EVENTS&&(e.trackingEvents=this._parseTrackingEvents(r[a]));return e.impressions=this._parseImpressions(t[0].getElementsByTagName(n.IMPRESSION)),e},_parseURLTags:function(t){for(var e=[],n=t.childNodes,r=n.length,i=0;i<r;i++)n[i].nodeName==this.URL&&e.push(this.trim(o.textContent(n[i])));return e}})}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i,o=n(16);r=[n(1),n(50),n(49),n(43),n(41),n(66),n(48),n(65),n(67),n(68),n(42),n(46),n(47),n(44),n(45)],void 0===(i=function(t,e,n,r,i,a,s,u,l,c,d,h,f,p,g){return t([e],{AD:"Ad",IMPRESSION:"Impression",VAST_AD_TAG_URI:"VASTAdTagURI",CREATIVES:"Creatives",CREATIVE:"Creative",constructor:function(){this.vastDocument=null,this.inherited(arguments)},parse:function(t){this.vastDocument=new r;var e=t.getElementsByTagName(this.AD);if(null==e[0])return null;var o=e[0].getAttribute(n.ID),a=new i(o);return this.vastDocument.vastAd=a,this._parseAdTag(e),this.vastDocument},_parseAdTag:function(t){for(var e=t.length,r=0;r<e;r++)t[r].getElementsByTagName(n.INLINE).length>0?this.vastDocument.vastAd.inlineAd=this._parseInLineTag(t[r].getElementsByTagName(n.INLINE)):t[r].getElementsByTagName(n.WRAPPER).length>0?this.vastDocument.vastAd.wrapperAd=this._parseWrapperTag(t[r].getElementsByTagName(n.WRAPPER)):console.error("VAST - parseAdTag() - Unsupported VAST tag")},_parseInLineTag:function(t){for(var e=new a,r=t[0].childNodes,i=r.length,s=0;s<i;s++)r[s].nodeName==n.AD_SYSTEM?e.adSystem=o.textContent(r[s]):r[s].nodeName==n.AD_TITLE?e.adTitle=o.textContent(r[s]):r[s].nodeName==n.ERROR?e.errorURL=this.trim(o.textContent(r[s])):r[s].nodeName==n.DESCRIPTION&&(e.description=o.textContent(r[s]));return e.impressions=this._parseImpressionTag(t[0].getElementsByTagName(this.IMPRESSION)),e.creatives=this._parseCreatives(t[0].getElementsByTagName(this.CREATIVES)),e},_parseWrapperTag:function(t){for(var e=new s,r=t[0].childNodes,i=r.length,a=0;a<i;a++)r[a].nodeName==this.VAST_AD_TAG_URI?e.vastAdTagURL=this.trim(o.textContent(r[a])):r[a].nodeName==n.ERROR&&(e.error=this.trim(o.textContent(r[a])));return e.impressions=this._parseImpressionTag(t[0].getElementsByTagName(this.IMPRESSION)),e.creatives=this._parseCreatives(t[0].getElementsByTagName(this.CREATIVES)),e},_parseImpressionTag:function(t){var e=[];if(null==t)return e;for(var n=t.length,r=0;r<n;r++)e.push(this.trim(o.textContent(t[r])));return e},_parseCreatives:function(t){var e=[];if(null==t[0]||null==t[0].getElementsByTagName(this.CREATIVE))return e;for(var n=t[0].getElementsByTagName(this.CREATIVE).length,r=t[0].getElementsByTagName(this.CREATIVE),i=0;i<n;i++){var o=this._parseCreative(r[i]);e.push(o)}return e},_parseCreative:function(t){var e=new u;return e.adID=t.getAttribute(n.AD_ID),e.id=t.getAttribute(n.ID),e.sequence=t.getAttribute(n.SEQUENCE),0!=t.getElementsByTagName(n.LINEAR).length?e.linearElement=this._parseCreativeLinear(t.getElementsByTagName(n.LINEAR)):0!=t.getElementsByTagName(n.NON_LINEAR_ADS).length?e.nonLinearAds=this._parseCreativeNonLinearAds(t.getElementsByTagName(n.NON_LINEAR_ADS)):0!=t.getElementsByTagName(n.COMPANION_ADS).length&&(e.companionAds=this._parseCreativeCompanionAds(t.getElementsByTagName(n.COMPANION_ADS))),e},_parseCreativeLinear:function(t){for(var e=new l,r=t[0].childNodes,i=r.length,a=0;a<i;a++)r[a].nodeName==n.DURATION?e.duration=o.textContent(r[a]):r[a].nodeName==n.TRACKING_EVENTS?e.trackingEvents=this._parseTrackingEvents(r[a]):r[a].nodeName==n.VIDEO_CLICKS?e.videoClick=this._parseVideoClick(r[a]):r[a].nodeName==n.MEDIA_FILES&&(e.mediaFiles=this._parseMediaFiles(r[a]));return e},_parseCreativeNonLinearAds:function(t){for(var e=[],r=t[0].getElementsByTagName(n.NON_LINEAR),i=r.length,a=0;a<i;a++){var s=new c;s.id=r[a].getAttribute(n.ID),s.width=r[a].getAttribute(n.WIDTH),s.height=r[a].getAttribute(n.HEIGHT),s.expandedWidth=r[a].getAttribute(n.EXPANDED_WIDTH),s.expandedHeight=r[a].getAttribute(n.EXPANDED_HEIGHT),s.scalable="true"==r[a].getAttribute(n.SCALABLE),s.maintainAspectRatio="true"==r[a].getAttribute(n.MAINTAIN_ASPECT_RATIO),s.apiFramework=r[a].getAttribute(n.API_FRAMEWORK),s.minSuggestedDuration=r[a].getAttribute(n.MIN_SUGGESTED_DURATION);for(var u=r[a].childNodes,l=u.length,d=0;d<l;d++)if(u[d].nodeName==n.AD_PARAMETERS)s.adParameters=o.textContent(u[d]);else if(u[d].nodeName==n.NON_LINEAR_CLICK_THROUGH)s.clickThroughURL=this.trim(o.textContent(u[d]));else if(u[d].nodeName==n.IFRAME_RESOURCE)(h=new g).name=h.IFRAME,s.resourceType=h,s.url=this.trim(o.textContent(u[d]));else if(u[d].nodeName==n.HTML_RESOURCE)(h=new g).name=h.HTML,s.resourceType=h,s.code=o.textContent(u[d]);else if(u[d].nodeName==n.STATIC_RESOURCE){var h;(h=new g).name=h.STATIC,s.resourceType=h,s.creativeType=u[d].getAttribute(n.CREATIVE_TYPE),s.url=this.trim(o.textContent(u[d]))}e.push(s)}return s},_parseCreativeCompanionAds:function(t){for(var e=[],r=t[0].getElementsByTagName(n.COMPANION),i=r.length,a=0;a<i;a++){var s=new d;s.id=r[a].getAttribute(n.ID),s.width=r[a].getAttribute(n.WIDTH),s.height=r[a].getAttribute(n.HEIGHT),s.expandedWidth=r[a].getAttribute(n.EXPANDED_WIDTH),s.expandedHeight=r[a].getAttribute(n.EXPANDED_HEIGHT);for(var u=r[a].childNodes,l=u.length,c=0;c<l;c++)if(u[c].nodeName==n.AD_PARAMETERS)s.adParameters=o.textContent(u[c]);else if(u[c].nodeName==n.ALT_TEXT)s.altText=o.textContent(u[c]);else if(u[c].nodeName==n.COMPANION_CLICK_THROUGH)s.clickThroughURL=this.trim(o.textContent(u[c]));else if(u[c].nodeName==n.IFRAME_RESOURCE)(h=new g).name=h.IFRAME,s.resourceType=h,s.url=this.trim(o.textContent(u[c]));else if(u[c].nodeName==n.HTML_RESOURCE)(h=new g).name=h.HTML,s.resourceType=h,s.code=o.textContent(u[c]);else if(u[c].nodeName==n.STATIC_RESOURCE){var h;(h=new g).name=h.STATIC,s.resourceType=h,s.creativeType=u[c].getAttribute(n.CREATIVE_TYPE),s.url=this.trim(o.textContent(u[c]))}else if(u[c].nodeName==n.TRACKING_EVENTS){var f=u[c].getElementsByTagName(n.TRACKING),p=f.length;if(p>0){s.creativeView=[];for(var m=0;m<p;m++)f[m].getAttribute(n.EVENT)==n.CREATIVE_VIEW&&s.creativeView.push(this.trim(o.textContent(f[m])))}}e.push(s)}return e},_parseTrackingEvents:function(t){for(var e=[],r=t.getElementsByTagName(n.TRACKING),i=r.length,a=0;a<i;a++){var s=new h;s.urls.push(o.textContent(r[a])),s.type=r[a].getAttribute(n.EVENT),e.push(s)}return e},_parseVideoClick:function(t){for(var e=new f,r=t.childNodes,i=r.length,a=0;a<i;a++)r[a].nodeName==n.CLICK_THROUGH?e.clickThrough=this.trim(o.textContent(r[a])):r[a].nodeName==n.CLICK_TRACKING?e.clickTrackings.push(this.trim(o.textContent(r[a]))):r[a].nodeName==n.CUSTOM_CLICK&&e.customClicks.push(this.trim(o.textContent(r[a])));return e},_parseMediaFiles:function(t){for(var e=[],r=t.getElementsByTagName(n.MEDIA_FILE),i=r.length,a=0;a<i;a++){var s=new p;s.id=r[a].getAttribute(n.ID),s.bitrate=r[a].getAttribute(n.BITRATE),s.height=r[a].getAttribute(n.HEIGHT),s.width=r[a].getAttribute(n.WIDTH),s.delivery=r[a].getAttribute(n.DELIVERY),s.type=r[a].getAttribute(n.TYPE),s.scalable="true"==r[a].getAttribute(n.SCALABLE),s.maintainAspectRatio="true"==r[a].getAttribute(n.MAINTAIN_ASPECT_RATIO),s.apiFramework=r[a].getAttribute(n.API_FRAMEWORK),s.url=this.trim(o.textContent(r[a])),e.push(s)}return e}})}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(1),n(2),n(3)],void 0===(i=function(t,e,n){return t([],{TDAS_REG_ONLY:"tdas-reg-only",constructor:function(t,r){this.mediaPlayer=t("MediaPlayer"),this.userRegistration=t("UserRegistration"),this.mediaPlayer.addHqTag(this.TDAS_REG_ONLY),n(r,"stream-start",e.hitch(this,this._onStreamStarted)),n(r,"stream-stop",e.hitch(this,this._onStreamStopped)),n(r,"user-logged-out",e.hitch(this,this._onUserLoggedOut)),n(r,"user-details",e.hitch(this,this._onUserDetails)),this.inherited(arguments)},_onStreamStarted:function(){this.userRegistration.triggerEvent("playerStart")},_onStreamStopped:function(){this.userRegistration.triggerEvent("playerStop")},_onUserLoggedOut:function(t){this._removeUserParameters(),this.mediaPlayer.disableHQ()},_onUserDetails:function(t){if(t.data||t.data){var e={};if(t.data.dob){var n=t.data.dob.split("/");e.dob=n[2]+"-"+n[0]+"-"+n[1]}t.data.gender&&(e.gender=t.data.gender.substr(0,1).toLowerCase()),t.data.zip&&(e.postalcode=t.data.zip),t.data.country&&(e.country=t.data.country),t.data.vid&&(e["tdas-vid"]=this.userRegistration.tenantId.toString()+"."+t.data.vid.toString()),t.data.tdas&&(e["tdas-utags"]=t.data.tdas["user-tags"],e["tdas-utcheck"]=t.data.tdas["user-tags-hash"]),null==this.mediaPlayer.config.defaultTrackingParameters&&(this.mediaPlayer.config.defaultTrackingParameters={}),this.mediaPlayer.config.defaultTrackingParameters.user=e,this.mediaPlayer.enableHQ()}},_removeUserParameters:function(){this.mediaPlayer.config.defaultTrackingParameters.user={}}})}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;(function(o){var a=n(18),s=n(15);r=[n(1),n(2),n(7),n(69),n(70),n(11)],void 0===(i=function(t,e,n,r,i,u){return t([i],{eventMap:{onPlayerReady:"tech-ready",onStreamStarted:"stream-start",onStreamStopped:"stream-stop",onStreamFailed:"stream-fail",onStreamStatus:"_onStreamStatus",onTrackCuePoint:"_onTrackCuePoint",onSpeechCuePoint:"_onSpeechCuePoint",onCustomCuePoint:"_onCustomCuePoint",onTargetSpot:"targetspot-cue-point",onAdBreak:"_onAdBreakCuePoint",onSeekFailed:"seek-fail",onSeekInvalidTime:"seek-invalid-time",onTimeShiftPlaybackModeChanged:"time-shift-playback-mode-change",onTimeShiftStreamStart:"time-shift-stream-start",onTimeShiftPlayheadUpdate:"time-shift-playhead-update",onAdPlaybackStart:"ad-playback-start",onAdPlaybackComplete:"ad-playback-complete",onAdPlaybackError:"_onAdPlaybackError",onAdPlaybackSkippableState:"ad-playback-skippable-state",onAdCountdown:"ad-countdown",onAdQuartile:"ad-quartile",onVastProcessComplete:"vast-process-complete",onVastCompanionsReady:"vast-companions-ready",onConfigurationError:"configuration-error",onVideoMidRollPlaybackStart:"video-mid-roll-playback-start",onVideoMidRollPlaybackComplete:"video-mid-roll-playback-complete",onVpaidAdCompanions:"vpaid-ad-companions",onMediaLoadingStatus:"media-loading-status",onMediaPlaybackStatus:"_onMediaPlaybackStatus",onMediaPlaybackTimeUpdate:"media-playback-timeupdate",onMediaPlaybackMetadata:"media-playback-metadata",onMediaError:"_onMediaError"},statusMap:{LIVE_PAUSE:"paused",LIVE_PLAYING:"onAir",LIVE_STOP:"disconnected",LIVE_FAILED:"streamUnavailable",LIVE_BUFFERING:"buffering",LIVE_CONNECTING:"connecting",LIVE_RECONNECTING:"reconnecting",MEDIA_TIME_UPDATE:"timeupdate",MEDIA_SEEK_FAILED:"seekfailed",MEDIA_SEEK_INVALID_TIME:"seekinvalidtime",MEDIA_ENDED:"ended",MEDIA_PAUSED:"pause",MEDIA_STARTED:"play",MEDIA_STOPPED:"stop",MEDIA_RESUMED:"play",MEDIA_SEEKED:"play",MEDIA_BUFFERING:"buffering"},minimumVersionRequired:{major:10,minor:2,rev:0},CDN_URL:"sdk.listenlive.co",constructor:function(t,e,n){this.errorCode=new r,this.config.platformId=null!=this.config.platformId&&""!=this.config.platformId?this.config.platformId:"prod01";var i=new s(this.config.platformId);this.config.moduleDir=i.endpoint.coreModuleDir,this._isAdBreak=!1,this.inherited(arguments)},start:function(){return this.isMinimalRequiredVersion(this.minimumVersionRequired.major,this.minimumVersionRequired.minor,this.minimumVersionRequired.rev)?(this.inherited(arguments),this.swfPath=this.config.tdPlayerPath||this._getApiSwfUrl(),void this._embedFlash()):void this._onError(this.errorCode.flashModuleMap.flashPluginOutOfDate)},_getApiSwfUrl:function(){return"//"+this.CDN_URL+"/tdplayerapi/swf/tdplayer-api-6.0.swf"},_onReady:function(){},_onError:function(t){console.error("flash::_onError - code : "+t.code+", message : "+t.message),this.emit("tech-error",{error:t})},prepare:function(t){this.inherited(arguments)},playStream:function(t){this.inherited(arguments),"function"==typeof this.flashMovie.tdPlayer_playStream&&this.flashMovie.tdPlayer_playStream(t)},pauseStream:function(){this.inherited(arguments),this.flashMovie.tdPlayer_pauseStream()},stopStream:function(){this.inherited(arguments),"function"==typeof this.flashMovie.tdPlayer_stopStream&&this.flashMovie.tdPlayer_stopStream()},resumeStream:function(){this.inherited(arguments),"function"==typeof this.flashMovie.tdPlayer_resumeStream&&this.flashMovie.tdPlayer_resumeStream()},seekStream:function(t){this.inherited(arguments),"function"==typeof this.flashMovie.tdPlayer_seekStream&&this.flashMovie.tdPlayer_seekStream(t)},seekLive:function(){this.inherited(arguments),"function"==typeof this.flashMovie.tdPlayer_seekLive&&this.flashMovie.tdPlayer_seekLive()},setVolume:function(t){this.inherited(arguments),"function"==typeof this.flashMovie.tdPlayer_setVolume&&this.flashMovie.tdPlayer_setVolume(t)},mute:function(){this.inherited(arguments),"function"==typeof this.flashMovie.tdPlayer_mute&&this.flashMovie.tdPlayer_mute()},unMute:function(){this.inherited(arguments),"function"==typeof this.flashMovie.tdPlayer_unMute&&this.flashMovie.tdPlayer_unMute()},playAd:function(t,e){this.inherited(arguments),e.companionAdSelectionSettings=this.config.companionAdSelectionSettings,"function"==typeof this.flashMovie.tdPlayer_playAd&&this.flashMovie.tdPlayer_playAd(t,e)},skipAd:function(){this.inherited(arguments),"function"==typeof this.flashMovie.tdPlayer_skipAd&&this.flashMovie.tdPlayer_skipAd()},destroyAd:function(t){this.inherited(arguments),"function"==typeof this.flashMovie.tdPlayer_destroyAd&&this.flashMovie.tdPlayer_destroyAd(),0!=t&&this.emit("ad-playback-destroy")},playMedia:function(t){this.inherited(arguments),"function"==typeof this.flashMovie.tdPlayer_playMedia&&this.flashMovie.tdPlayer_playMedia({url:t.url,autoStart:!0})},pauseMedia:function(){this.inherited(arguments),"function"==typeof this.flashMovie.tdPlayer_pauseMedia&&this.flashMovie.tdPlayer_pauseMedia()},resumeMedia:function(){this.inherited(arguments),"function"==typeof this.flashMovie.tdPlayer_resumeMedia&&this.flashMovie.tdPlayer_resumeMedia()},stopMedia:function(){this.inherited(arguments),"function"==typeof this.flashMovie.tdPlayer_stopMedia&&this.flashMovie.tdPlayer_stopMedia()},seekMedia:function(t){this.inherited(arguments),0==t&&(t=.001),"function"==typeof this.flashMovie.tdPlayer_seekMedia&&this.flashMovie.tdPlayer_seekMedia(t)},_onStreamStatus:function(t){var e=n.byId(t.id,document);if(e){var r=a.getLocalization(),i=this.statusMap[t.code];i&&r[i]&&(t.status=r[i]),this.emit("stream-status",t,e)}},_onMediaPlaybackStatus:function(t){var e=n.byId(t.id,document);if(e){var r=a.getLocalization(),i=this.statusMap[t.code];i&&r[i]&&(t.status=r[i]),"MEDIA_STARTED"===t.code&&this.emit("media-playback-started"),this.emit("media-playback-status",t,e)}},_onMediaError:function(t){var e=n.byId(t.id,document);if(e){var r=a.getLocalization();r.error&&(t.error=r.error),this.emit("media-playback-error",t,e)}},_onTrackCuePoint:function(t){t.cuePoint&&this.connection.mount&&(t.cuePoint.mount=this.connection.mount),this.emit("track-cue-point",t)},_onSpeechCuePoint:function(t){t.cuePoint&&(t.cuePoint.mount=this.connection.mount),this.emit("speech-cue-point",t)},_onCustomCuePoint:function(t){t.cuePoint&&(t.cuePoint.mount=this.connection.mount),this.emit("custom-cue-point",t)},_onAdBreakCuePoint:function(t){this._adBreak=!!t.adBreakData.isVastInStream,this.emit("ad-break-cue-point",t)},_onAdPlaybackError:function(t){this._adBreak||this.emit("ad-playback-error",t)},_tdPlayerEvents:function(t,r){var i=n.byId(r.id,document);"_"==this.eventMap[t].substr(0,1)?e.hitch(this,this.eventMap[t])(r,t):i&&this.eventMap[t]&&this.emit(this.eventMap[t],r,i)},_embedFlash:function(){window.tdPlayerEvents=e.hitch(this,this._tdPlayerEvents);var t=a.getLocalization(),n=[{id:"directLiveStream"}];n[0].timeshift=this.config.timeShift?{active:this.config.timeShift.active||0,max_listening_time:this.config.timeShift.max_listening_time||30}:{active:0},null!=this.config.plugins&&this.config.plugins.length>0&&(n=n.concat(this.config.plugins));var r={playercore:{platform_id:this.config.platformId,plugins:n}};null!=this.config.moduleDir&&(r.playercore.module_dir=this.config.moduleDir),document.getElementById(this.config.playerId).innerHTML="";var i="flash_content";u.create("div",{id:i},document.getElementById(this.config.playerId)),o.embedSWF(this.swfPath,i,"100%","100%",this.minimumVersionRequired.major+"."+this.minimumVersionRequired.minor+"."+this.minimumVersionRequired.rev,!1,{isDebug:this.config.isDebug,config:encodeURIComponent(JSON.stringify(r)),id:this.playerNode.id},{scale:"showall",wmode:"transparent",allowScriptAccess:"always",allowNetworking:"all",hasPriority:"true"},!1,e.hitch(this,(function(e){e.success?(this.flashMovie=e.ref,this._onReady()):this._onError({message:t.embedFailed})})))},isMinimalRequiredVersion:function(t,e,n){var r=o.getFlashPlayerVersion();return t<r.major||!(t>r.major)&&(0==e||e<r.minor||!(e>r.minor)&&(0==n||n<r.rev||!(n>r.rev)))}})}.apply(e,r))||(t.exports=i)}).call(e,n(37))},function(t,e,n){var r,i;r=[n(1),n(2),n(26),n(11),n(69),n(70),n(60),n(38),n(134),n(135)],void 0===(i=function(t,e,n,r,i,o,a,s,u,l){return t([o],{constructor:function(t,e,n){this.errorCode=new i,this.playbackStatus=null,this.html5CheckerNode=null,this.target=e,this.inherited(arguments)},start:function(){return this._isHTML5Supported()?(this.inherited(arguments),this.html5Live=new u(this.playerNode,this.config),this.html5Live.setPlaybackStatusHandler(e.hitch(this,this._onPlaybackStatus)),this.html5Live.setCuePointHandler(e.hitch(this,this._onTrackCuePoint)),this.html5Live.setAdBreakHandler(e.hitch(this,this._onAdBreak)),this.html5Live.setHlsCuePointHandler(e.hitch(this,this._onHlsCuePoint)),this.html5Live.setSpeechCuePointHandler(e.hitch(this,this._onSpeechCuePoint)),this.html5Live.setCustomCuePointHandler(e.hitch(this,this._onCustomCuePoint)),this.html5Live.setStreamStartHandler(e.hitch(this,this._onStreamStart)),this.html5Live.setStreamStopHandler(e.hitch(this,this._onStreamStop)),this.html5Live.setStreamFailedHandler(e.hitch(this,this._onStreamFailed)),this.html5OnDemand=new l(this.playerNode),this._isMediaTagInitialized=!1,void this.emit("tech-ready",{id:this.playerNode})):void this.emit("tech-error",{error:this.errorCode.html5ModuleMap.browserNotSupported})},prepare:function(t){this.inherited(arguments),this._initMediaTag()},playStream:function(t){this.params=t,this.inherited(arguments),this._isMediaTagInitialized||this._initMediaTag(),this.html5OnDemand.clean(),this.html5Live.play(t)},pauseStream:function(){this.inherited(arguments),this.html5Live.pause()},stopStream:function(){this.inherited(arguments),this.html5Live.stop()},resumeStream:function(){this.inherited(arguments),this.html5Live.resume()},seekStream:function(t){this.inherited(arguments)},seekLive:function(){this.inherited(arguments)},setVolume:function(t){this.inherited(arguments),this.html5Live.setVolume(t),this.html5OnDemand.setVolume(t)},mute:function(){this.inherited(arguments),this.html5Live.mute(),this.html5OnDemand.mute()},unMute:function(){this.inherited(arguments),this.html5Live.unMute(this.params),this.html5OnDemand.unMute(this.params)},playMedia:function(t){this.params=t,null!=this.html5OnDemand&&(this.inherited(arguments),this.playbackOnDemandStatushandler=this.html5OnDemand.setPlaybackStatusHandler(e.hitch(this,this._onMediaPlaybackStatus)),this.html5OnDemand.play({mediaUrl:t.url,mediaFormat:"audio"}))},pauseMedia:function(t){null!=this.html5OnDemand&&(this.inherited(arguments),this.html5OnDemand.pause())},resumeMedia:function(t){null!=this.html5OnDemand&&(this.inherited(arguments),this.html5OnDemand.resume())},stopMedia:function(t){null!=this.html5OnDemand&&(this.inherited(arguments),this.html5OnDemand.stop())},seekMedia:function(t){this.inherited(arguments),this.html5OnDemand.seek(t)},_initMediaTag:function(){this.html5OnDemand.initMediaTag(),this._isMediaTagInitialized=!0},_onTrackCuePoint:function(t){t.cuePoint&&this.connection.mount&&(t.cuePoint.mount=this.connection.mount),this.emit("track-cue-point",t)},_onSpeechCuePoint:function(t){t.cuePoint&&this.connection.mount&&(t.cuePoint.mount=this.connection.mount),this.emit("speech-cue-point",t)},_onCustomCuePoint:function(t){t.cuePoint&&this.connection.mount&&(t.cuePoint.mount=this.connection.mount),this.emit("custom-cue-point",t)},_onHlsCuePoint:function(t){if(this.emit("hls-cue-point",t),t.cuePoint&&t.cuePoint.hlsTrackId){var e=this.connection.mountpoint.mediaFormat.audioTracks;e&&e.length&&e.length>=t.cuePoint.hlsTrackId&&this._currentBitrate!=e[t.cuePoint.hlsTrackId].bitRate&&(this._currentBitrate=e[t.cuePoint.hlsTrackId].bitRate,this.setCurrentTrack(e[t.cuePoint.hlsTrackId]),t.cuePoint.audioTrack=e[t.cuePoint.hlsTrackId],this.emit("stream-track-change",t))}},_onAdBreak:function(t){null!=t.cuePoint&&(t.adBreakData={},t.adBreakData.adVast=null!=t.cuePoint[s.AD_VAST]&&""!=t.cuePoint[s.AD_VAST]?t.cuePoint[s.AD_VAST]:null,t.adBreakData.cueID=null!=t.cuePoint[s.AD_ID]&&""!=t.cuePoint[s.AD_ID]?t.cuePoint[s.AD_ID]:null,t.adBreakData.cueTitle=null!=t.cuePoint[s.CUE_TITLE]&&""!=t.cuePoint[s.CUE_TITLE]?t.cuePoint[s.CUE_TITLE]:null,t.adBreakData.duration=null!=t.cuePoint[s.CUE_TIME_DURATION]&&""!=t.cuePoint[s.CUE_TIME_DURATION]?t.cuePoint[s.CUE_TIME_DURATION]:null,t.adBreakData.isVastInStream=!!(null!=t.cuePoint[s.AD_VAST_URL]&&""!=t.cuePoint[s.AD_VAST_URL]||t.cuePoint[s.AD_VAST]&&""!=t.cuePoint[s.AD_VAST]),t.adBreakData.url=null!=t.cuePoint[s.AD_URL]&&""!=t.cuePoint[s.AD_URL]?t.cuePoint[s.AD_URL]:null,t.adBreakData.vastUrl=null!=t.cuePoint[s.AD_VAST_URL]&&""!=t.cuePoint[s.AD_VAST_URL]?t.cuePoint[s.AD_VAST_URL]:null),1==t.adBreakData.isVastInStream&&(t.adBreakData.adVast||t.adBreakData.vastUrl)&&n.publish("api/request","get-vast-instream",t.adBreakData),this.emit("ad-break-cue-point",t)},_onPlaybackStatus:function(t){this.playbackStatus!=t.code&&(this.playbackStatus=t.code,this.emit("stream-status",t))},_onMediaPlaybackStatus:function(t){return"Error"==t.type?void this.emit("media-playback-error",{error:t.type,mediaElement:t.html5Node}):"timeupdate"==t.type?void this.emit("media-playback-timeupdate",{status:t.type,code:t.code,duration:parseInt(t.html5Node.duration),playedTime:parseInt(t.html5Node.currentTime),remainingTime:parseInt(t.html5Node.duration-t.html5Node.currentTime),percent:(t.html5Node.currentTime/t.html5Node.duration).toFixed(2)}):(this.emit("media-playback-status",{status:t.type,mediaElement:t.html5Node}),"play"==t.type&&this.emit("media-playback-started"),void("Ended"==t.type&&this.html5OnDemand.stop()))},_onMediaLoadingStatus:function(t){this.emit("media-loading-status",{percent:t.percent,mediaElement:t.html5Node})},_onStreamStart:function(){this._currentBitrate=null,this.setCurrentTrack(null),this.emit("stream-start")},_onStreamStop:function(){this.setCurrentTrack(null),this.emit("stream-stop")},_onStreamFailed:function(){this.setCurrentTrack(null),this.emit("stream-fail")},_isHTML5Supported:function(){this.html5CheckerNode=r.create("audio",{id:"testHtml5Node"},this.playerNode,"first");var t=!!this.html5CheckerNode.canPlayType;return null!=this.html5CheckerNode&&r.destroy(this.html5CheckerNode),t}})}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(1),n(3),n(13),n(2),n(64)],void 0===(i=function(t,e,n,r,i){return t([],{POLLING_DELAY:5e3,constructor:function(t){this.mount=null,this._cuePoint=[],this._adBreaks=[],this._npChecker=0,this._npTimerId=null,this._init(t)},_init:function(t){var o;this.nowPlayingApi=new i(t,new n),o=this.nowPlayingApi.target,this._onCuePointHandler=r.hitch(this,this._onCuePoint),this._onEmptyCuePointHandler=r.hitch(this,this._onEmptyCuePoint),null!=o&&(e(o,"cue-point",this._onCuePointHandler),e(o,"cue-point-empty",this._onEmptyCuePointHandler))},startCuePointsListener:function(t){this.mount=t,this._getNowPlaying(this.mount),this._npTimerId=setInterval(r.hitch(this,(function(){r.hitch(this,this._getNowPlaying(this.mount))})),this.POLLING_DELAY)},stopCuePointsListener:function(){clearInterval(this._npTimerId),this._cuePoint.length>0&&this._cuePoint.pop()},setTrackCuePointCallback:function(t){this._trackCuePointCallback=t},setAdBreakCuePointCallback:function(t){this._adBreakCuePointCallback=t},_getNowPlaying:function(t){this.nowPlayingApi.load({mount:t,hd:!1,numberToFetch:1,eventType:"track",mode:"nowPlaying"})},_onCuePoint:function(t){this.currentCuePoint=t.data.cuePoint,this.currentCuePoint.adUrl=null,this.currentCuePoint.cueTimeDuration=parseInt(this.currentCuePoint.cueTimeDuration)>0?parseInt(this.currentCuePoint.cueTimeDuration):15e3,this.currentMount=t.data.mount;var e=this.currentCuePoint.type,n=this.currentCuePoint.timestamp;if("ad"==e){if("endbreak"==this.currentCuePoint.adType)return;this._onAdBreak(n)}else{var r=this.currentCuePoint.artistName,i=this.currentCuePoint.cueTitle;if(this._cuePoint.length>0)for(var o=0;o<this._cuePoint.length;o++)if(this._cuePoint[o].artist==r&&this._cuePoint[o].title==i)return;null!=r&&null!=i&&this._onTrack(r,i)}},_onTrack:function(t,e){this._cuePoint.length>1&&this._cuePoint.shift(),this._cuePoint.push({artist:t,title:e}),this._trackCuePointCallback({mount:this.currentMount,cuePoint:this.currentCuePoint})},_onEmptyCuePoint:function(){this._npChecker+=1,3==this._npChecker&&(clearInterval(this._npTimerId),this._npChecker=0)},_onAdBreak:function(t){0==this._adBreakChecker(t)&&this._adBreakCuePointCallback({mount:this.currentMount,cuePoint:this.currentCuePoint})},_adBreakChecker:function(t){if(0==this._adBreaks.length)return this._adBreaks.push({timestamp:t}),0==this._cuePoint.length;for(var e=0;e<this._adBreaks.length;e++)if(this._adBreaks[e].timestamp==t)return!0;return this._adBreaks.length>2&&this._adBreaks.shift(),this._adBreaks.push({timestamp:t}),!1}})}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i,o=n(18),a=n(20),s=n(36),u=(n(62),n(22));r=[n(1),n(13),n(2),n(11),n(19),n(7),n(39),n(71),n(150),n(133)],void 0===(i=function(t,e,n,r,i,l,c,d,h,f){return t([e],{statusMap:{abort:{status:"connecting",code:"LIVE_CONNECTING"},canPlay:{status:"buffering",code:"LIVE_BUFFERING"},canPlayThrough:{status:"onAir",code:"LIVE_PLAYING"},dataLoading:{status:"buffering",code:"LIVE_BUFFERING"},emptied:{status:"connecting",code:"LIVE_CONNECTING"},ended:{status:"disconnected",code:"LIVE_STOP"},error:{status:"streamUnavailable",code:"LIVE_FAILED"},loadStart:{status:"connecting",code:"LIVE_CONNECTING"},pause:{status:"paused",code:"LIVE_PAUSE"},play:{status:"onAir",code:"LIVE_PLAYING"},progress:{status:"onAir",code:"LIVE_PLAYING"},reconnecting:{status:"reconnecting",code:"LIVE_RECONNECTING"},stalled:{status:"disconnected",code:"LIVE_STOP"},stop:{status:"disconnected",code:"LIVE_STOP"},suspend:{status:"connecting",code:"LIVE_CONNECTING"},waiting:{status:"buffering",code:"LIVE_BUFFERING"},playbackNotAllowed:{status:"playbackNotAllowed",code:"PLAY_NOT_ALLOWED"}},constructor:function(t,e){this.playerNode=t,this.cfg=e,this.html5Node=null,this.audioNode=null,this.connections=null,this._playbackStatusCallback=null,this._cuePointCallback=null,this._adBreakCallback=null,this._hlsCuePointCallback=null,this._speechCuePointCallback=null,this._customCuePointCallback=null,this._streamStartCallback=null,this._streamStopCallback=null,this._streamFailedCallback=null,this.isPaused=!1,this.audioEventListenersAttached=!1},setPlaybackStatusHandler:function(t){this._playbackStatusCallback=t},setCuePointHandler:function(t){this._cuePointCallback=t},setAdBreakHandler:function(t){this._adBreakCallback=t},setHlsCuePointHandler:function(t){this._hlsCuePointCallback=t},setSpeechCuePointHandler:function(t){this._speechCuePointCallback=t},setCustomCuePointHandler:function(t){this._customCuePointCallback=t},setStreamStartHandler:function(t){this._streamStartCallback=t},setStreamStopHandler:function(t){this._streamStopCallback=t},setStreamFailedHandler:function(t){this._streamFailedCallback=t},play:function(t){t&&(this._liveApiParams=t,this.mount=this._liveApiParams.mount,this.__isSidebandMetadataActivated()?(this.sidebandMetadata&&this.sidebandMetadata.destroy(),this.__activateSidebandMetadata()):this.__isASyncCuePointDispatcherActivated()&&this.__activateAsyncCuePointDispatcher(),this.__initAudioElement(),s.isSupported()&&this._liveApiParams.isHLS&&"Safari"!==a.name?u.playAudio(this._liveApiParams.url,!0,!0):u.playAudio(this._liveApiParams.url,!1,!0))},pause:function(){this.isPaused=!1,u.stop()},stop:function(){u.stop()},resume:function(){u.resume()},seekStream:function(t){},seekLive:function(){},setVolume:function(t){u.setVolume(t)},mute:function(){!u.audioNode||u.audioNode.paused||u.isStopped()||u.mute()},unMute:function(t){u.isStopped()&&(u.unMute(),this.play(t))},__initAudioElement:function(){0==this.audioEventListenersAttached&&(u.on("destroyAudioElement",this.__destroyAudioElement),u.on("html5-playback-status",n.hitch(this,this.__onHTML5PlayerStatus)),this.audioEventListenersAttached=!0)},__destroyAudioElement:function(){u.removeAllListeners("html5-playback-status"),u.removeAllListeners("destroyAudioElement"),this.sidebandMetadata&&this.sidebandMetadata.destroy()},__onHTML5PlayerStatus:function(t){this.__emitPlaybackStatus(t),t.type==c.PLAY?(!this.isPaused&&this.__isSidebandMetadataActivated()&&this.sidebandMetadata?this.sidebandMetadata.init(this._liveApiParams):this.aSyncCuePointDispatcher&&this.aSyncCuePointDispatcher.startCuePointsListener(this.mount),this.isPaused=!1,this._streamStartCallback()):t.type!=c.STOP&&t.type!=c.PAUSE&&t.type!=c.ERROR&&t.type!=c.ABORT&&t.type!=c.ENDED&&t.type!=c.PLAY_NOT_ALLOWED||(this.aSyncCuePointDispatcher&&this.aSyncCuePointDispatcher.stopCuePointsListener(),t.type!=c.STOP&&t.type!=c.ERROR&&t.type!=c.ABORT&&t.type!=c.PLAY_NOT_ALLOWED||(this.__isSidebandMetadataActivated()&&this.sidebandMetadata&&this.sidebandMetadata.destroy(),this._streamStopCallback()),t.type!=c.ERROR&&t.type!=c.ENDED||this._streamFailedCallback())},__isSidebandMetadataActivated:function(){return null!=this._liveApiParams&&null!=this._liveApiParams.sbmConfig&&null!==this._liveApiParams.sbmConfig&&this._liveApiParams.sbmConfig.active&&this._liveApiParams.sbmConfig.info.active},__isASyncCuePointDispatcherActivated:function(){return null!=this._liveApiParams&&this._liveApiParams.sbmConfig&&this._liveApiParams.sbmConfig.aSyncCuePointFallback},__onCuePoint:function(t){this._cuePointCallback(t)},__onHlsCuePoint:function(t){this._hlsCuePointCallback(t)},__onSpeechCuePoint:function(t){this._speechCuePointCallback(t)},__onCustomCuePoint:function(t){this._customCuePointCallback(t)},__onAdBreak:function(t){this._adBreakCallback(t)},__activateSidebandMetadata:function(){this.sidebandMetadata||(this.sidebandMetadata=new h(this.audioNode)),this._liveApiParams.url=this.sidebandMetadata.getStreamConnectionUrl(this._liveApiParams.url),this.sidebandMetadata.setTrackCuePointCallback(n.hitch(this,this.__onCuePoint)),this.sidebandMetadata.setAdBreakCuePointCallback(n.hitch(this,this.__onAdBreak)),this.sidebandMetadata.setHlsCuePointCallback(n.hitch(this,this.__onHlsCuePoint)),this.sidebandMetadata.setSpeechCuePointCallback(n.hitch(this,this.__onSpeechCuePoint)),this.sidebandMetadata.setCustomCuePointCallback(n.hitch(this,this.__onCustomCuePoint)),this._liveApiParams.sbmConfig.aSyncCuePointFallback&&this.sidebandMetadata.setErrorCallback(n.hitch(this,this.__onSidebandMetadataError))},__activateAsyncCuePointDispatcher:function(){null==this.aSyncCuePointDispatcher&&(this.aSyncCuePointDispatcher=new f(this.cfg),this.aSyncCuePointDispatcher.setTrackCuePointCallback(n.hitch(this,this.__onCuePoint)),this.aSyncCuePointDispatcher.setAdBreakCuePointCallback(n.hitch(this,this.__onAdBreak)))},__onSidebandMetadataError:function(){u.isStopped()||(this.aSyncCuePointDispatcher||this.__activateAsyncCuePointDispatcher(),this.aSyncCuePointDispatcher.startCuePointsListener(this.mount))},__emitPlaybackStatus:function(t){if(null!=this._playbackStatusCallback){var e=o.getLocalization();if(null==e)return;var n=this.statusMap[t.type];n&&e[n.status]&&this._playbackStatusCallback({status:e[n.status],code:n.code})}}})}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i,o=n(18);r=[n(1),n(2),n(3),n(13),n(11),n(19),n(23),n(4),n(71)],void 0===(i=function(t,e,n,r,i,a,s,u,l){return t([r],{constructor:function(t){this.playerNode=t,this.html5Player=new l,this.html5Player.on("html5-playback-status",e.hitch(this,this.__onHTML5PlayerStatus)),this.html5OnDemandNode=this.__createHTML5Elements(),this._playbackStatusCallback=null,this._clickTrackingElementClickedCallback=null,this._adServerType=null,this._clickThrough=null,this._clickTrackings=null,this.onVideoNodeClickHandler=n(this.html5OnDemandNode,"click",e.hitch(this,this.__onVideoNodeClick)),this.onVideoNodeTouchHandler=n(this.html5OnDemandNode,"touchstart",e.hitch(this,this.__onVideoNodeClick))},play:function(t){this._adServerType=null,this.html5Player.play({url:t.mediaUrl,type:t.mediaFormat,mediaNode:this.audioNode,isLive:!1})},playAd:function(t){this.__initHtml5AdPlayer(this.videoNode),this._clickThrough=t.clickThrough,this._clickTrackings=t.clickTrackings,this._adServerType=t.adServerType,this.html5Player.play({url:t.mediaUrl,type:t.mediaFormat,mediaNode:this.videoNode,isLive:!1})},skip:function(){null!=this.html5Player&&(this.html5Player.skip(),this.__resetHTML5ElementsStyle(this.mediaNode))},stop:function(){null!=this.html5Player&&this.html5Player.stop()},pause:function(){null!=this.html5Player&&this.html5Player.pause()},resume:function(){null!=this.html5Player&&this.html5Player.resume()},seek:function(t){null!=this.html5Player&&this.html5Player.seek(t)},setVolume:function(t){null!=this.html5Player&&this.html5Player.setVolume(t)},mute:function(){null!=this.html5Player&&this.html5Player.mute()},unMute:function(){null!=this.html5Player&&this.html5Player.unMute()},initMediaTag:function(){this.audioNode||(this.audioNode=this.__createMediaTag("audio")),this.videoNode||(this.videoNode=this.__createMediaTag("video"))},setPlaybackStatusHandler:function(t){this._playbackStatusCallback=t},setClickTrackingElementClickedHandler:function(t){this._clickTrackingElementClickedCallback=t},clean:function(){null!=this.audioNode&&(u("ie11")?(i.destroy(this.audioNode),this.audioNode=null):(a.has(this.audioNode,"src")&&a.remove(this.audioNode,"src"),"function"==typeof this.audioNode.webkitExitFullScreen&&this.audioNode.webkitExitFullScreen())),null!=this.videoNode&&(u("ie11")?(i.destroy(this.videoNode),this.videoNode=null):(a.has(this.videoNode,"src")&&a.remove(this.videoNode,"src"),"function"==typeof window.document.exitFullscreen&&window.document.fullscreen&&window.document.exitFullscreen(),this.__resetHTML5ElementsStyle(this.videoNode))),this.__createHTML5Elements()},__onHTML5PlayerStatus:function(t){t.adServerType=this._adServerType,this.__emitPlaybackStatus(t)},__emitPlaybackStatus:function(t){if(null!=this._playbackStatusCallback){var e=o.getLocalization();if(null==e)return;this._adServerType||"canPlayThrough"!=t.type||(t.type="play");var n=this.statusMap[t.type];n&&(statusMsg=e[n.status]?e[n.status]:n.status,codeMsg=e[n.code]?e[n.code]:n.code,this._playbackStatusCallback({type:statusMsg,code:codeMsg,html5Node:t.mediaNode,adServerType:t.adServerType}))}},__createHTML5Elements:function(){if(null==this.html5OnDemandNode)return i.create("div",{id:"tdplayer_ondemand"},this.playerNode,"first")},__createMediaTag:function(t){if(t){var e=i.create(t,{id:"tdplayer_od_"+t+"node",type:t},this.html5OnDemandNode,"first");a.set(e,"height","0%"),a.set(e,"width","0%"),a.set(e,"x-webkit-airplay","allow");var n=i.create("source",{id:"tdplayer_od"+t+"source"},e,"first");a.set(n,"src",""),a.set(e,"playsinline","");try{e.play().catch((function(t){})),e.pause()}catch(t){}return e}},__initHtml5AdPlayer:function(t){this.initHTMLElementsStyle(t),this.isVideoClicked=!1},__resetHTML5ElementsStyle:function(t){t&&(s.set(t,"width","0px"),s.set(t,"height","0px"),s.set(t,"display","none"))},initHTMLElementsStyle:function(t){t&&(s.set(t,"width","100%"),s.set(t,"height","100%"),s.set(t,"display","block"),s.set(this.html5OnDemandNode,"width","100%"),s.set(this.html5OnDemandNode,"height","100%"),s.set(this.html5OnDemandNode,"background-color","#000000"),s.set(this.html5OnDemandNode,"display","block"))},__onVideoNodeClick:function(t){null!=this._clickThrough&&("touchstart"==t.type&&this.onVideoNodeClickHandler.remove(),this._clickTrackingElementClickedCallback({clickThrough:this._clickThrough,clickTrackings:this._clickTrackings}))},statusMap:{canPlay:{status:"buffering",code:"MEDIA_BUFFERING"},canPlayThrough:{status:"buffering",code:"MEDIA_BUFFERING"},dataLoading:{status:"buffering",code:"MEDIA_BUFFERING"},emptied:{status:"buffering",code:"MEDIA_BUFFERING"},ended:{status:"ended",code:"MEDIA_ENDED"},error:{status:"error",code:"MEDIA_ERROR"},loadStart:{status:"buffering",code:"MEDIA_BUFFERING"},pause:{status:"pause",code:"MEDIA_PAUSED"},play:{status:"play",code:"MEDIA_STARTED"},stalled:{status:"stop",code:"MEDIA_STOPPED"},stop:{status:"stop",code:"MEDIA_STOPPED"},suspend:{status:"buffering",code:"MEDIA_BUFFERING"},waiting:{status:"buffering",code:"MEDIA_BUFFERING"},timeupdate:{status:"timeupdate",code:"MEDIA_TIME_UPDATE"},playbackNotAllowed:{status:"playbackNotAllowed",code:"PLAY_NOT_ALLOWED"}}})}.apply(e,r))||(t.exports=i)},function(t,e){t.exports=function(t){this.url=null,this.mount=null,function(t,e){t.url=e.url?e.url._text:null,t.mount=e.mount?e.mount._text:null}(this,t)}},function(t,e){t.exports=function(t){this.index=null,this.codec=null,this.bitRate=null,this.sampleRate=null,this.codec=null,this.channels=null,function(t,e){t.index=parseInt(e._attr.index._value),t.codec=e._attr.codec._value,t.bitRate=parseInt(e._attr.bitrate._value),t.sampleRate=parseInt(e._attr.samplerate._value),t.codec=e._attr.codec._value,t.channels=parseInt(e._attr.channels._value),t.isMP3=-1!==t.codec.indexOf("mp3"),t.isAAC=-1!==t.codec.indexOf("aac")}(this,t)}},function(t,e,n){var r=n(8);t.exports=function(t){if(this.streamingConnections=t,this.totalIteration=1,this.first=!1,this.last=!1,this.streamingConnectionIndex=0,r.isEmpty(this.streamingConnections))throw new Error("ConnectionIterator::constructor At least one connection is needed.");this.reset=function(){this.streamingConnectionIndex=0},this.current=function(){return this.streamingConnections[this.streamingConnectionIndex]},this.next=function(){return this.first=!1,this.streamingConnectionIndex++,this.last=r.last(this.streamingConnections)===this.streamingConnections[this.streamingConnectionIndex],this.current()},this.hasLooped=function(){return this.last},this.isLastConnectionByMount=function(){var t=r.groupBy(this.streamingConnections,"mount")[this.current().mount].length;return this.totalIteration===t?(this.totalIteration=1,!0):(this.totalIteration++,!1)},this.reset()}},function(t,e,n){var r=n(8),i=n(15),o=n(140),a=n(143),s=n(72),u=n(30),l=n(21).getProtocol();t.exports=function(t,e,n,c,d,h,f,p){function g(t,e){return r.flatMap(t,(function(t){return r.flatMap(t.servers,(function(n){return t.transports.map((function(i){var o=function(t){return t.mediaFormat.audioTracks[0].isMP3?".mp3":function(t){return!t.mediaFormat.audioTracks[0].isAAC||t.isAudioAdaptive||t.hasHLS()||t.hasHLSTS()?"":".aac"}(t)}(t),a=function(t){var e=null;return t.hasHLS()||t.mediaFormat.isAudioAdaptive?e="application/x-mpegURL":t.mediaFormat.audioTracks[0].isAAC?e="audio/mp4":t.mediaFormat.audioTracks[0].isMP3&&(e="audio/mpeg;codecs=mp3"),e}(t);return{url:n+"/"+t.mount+(i.mountSuffix?i.mountSuffix:"")+("html5"===e.toLowerCase()?o:""),mount:t.mount,isGeoBlocked:t.status.isGeoBlocked,isAudioAdaptive:t.mediaFormat.isAudioAdaptive,alternateContent:t.alternateContent,mimeType:a,format:t.format,uuidEnabled:r.some(t.metrics,(function(t){return"uuid"===t.name})),sendPageUrl:t.sendPageURL,hasVideo:t.mediaFormat.hasVideo,type:t.mediaFormat.type,metadata:t.metadata,tags:t.tags,mountpoint:t,isHLS:!!i.transport&&"hls"===i.transport.toLowerCase(),isHLSTS:!!i.transport&&"hlsts"===i.transport.toLowerCase()}}))}))}))}this.DEFAULT_TRANSPORTS=["http","hls","hlsts"],this.RTMP_TRANSPORTS=["rtmpe","rtmpte","rtmp","rtmpt"],this.mountPointsError=[];var m=new i(t),v=p?l+"//"+p+"-"+m.endpoint.liveStream:l+"//"+m.endpoint.liveStream,y=this;this.getStreamingConnections=function(t,r,i){return new o(v).getLiveStreamConfig(t).then((function(t){var o=u.toSafeArray(t.mountpoints.mountpoint).filter((function(t){return t.status["status-code"]._text>=300&&y.mountPointsError.push(new a(t)),t.status["status-code"]._text<300})).map((function(t){return new a(t)}));return g(o=s.filterMountPoints(o,e,n,r,i,!c,!d,h,f),n)}))}}},function(t,e,n){function r(t,e){return o.Promise((function(n,r,i){(new u).request(t,e,{handleAs:"xml",preventCache:!0,query:e,headers:{"X-Requested-With":null,"Content-Type":"text/plain; charset=utf-8"}},(function(t,e){t.station||t.mount,n(e)}),(function(t,e){t.station?console.error("liveStreamAPI::_onLoadError - station:"+t.station):t.mount&&console.error("liveStreamAPI::_onLoadError - mount:"+t.mount),r(e)}))}))}function i(t){var e=a.assign({},t);if(null==e||null==e)throw new Error("liveStreamAPI::getLiveStreamConfig() A query must be provided.");if("string"==typeof e&&(e={station:e}),"object"!=_typeof(e))throw new Error("liveStreamAPI::getLiveStreamConfig() A query object must be provided.");if(!e.station&&!e.mount)throw new Error("liveStreamAPI::getLiveStreamConfig(): A query must contain at least a station or mount parameter.");return e.transports&&0!=e.transports.length||(e.transports=l),e.transports&&(e.transports=e.transports.join(",")),e}var o=n(96),a=n(8),s=n(16),u=n(10),l=["http","hls","hlsts"],c=6e4,d=1.9;t.exports=function(t){var e=this;this.configs=[],this._requestProvisioningData=r,this.getConfig=function(t){var e;return t.station?e=this.configs[t.station]:delete t.station,t.mount?e=this.configs[t.mount+"_MOUNT"]:delete t.mount,e},this.getLiveStreamConfig=function(n){return o.Promise((function(r,o){try{var a=i(n)}catch(t){o(t)}var u=e.getConfig(a);u&&u.lastRefreshTime+c>=(new Date).getTime()?r(u):(a.version=d,e._requestProvisioningData(t,a).then((function(t){var n=s.xmlToJson(t);a.station?(e.configs[a.station]=n,e.configs[a.station].lastRefreshTime=(new Date).getTime()):a.mount&&(e.configs[a.mount+"_MOUNT"]=n,e.configs[a.mount+"_MOUNT"].lastRefreshTime=(new Date).getTime()),r(n)})))}))}}},function(t,e,n){var r=n(8),i=n(30),o=n(137),a=n(149),s=n(62),u="audio-adaptive";t.exports=function(t){this.container=null,this.cuePoints=null,this.trackScheme=null,this.audioTracks=null,this.videoTracks=null,this.hasAudio=null,this.hasVideo=null,this.type=null,this.isAudioAdaptive=null,function(t,e){t.container=e._attr.container._value,t.cuePoints=e._attr.cuepoints._value,t.trackScheme=e._attr.trackScheme._value;var n=i.toSafeArray(e.audio);t.audioTracks=n.map((function(t){return new o(t)}));var l=i.toSafeArray(e.video);t.videoTracks=l.map((function(t){return new a(t)})),t.isAudioAdaptive=t.trackScheme===u,t.hasAudio=!r.isEmpty(t.audioTracks),t.hasVideo=!r.isEmpty(t.videoTracks),t.type=t.hasVideo?s.VIDEO:s.AUDIO}(this,t)}},function(t,e){t.exports=function(t){this.shoutcastV1=null,this.shoutcastV2=null,this.sseSideband=null,function(t,e){t.shoutcastV1=e["shoutcast-v1"]?{active:e["shoutcast-v1"]._attr.enabled._value,mountSuffix:e["shoutcast-v1"]._attr.mountSuffix._value}:null,t.shoutcastV2=e["shoutcast-v2"]?{active:e["shoutcast-v2"]._attr.enabled._value,mountSuffix:e["shoutcast-v2"]._attr.mountSuffix._value}:null,t.sseSideband=e["sse-sideband"]?{active:e["sse-sideband"]._attr.enabled._value,streamSuffix:e["sse-sideband"]._attr.streamSuffix._value,metadataSuffix:e["sse-sideband"]._attr.metadataSuffix._value}:null}(this,t)}},function(t,e,n){var r=n(8),i=n(30),o=n(136),a=n(146),s=n(147),u=n(148),l=n(142),c=n(145),d=n(141),h=n(144);t.exports=function(t){h.call(this),function(t,e){t.alternateContent=e["alternate-content"]?new o(e["alternate-content"]):null,t.mount=e.mount._text||null,t.status=new a(e.status),e.status["status-code"]._text<300&&(t.tags=!e._attr||e._attr.tags||""===e._attr.tags._value?[]:e._attr.tags._value.split(",").map((function(t){return new s(t)})),t.transports=i.toSafeArray(e.transports.transport).map((function(t){return new u(t)})),t.metadata=new l(e.metadata),t.servers=new c(e.servers).servers,t.mediaFormat=new d(e["media-format"]),t.metrics=!e.metrics||r.isEmpty(e.metrics.tag)?[]:i.toSafeArray(e.metrics.tag).map((function(t){return new s(t)})),t.format=e.format._text||null,t.bitRate=r.toSafeInteger(e.bitrate._text),t.authentication=!!e.authentication&&!!parseInt(e.authentication._text),t.timeout=e.timeout?r.toSafeInteger(e.timeout._text):0,t.sendPageURL=!!e["send-page-url"]&&!!parseInt(e["send-page-url"]._text),t.isAvailable=!t.status.isError&&!t.status.isGeoBlocked&&!r.isEmpty(t.servers))}(this,t),this.hasTag=function(t){return r.some(this.tags,(function(e){return e.name==t}))},this.hasMetric=function(t){return r.some(this.metrics,(function(e){return e.name===t}))}}},function(t,e,n){var r=n(8);t.exports=function(){this.hasHLS=function(t){return t||(t=this),r.some(t.transports,(function(t){return"hls"===t.transport}))},this.hasHLSTS=function(t){return t||(t=this),r.some(t.transports,(function(t){return"hlsts"===t.transport}))}}},function(t,e,n){var r=n(8),i=n(30);t.exports=function(t){this.servers=null,function(t,e){t.servers=r.flatMap(i.toSafeArray(e.server),(function(t){var e=t.ip._text;return i.toSafeArray(t.ports.port).map((function(t){var n=t._attr.type._value,r=t._text;return n+"://"+e+":"+r}))}))}(this,t)}},function(t,e){t.exports=function(t){this.statusCode=null,this.message=null,this.isError=!1,this.isGeoBlocked=!1,function(t,e){t.statusCode=e["status-code"]?e["status-code"]._text:-1,t.message=e["status-message"]?e["status-message"]._text:null,t.isError=t.statusCode>=300||-1===t.statusCode,t.isGeoBlocked=453===t.statusCode}(this,t)}},function(t,e){t.exports=function(t){this.name=null,function(t,e){t.name=e||null}(this,t)}},function(t,e){t.exports=function(t){this.mountSuffix=null,this.transport=null,function(t,e){t.mountSuffix=e._attr?e._attr.mountSuffix._value:null,t.transport=e._text||null}(this,t)}},function(t,e){t.exports=function(t){this.index=null,this.codec=null,this.bitRate=null,this.frameRate=null,this.width=null,this.height=null,this.aspect=null,this.keyframeInterval=null,function(t,e){t.index=parseInt(e._attr.index._value),t.codec=e._attr.codec._value,t.bitRate=parseInt(e._attr.bitrate._value),t.frameRate=parseFloat(e._attr.framerate._value),t.width=parseInt(e._attr.width._value),t.height=parseInt(e._attr.height._value),t.aspect=parseFloat(e._attr.aspect._value),t.keyframeInterval=parseInt(e._attr["keyframe-interval"]._value)}(this,t)}},function(t,e,n){var r,i;r=[n(1),n(3),n(2),n(151)],void 0===(i=function(t,e,n,r){return t([],{constructor:function(t){this._sessionId=null,this._mediaNode=t,this._streamTimer=null,this._timer=0,this._connectionTime=0,this._onPlayHandler=n.hitch(this,this.__onTimeUpdate)},init:function(t){this._connectionTime=(new Date).getTime(),this._streamTimer=setInterval(this._onPlayHandler,250),this.sidebandMetadataConnector=new r,this.sidebandMetadataConnector.setSidebandMetadataFallbackCallback(n.hitch(this,this.__onSidebandMetadataFallback)),this.sidebandMetadataConnector.connect(this.__getMetadataConnectionUrl(t.url,t.mount,t.sbmConfig))},destroy:function(){this.onTimeUpdateListener&&this.onTimeUpdateListener.remove(),clearInterval(this._streamTimer),this._timer=0,this._connectionTime=0,this.sidebandMetadataConnector&&this.sidebandMetadataConnector.destroy(),delete this.sidebandMetadataConnector},getStreamConnectionUrl:function(t){return t+(-1!=t.indexOf("?")?"&":"?")+"sbmid="+this.__generateSessionId()},setTrackCuePointCallback:function(t){this._trackCuePointCallback=t},setAdBreakCuePointCallback:function(t){this._adBreakCuePointCallback=t},setHlsCuePointCallback:function(t){this._hlsCuePointCallback=t},setSpeechCuePointCallback:function(t){this._speechCuePointCallback=t},setCustomCuePointCallback:function(t){this._customCuePointCallback=t},setErrorCallback:function(t){this._errorCallback=t},__getMetadataConnectionUrl:function(t,e,n){return t&&e&&null!==n&&null!==n.info?t.split("/")[0]+"//"+t.split("/")[2]+"/"+e+n.info.metadataSuffix+"?sbmid="+this._sessionId:null},__generateSessionId:function(){var t=(new Date).getTime();return this._sessionId="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?n:7&n|8).toString(16)})),this._sessionId},__onSidebandMetadataFallback:function(){this.destroy(),this._errorCallback({})},__onTimeUpdate:function(){this._timer=(new Date).getTime()-this._connectionTime,this.isStopped||this.isPaused||this.sidebandMetadataConnector&&this.sidebandMetadataConnector.getCurrentCuePoint()&&this._timer>=this.sidebandMetadataConnector.getCurrentCuePoint().timestamp&&("track"===this.sidebandMetadataConnector.getCurrentCuePoint().type?this._trackCuePointCallback({cuePoint:this.sidebandMetadataConnector.getCurrentCuePoint()}):"ad"===this.sidebandMetadataConnector.getCurrentCuePoint().type?this._adBreakCuePointCallback({cuePoint:this.sidebandMetadataConnector.getCurrentCuePoint()}):"hls"===this.sidebandMetadataConnector.getCurrentCuePoint().type?this._hlsCuePointCallback({cuePoint:this.sidebandMetadataConnector.getCurrentCuePoint()}):"speech"===this.sidebandMetadataConnector.getCurrentCuePoint().type?this._speechCuePointCallback({cuePoint:this.sidebandMetadataConnector.getCurrentCuePoint()}):"custom"===this.sidebandMetadataConnector.getCurrentCuePoint().type&&this._customCuePointCallback({cuePoint:this.sidebandMetadataConnector.getCurrentCuePoint()}),this.sidebandMetadataConnector.shiftCuePointQueue())}})}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(1),n(3),n(6),n(2),n(63),n(61),n(38),n(60)],void 0===(i=function(t,e,n,r,i,o,a,s){var u;return t([],{SUPPORTED_EVENTS:["onMetaData","onCuePoint","onCuePointPreview","onCuePointPreviewExpired"],MAX_BACKOFF_RETRY:3,cuePointMap:(u={timestamp:"timestamp",type:"name",cue_title:o.CUE_TITLE,track_artist_name:o.ARTIST_NAME,track_album_name:o.ALBUM_NAME,program_id:o.PROGRAM_ID,cue_time_duration:o.CUE_TIME_DURATION,cue_time_start:o.CUE_TIME_START,track_id:o.TRACK_ID,track_nowplaying_url:o.NOW_PLAYING_URL,track_cover_url:o.TRACK_COVER_URL,ad_id:a.AD_ID,ad_type:a.AD_TYPE},_defineProperty(u,"cue_title",a.CUE_TITLE),_defineProperty(u,"cue_time_duration",a.CUE_TIME_DURATION),_defineProperty(u,"ad_url",a.AD_URL),_defineProperty(u,"ad_vast_url",a.AD_VAST_URL),_defineProperty(u,"ad_vast",a.AD_VAST),_defineProperty(u,"hls_track_id",s.HLS_TRACK_ID),_defineProperty(u,"hls_segment_id",s.HLS_SEGMENT_ID),u),constructor:function(){this._eventSource=null,this._eventQueue=[],this._currentSbmUrl=null,this._backOffRetry=0,this.__onMessageHandler=r.hitch(this,this.__onMessage),this.__onOpenHandler=r.hitch(this,this.__onOpen),this.__onErrorHandler=r.hitch(this,this.__onError)},connect:function(t){this._currentSbmUrl=t,this.__subscribe(t),this.__resetBackOff()},destroy:function(){this.__unlisten(),this.__close()},getCurrentCuePoint:function(){return this._eventQueue.length>0?this._eventQueue[0]:null},shiftCuePointQueue:function(){this._eventQueue.length&&this._eventQueue.shift()},setSidebandMetadataFallbackCallback:function(t){this._sidebandMetadataFallbackCallback=t},__subscribe:function(t){null!=this._eventSource&&(this._eventSource.close(),this._eventSource=null),"undefined"!=typeof EventSource&&(this._eventSource=new EventSource(t),this.__listen())},__listen:function(){this._messageListener=e(this._eventSource,"message",this.__onMessageHandler),this._openListener=e(this._eventSource,"open",this.__onOpenHandler),this._errorListener=e(this._eventSource,"error",this.__onErrorHandler)},__unlisten:function(){this._messageListener&&this._messageListener.remove(),this._openListener&&this._openListener.remove(),this._errorListener&&this._errorListener.remove()},__close:function(){this._currentSbmUrl=null,null!=this._eventSource&&(this._eventSource.close(),this._eventSource=null)},__onMessage:function(t){var e=JSON.parse(t.data);if(null==e.type||this.__isSupportedEvent(e)){var n={};switch(e.type){case"onMetaData":this.__onMetadata(e);break;case"onCuePoint":n=this.__onCuePoint(e);break;case"onCuePointPreview":n=this.__onCuePointPreview(e);break;case"onCuePointPreviewExpired":n=this.__onCuePointPreviewExpired(e)}this._eventQueue.push(n)}},__onCuePoint:function(t){var e={};for(var n in e.parameters=t.parameters,e.timestamp=t.timestamp,e.type=t.name,t.parameters)this.cuePointMap[n]&&(e[this.cuePointMap[n]]=t.parameters[n]);return"ad"==e.type&&(e.isVastInStream=!!(null!=e[a.AD_VAST_URL]&&""!=e[a.AD_VAST_URL]||e[a.AD_VAST]&&""!=e[a.AD_VAST])),e},__onMetadata:function(t){},__onCuePointPreview:function(t){},__onCuePointPreviewExpired:function(t){},__onOpen:function(t){this.__resetBackOff()},__onError:function(t){console.error("sidebandMetadataConnector:error"),this._backOffRetry==this.MAX_BACKOFF_RETRY?this._sidebandMetadataFallbackCallback():this.__reconnect()},__isSupportedEvent:function(t){return-1!=n.indexOf(this.SUPPORTED_EVENTS,t.type)},__reconnect:function(){this._backOffRetry++,null!=this._currentSbmUrl&&this.__subscribe(this._currentSbmUrl)},__resetBackOff:function(){this._backOffRetry=0}})}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(1),n(2),n(10),n(31),n(6),n(73),n(74),n(3)],void 0===(i=function(t,e,n,r,i,o,a,s){return t([r],{constructor:function(t,e){this.artistData=null,this.inherited(arguments)},getName:function(){return null!=this.artistData?this.artistData.name:this.data.name},getBiography:function(){return this.artistData.biography},getBirthDate:function(){return this.artistData.beginDate},getEndDate:function(){return this.artistData.endDate},getBeginPlace:function(){return this.artistData.beginPlace},getEndPlace:function(){return this.artistData.endPlace},getIsGroup:function(){return this.artistData.isGroup},getCountry:function(){return this.artistData.country},getGenres:function(){for(var t=[],e=0;e<this.artistData.genres.length;e++)t.push(this.artistData.genres[e].name);return t},getSimilar:function(){return this.artistData.similars},getMembers:function(){return this.artistData.members},getWebsite:function(){return this.artistData.website},getTwitterUsername:function(){return this.artistData.twitter},getFacebookUrl:function(){return this.artistData.facebook},getAlbums:function(){var t;return null==this.albums&&(this.albums=[],i.forEach(this.artistData.albums,(function(e,n){t=new o(e,this.platformId),this.albums.push(t)}),this)),this.albums},getAlbumById:function(t){var e=-1;return i.forEach(this.getAlbums(),(function(n,r){n.id==t&&(e=r)}),this),e>-1?this.getAlbums()[e]:null},getPictures:function(){var t;return null==this.pictures&&(this.pictures=[],i.forEach(this.artistData.pictures,(function(e,n){e.artistId=this.id,t=new a(e,this.platformId),this.pictures.push(t)}),this)),this.pictures},getPictureById:function(t){var e=-1;return i.forEach(this.getPictures(),(function(n,r){n.id==t&&(e=r)}),this),e>-1?this.getPictures()[e]:null},fetchData:function(t){(t=null!=t&&t)&&(this.url=this.getDynamicArtistUrl(this.id)),0==this.alreadyFetched?(new n).request(this.url,{isDynamicCall:t},this.getRequestArgs(),e.hitch(this,this._onLoadComplete),e.hitch(this,this._onLoadError)):this.notify("artist-complete",{artistId:this.id})},fetchAlbumByIds:function(t){"string"==typeof t&&(t=[t]),this.albumsQueue=e.clone(t);for(var n,r=0;r<t.length;r++)(n=this.getAlbumById(t[r])).successCallback&&n.successCallback.remove(),n.errorCallback&&n.errorCallback.remove(),n.successCallback=s(n,"album-complete",e.hitch(this,this._onAlbumComplete)),n.errorCallback=s(n,"album-error",e.hitch(this,this._onAlbumComplete)),n.fetchData()},fetchPictureByIds:function(t){"string"==typeof t&&(t=[t]),this.picturesQueue=e.clone(t);for(var n,r=0;r<t.length;r++)(n=this.getPictureById(t[r])).successCallback&&n.successCallback.remove(),n.errorCallback&&n.errorCallback.remove(),n.successCallback=s(n,"picture-complete",e.hitch(this,this._onPictureComplete)),n.errorCallback=s(n,"picture-error",e.hitch(this,this._onPictureComplete)),n.fetchData()},_onLoadError:function(t,e){console.error(e),0==t.isDynamicCall?this.fetchData(!0):this.notify("artist-error",{artistId:this.id})},_onLoadComplete:function(t,e){this.artistData=e.artist,this.alreadyFetched=!0,this.notify("artist-complete",{artistId:this.id})},_onAlbumComplete:function(t,e){this._removeAlbumFromQueue(t.albumId),0==this.albumsQueue.length&&this.notify("album-complete",this.albums)},_removeAlbumFromQueue:function(t){var e=-1;i.forEach(this.albumsQueue,(function(n,r){n==t&&(e=r)}),this),e>-1&&this.albumsQueue.splice(e,1)},_onPictureComplete:function(t,e){this._removePictureFromQueue(t.pictureId),0==this.picturesQueue.length&&this.notify("picture-complete",this.pictures)},_removePictureFromQueue:function(t){var e=-1;i.forEach(this.picturesQueue,(function(n,r){n==t&&(e=r)}),this),e>-1&&this.picturesQueue.splice(e,1)}})}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(1),n(75),n(152),n(73)],void 0===(i=function(t,e,n,r){return t([],{constructor:function(t,e,n){this.songData=t,this.npeId=e,this.platformId=n,this.trackInstance=null,this.albumInstance=null,this.artistInstance=null,this.inherited(arguments)},track:function(){return null==this.songData.track?null:(null==this.trackInstance&&(this.trackInstance=new e(this.songData.track,this.platformId)),this.trackInstance)},artist:function(){return null==this.songData.artists?null:(null==this.artistInstance&&(this.artistInstance=new n(this.songData.artists[0],this.platformId)),this.artistInstance)},album:function(){return null==this.songData.album?null:(null==this.albumInstance&&(this.albumInstance=new r(this.songData.album,this.platformId)),this.albumInstance)}})}.apply(e,r))||(t.exports=i)}])},"object"==_typeof(exports)&&"object"==_typeof(module)?module.exports=e():(__WEBPACK_AMD_DEFINE_ARRAY__=[],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=e)?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}).call(this,__webpack_require__(6)(module))},function(t,e,n){"use strict";n.r(e);n(26);var r=n(0),i=n.n(r),o=(n(14),n(18),n(20),n(22),n(2)),a=n.n(o),s=n(8),u=n.n(s);function l(t){var e=i()("#"+t),n=e.data("background")?e.data("background"):"#333333",r=e.data("foreground")?e.data("foreground"):"#FFFFFF",o=e.data("background-hover")?e.data("background-hover"):n,a=e.data("foreground-hover")?e.data("foreground-hover"):r;function s(){i()("#"+t+" .transport-button").css({background:n,color:r,stroke:r,fill:r}),i()("#"+t+" .ui-slider").css("background",u()(r,.5)),i()("#"+t+" .ui-slider .ui-slider-handle").css({boxShadow:"none",border:"2px solid "+n,background:r})}s(),i()("#"+t+" .transport-button").hover((function(){i()(this).css({background:o,color:a,stroke:a,fill:a})}),s),i()("#"+t+" .ui-slider .ui-slider-handle").focus((function(){i()(this).css({boxShadow:a+" 0px 0px 0px 2px",background:a})})),i()("#"+t+" .ui-slider .ui-slider-handle").blur((function(){s()}))}var c=n(9),d=n.n(c);function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t){if(i()("#"+void 0).data("debug-log")){var e=i()("#"+void 0).data("log-element");if(e&&0!=i()(e).length){var n=i()(e);n.css("white-space","pre");var r="tdsdk_player_log_copy_button";0==i()("#"+r).length&&(n.append('<button id="'+r+'">Copy log</button>'),i()("#"+r).click((function(){d()(i()(e).text())}))),"object"==h(t)&&(t=JSON.stringify(t));var o=new Date;t="["+(o.getFullYear()+"-"+(o.getMonth()+1)+"-"+o.getDate()+" "+o.getHours()+":"+o.getMinutes()+":"+o.getSeconds())+"] "+t,n.append(t+"\n")}else console.log(t)}}var p=n(10),g=n.n(p),m=n(5),v=n.n(m),y=n(11),_=n.n(y),b=n(12),E=n.n(b);function A(t){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function T(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}new(function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.player_id=e,this.station=i()("#"+e).data("station"),this.autoplay=i()("#"+e).data("autoplay"),this.init_properties(),this.init_volume(),this.init_elements(),this.init_player()}var e,n,r;return e=t,(n=[{key:"init_properties",value:function(){this.STATUS=Object.freeze({INIT:"initializing",LOADING:"loading",PLAYING:"playing",STOPPED:"stopped"}),this.button_states={},this.button_states[this.STATUS.INIT]={class:"initializing",content:v.a+'<div class="status">Loading</div>'},this.button_states[this.STATUS.LOADING]={class:"loading",content:v.a+'<div class="status">Starting</div>'},this.button_states[this.STATUS.PLAYING]={class:"playing",content:E.a+'<div class="status">Stop</div>'},this.button_states[this.STATUS.STOPPED]={class:"stopped",content:_.a+'<div class="status">Play</div>'},this.cookie_expiration=new Date("December 31, 9999 01:01:00")}},{key:"init_volume",value:function(){var t=this;this.volume_settings=a.a.getJSON()["ktoo-stream-volumes"]?a.a.getJSON()["ktoo-stream-volumes"]:{};var e=75;this.volume_settings&&(this.volume_settings[this.station]>=0&&this.volume_settings[this.station]<=100?e=Math.max(15,this.volume_settings[this.station]):this.volume_settings.default&&(e=Math.max(15,this.volume_settings.default))),this.update_volume(e),this.conditional_volume((function(){i()("#"+t.player_id+" .volume-slider").slider({value:t.volume,slide:function(e,n){t.update_volume(n.value)}})}))}},{key:"init_elements",value:function(){var t=this;i()("#"+this.player_id).wrapInner("<div class='player_contents'></div>"),i()("#"+this.player_id).prepend(g.a),l(this.player_id),this.conditional_volume((function(){i()("#"+t.player_id+" .volume-slider-container").show()})),i()("#"+this.player_id).addClass("td_player_container"),this.td_container_id="td_container_"+Math.floor(1e4*Math.random()),i()("#"+this.player_id+" .td_container").attr("id",this.td_container_id),this.set_player_state("initializing")}},{key:"conditional_volume",value:function(t){var e=new Audio;e.addEventListener("volumechange",(function(e){t&&t()})),e.volume=.76543}},{key:"update_volume",value:function(t){this.volume=t,this.player&&"function"==typeof this.player.setVolume&&this.player.setVolume(t/100),this.volume_settings&&"object"==A(this.volume_settings)||(this.volume_settings={}),this.volume_settings[this.station]=t,this.volume_settings.default=t,a.a.set("ktoo-stream-volumes",this.volume_settings)}},{key:"get_volume",value:function(){return this.volume}},{key:"init_player",value:function(){var t=this,e={coreModules:[{id:"MediaPlayer",playerId:this.td_container_id,geoTargeting:!1,techPriority:["Html5","Flash"],audioAdaptive:!0}],playerReady:function(){t.on_player_ready()},configurationError:function(){t.on_player_error()},moduleError:function(){t.on_player_error()}};this.player=new TDSdk(e),f("Player initialized; TDSdk: "),f(this.player)}},{key:"set_player_state",value:function(t){f("set_player_state: "+t),i()("#"+this.player_id+" .transport-button").html(this.button_states[t].content),i()("#"+this.player_id+" .transport-button").attr("class",this.button_states[t].class+" transport-button"),this.player_state=t}},{key:"on_player_ready",value:function(){var t=this;f("on_player_ready"),this.set_player_state(this.STATUS.STOPPED),["player-ready","stream-start","stream-stop","stream-select","stream-config-ready","stream-config-error","stream-config-load-error","stream-fail","stream-error","track-cue-point","timeout-alert","timeout-reach","configuration-error"].forEach((function(e){t.player.addEventListener(e,(function(t){f("EVENT: "+e),f(t)}))})),this.player.addEventListener("stream-status",(function(e){t.on_status_change(e)})),f(this.autoplay),!0===this.autoplay||function(t,e){var n=window.location.href,r=new RegExp("([?&])"+t+"(=([^&#]*))?(&|#|$)");if(!r.exec(n))return!1;if(e){var i=n.replace(r,"$1"),o=new RegExp("[&?]s*$");i=i.replace(o,""),history.replaceState(null,"",i)}return!0}(this.autoplay,!0)?(f("attempting to autoplay: "+this.station),this.player.setVolume(this.get_volume()/100),this.player.play({station:this.station})):f("autoplay disabled"),i()("#"+this.player_id+" .transport-button").click((function(){switch(f("Transport clicked; state: "+t.player_state),t.player_state){case t.STATUS.STOPPED:f("player.setVolume"),t.player.setVolume(t.get_volume()/100),f("player.play; station: "+t.station),t.player.play({station:t.station}),f("done");break;case t.STATUS.LOADING:case t.STATUS.PLAYING:f("player.stop"),t.player.stop();default:f("Other state: "+t.player_state)}})),this.conditional_volume((function(){l(t.player_id),i()("#"+t.player_id+" .volume-slider").show(),t.player.setVolume(t.volume/100),i()("#"+t.player_id+" .volume-slider").slider({value:100*t.player.getVolume()})}))}},{key:"on_status_change",value:function(t){switch(f("EVENT: on_status_change"),f(t),t.data.code){case"LIVE_PAUSE":case"LIVE_STOP":this.set_player_state("stopped");break;case"LIVE_BUFFERING":case"LIVE_CONNECTING":case"LIVE_RECONNECTING":case"GETTING_STATION_INFORMATION":this.set_player_state("loading");break;case"LIVE_PLAYING":this.set_player_state("playing");break;case"LIVE_FAILED":case"STREAM_GEO_BLOCKED":case"STATION_NOT_FOUND":case"PLAY_NOT_ALLOWED":this.set_player_state("stopped")}}},{key:"on_player_error",value:function(t){f(object),f(object.data.errors)}}])&&T(e.prototype,n),r&&T(e,r),t}())("livestream_player")}]);
//# sourceMappingURL=player.js.map